<!DOCTYPE html> <html><head>
		<title>101、Go语言基础2</title>
		<base href="..\..\../">
		<meta id="root-path" root-path="..\..\../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Java知识体系构建 - 101、Go语言基础2">
		<meta property="og:title" content="101、Go语言基础2">
		<meta property="og:description" content="Java知识体系构建 - 101、Go语言基础2">
		<meta property="og:type" content="website">
		<meta property="og:url" content="02、多编程语言/03、go语言/01、go语言基础/101、go语言基础2.html">
		<meta property="og:image" content="02、多编程语言\03、go语言\01、go语言基础\assets\101、go语言基础2\img-20240112_214047.png">
		<meta property="og:site_name" content="Java知识体系构建">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript><link rel="preload" href="lib/styles/snippets.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/snippets.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title background-settings-workplace-theme-dark-in-the-sky notebook-liked-markdown-page-grid-notebook-1 layout-style-options-default bt-default-unordered-list default-ol-list-marker list-no-border bt-connected-indent-hover bt-colorful-connected-indent-hover folder-icons remove-arrow bt-toggle-colorful-folder folder-colorful-six table-width-100 tag-default admonition-bg-color-same style-options-for-admonition-plugin style-options-for-buttons-plugin dataview-list-style-pacman quiet-outline-optimize code-theme-bt-default mute-code-indent-line code-line-number whole-code-wrap"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles">mjx-container[jax=CHTML]{line-height:0}mjx-container [space="1"]{margin-left:.111em}mjx-container [space="2"]{margin-left:.167em}mjx-container [space="3"]{margin-left:.222em}mjx-container [space="4"]{margin-left:.278em}mjx-container [space="5"]{margin-left:.333em}mjx-container [rspace="1"]{margin-right:.111em}mjx-container [rspace="2"]{margin-right:.167em}mjx-container [rspace="3"]{margin-right:.222em}mjx-container [rspace="4"]{margin-right:.278em}mjx-container [rspace="5"]{margin-right:.333em}mjx-container [size="s"]{font-size:70.7%}mjx-container [size=ss]{font-size:50%}mjx-container [size=Tn]{font-size:60%}mjx-container [size=sm]{font-size:85%}mjx-container [size=lg]{font-size:120%}mjx-container [size=Lg]{font-size:144%}mjx-container [size=LG]{font-size:173%}mjx-container [size=hg]{font-size:207%}mjx-container [size=HG]{font-size:249%}mjx-container [width=full]{width:100%}mjx-box{display:inline-block}mjx-block{display:block}mjx-itable{display:inline-table}mjx-row{display:table-row}mjx-row>*{display:table-cell}mjx-mtext{display:inline-block;text-align:left}mjx-mstyle{display:inline-block}mjx-merror{display:inline-block;color:red;background-color:#ff0}mjx-mphantom{visibility:hidden}mjx-assistive-mml{top:0;left:0;clip:rect(1px,1px,1px,1px);user-select:none;position:absolute!important;padding:1px 0 0!important;border:0!important;display:block!important;width:auto!important;overflow:hidden!important}mjx-assistive-mml[display=block]{width:100%!important}mjx-math{display:inline-block;text-align:left;line-height:0;text-indent:0;font-style:normal;font-weight:400;font-size:100%;letter-spacing:normal;border-collapse:collapse;overflow-wrap:normal;word-spacing:normal;white-space:nowrap;direction:ltr;padding:1px 0}mjx-container[jax=CHTML][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=CHTML][display=true][width=full]{display:flex}mjx-container[jax=CHTML][display=true] mjx-math{padding:0}mjx-container[jax=CHTML][justify=left]{text-align:left}mjx-container[jax=CHTML][justify=right]{text-align:right}mjx-mi{display:inline-block;text-align:left}mjx-c{display:inline-block}mjx-utext{display:inline-block;padding:.75em 0 .2em}mjx-mo{display:inline-block;text-align:left}mjx-stretchy-h{display:inline-table;width:100%}mjx-stretchy-h>*{display:table-cell;width:0}mjx-stretchy-h>*>mjx-c{display:inline-block;transform:scaleX(1)}mjx-stretchy-h>*>mjx-c::before{display:inline-block;width:initial}mjx-stretchy-h>mjx-ext{overflow:clip visible;width:100%}mjx-stretchy-h>mjx-ext>mjx-c::before{transform:scaleX(500)}mjx-stretchy-h>mjx-ext>mjx-c{width:0}mjx-stretchy-h>mjx-beg>mjx-c{margin-right:-.1em}mjx-stretchy-h>mjx-end>mjx-c{margin-left:-.1em}mjx-stretchy-v{display:inline-block}mjx-stretchy-v>*{display:block}mjx-stretchy-v>mjx-beg{height:0}mjx-stretchy-v>mjx-end>mjx-c{display:block}mjx-stretchy-v>*>mjx-c{transform:scaleY(1);transform-origin:left center;overflow:hidden}mjx-stretchy-v>mjx-ext{display:block;height:100%;box-sizing:border-box;border:0 solid transparent;overflow:visible clip}mjx-stretchy-v>mjx-ext>mjx-c::before{width:initial;box-sizing:border-box}mjx-stretchy-v>mjx-ext>mjx-c{transform:scaleY(500) translateY(.075em);overflow:visible}mjx-mark{display:inline-block;height:0}mjx-mn{display:inline-block;text-align:left}mjx-msub{display:inline-block;text-align:left}mjx-texatom{display:inline-block;text-align:left}mjx-mfrac{display:inline-block;text-align:left}mjx-frac{display:inline-block;vertical-align:.17em;padding:0 .22em}mjx-frac[type="d"]{vertical-align:.04em}mjx-frac[delims]{padding:0 .1em}mjx-frac[atop]{padding:0 .12em}mjx-frac[atop][delims]{padding:0}mjx-dtable{display:inline-table;width:100%}mjx-dtable>*{font-size:2000%}mjx-dbox{display:block;font-size:5%}mjx-num{display:block;text-align:center}mjx-den{display:block;text-align:center}mjx-mfrac[bevelled]>mjx-num{display:inline-block}mjx-mfrac[bevelled]>mjx-den{display:inline-block}mjx-den[align=right],mjx-num[align=right]{text-align:right}mjx-den[align=left],mjx-num[align=left]{text-align:left}mjx-nstrut{display:inline-block;height:.054em;width:0;vertical-align:-.054em}mjx-nstrut[type="d"]{height:.217em;vertical-align:-.217em}mjx-dstrut{display:inline-block;height:.505em;width:0}mjx-dstrut[type="d"]{height:.726em}mjx-line{display:block;box-sizing:border-box;min-height:1px;height:.06em;border-top:.06em solid;margin:.06em -.1em;overflow:hidden}mjx-line[type="d"]{margin:.18em -.1em}mjx-mrow{display:inline-block;text-align:left}mjx-msup{display:inline-block;text-align:left}mjx-mtable{display:inline-block;text-align:center;vertical-align:.25em;position:relative;box-sizing:border-box;border-spacing:0px;border-collapse:collapse}mjx-mstyle[size="s"] mjx-mtable{vertical-align:.354em}mjx-labels{position:absolute;left:0;top:0}mjx-table{display:inline-block;vertical-align:-.5ex;box-sizing:border-box}mjx-table>mjx-itable{vertical-align:middle;text-align:left;box-sizing:border-box}mjx-labels>mjx-itable{position:absolute;top:0}mjx-mtable[justify=left]{text-align:left}mjx-mtable[justify=right]{text-align:right}mjx-mtable[justify=left][side=left]{padding-right:0!important}mjx-mtable[justify=left][side=right]{padding-left:0!important}mjx-mtable[justify=right][side=left]{padding-right:0!important}mjx-mtable[justify=right][side=right]{padding-left:0!important}mjx-mtable[align]{vertical-align:baseline}mjx-mtable[align=top]>mjx-table{vertical-align:top}mjx-mtable[align=bottom]>mjx-table{vertical-align:bottom}mjx-mtable[side=right] mjx-labels{min-width:100%}mjx-mtr{display:table-row;text-align:left}mjx-mtr[rowalign=top]>mjx-mtd{vertical-align:top}mjx-mtr[rowalign=center]>mjx-mtd{vertical-align:middle}mjx-mtr[rowalign=bottom]>mjx-mtd{vertical-align:bottom}mjx-mtr[rowalign=baseline]>mjx-mtd{vertical-align:baseline}mjx-mtr[rowalign=axis]>mjx-mtd{vertical-align:.25em}mjx-mtd{display:table-cell;text-align:center;padding:.215em .4em}mjx-mtd:first-child{padding-left:0}mjx-mtd:last-child{padding-right:0}mjx-mtable>*>mjx-itable>:first-child>mjx-mtd{padding-top:0}mjx-mtable>*>mjx-itable>:last-child>mjx-mtd{padding-bottom:0}mjx-tstrut{display:inline-block;height:1em;vertical-align:-.25em}mjx-labels[align=left]>mjx-mtr>mjx-mtd{text-align:left}mjx-labels[align=right]>mjx-mtr>mjx-mtd{text-align:right}mjx-mtd[extra]{padding:0}mjx-mtd[rowalign=top]{vertical-align:top}mjx-mtd[rowalign=center]{vertical-align:middle}mjx-mtd[rowalign=bottom]{vertical-align:bottom}mjx-mtd[rowalign=baseline]{vertical-align:baseline}mjx-mtd[rowalign=axis]{vertical-align:.25em}mjx-msqrt{display:inline-block;text-align:left}mjx-root{display:inline-block;white-space:nowrap}mjx-surd{display:inline-block;vertical-align:top}mjx-sqrt{display:inline-block;padding-top:.07em}mjx-sqrt>mjx-box{border-top:.07em solid}mjx-sqrt.mjx-tall>mjx-box{padding-left:.3em;margin-left:-.3em}mjx-munderover{display:inline-block;text-align:left}mjx-munderover:not([limits=false]){padding-top:.1em}mjx-munderover:not([limits=false])>*{display:block}mjx-msubsup{display:inline-block;text-align:left}mjx-script{display:inline-block;padding-right:.05em;padding-left:.033em}mjx-script>mjx-spacer{display:block}mjx-mspace{display:inline-block;text-align:left}mjx-c::before{display:block;width:0}.MJX-TEX{font-family:MJXZERO,MJXTEX}.TEX-B{font-family:MJXZERO,MJXTEX-B}.TEX-I{font-family:MJXZERO,MJXTEX-I}.TEX-MI{font-family:MJXZERO,MJXTEX-MI}.TEX-BI{font-family:MJXZERO,MJXTEX-BI}.TEX-S1{font-family:MJXZERO,MJXTEX-S1}.TEX-S2{font-family:MJXZERO,MJXTEX-S2}.TEX-S3{font-family:MJXZERO,MJXTEX-S3}.TEX-S4{font-family:MJXZERO,MJXTEX-S4}.TEX-A{font-family:MJXZERO,MJXTEX-A}.TEX-C{font-family:MJXZERO,MJXTEX-C}.TEX-CB{font-family:MJXZERO,MJXTEX-CB}.TEX-FR{font-family:MJXZERO,MJXTEX-FR}.TEX-FRB{font-family:MJXZERO,MJXTEX-FRB}.TEX-SS{font-family:MJXZERO,MJXTEX-SS}.TEX-SSB{font-family:MJXZERO,MJXTEX-SSB}.TEX-SSI{font-family:MJXZERO,MJXTEX-SSI}.TEX-SC{font-family:MJXZERO,MJXTEX-SC}.TEX-T{font-family:MJXZERO,MJXTEX-T}.TEX-V{font-family:MJXZERO,MJXTEX-V}.TEX-VB{font-family:MJXZERO,MJXTEX-VB}mjx-stretchy-h mjx-c,mjx-stretchy-v mjx-c{font-family:MJXZERO,MJXTEX-S1,MJXTEX-S4,MJXTEX,MJXTEX-A!important}@font-face{font-family:MJXZERO;src:url("lib/fonts/mathjax_zero.woff") format("woff")}@font-face{font-family:MJXTEX;src:url("lib/fonts/mathjax_main-regular.woff") format("woff")}@font-face{font-family:MJXTEX-B;src:url("lib/fonts/mathjax_main-bold.woff") format("woff")}@font-face{font-family:MJXTEX-I;src:url("lib/fonts/mathjax_math-italic.woff") format("woff")}@font-face{font-family:MJXTEX-MI;src:url("lib/fonts/mathjax_main-italic.woff") format("woff")}@font-face{font-family:MJXTEX-BI;src:url("lib/fonts/mathjax_math-bolditalic.woff") format("woff")}@font-face{font-family:MJXTEX-S1;src:url("lib/fonts/mathjax_size1-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S2;src:url("lib/fonts/mathjax_size2-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S3;src:url("lib/fonts/mathjax_size3-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S4;src:url("lib/fonts/mathjax_size4-regular.woff") format("woff")}@font-face{font-family:MJXTEX-A;src:url("lib/fonts/mathjax_ams-regular.woff") format("woff")}@font-face{font-family:MJXTEX-C;src:url("lib/fonts/mathjax_calligraphic-regular.woff") format("woff")}@font-face{font-family:MJXTEX-CB;src:url("lib/fonts/mathjax_calligraphic-bold.woff") format("woff")}@font-face{font-family:MJXTEX-FR;src:url("lib/fonts/mathjax_fraktur-regular.woff") format("woff")}@font-face{font-family:MJXTEX-FRB;src:url("lib/fonts/mathjax_fraktur-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SS;src:url("lib/fonts/mathjax_sansserif-regular.woff") format("woff")}@font-face{font-family:MJXTEX-SSB;src:url("lib/fonts/mathjax_sansserif-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SSI;src:url("lib/fonts/mathjax_sansserif-italic.woff") format("woff")}@font-face{font-family:MJXTEX-SC;src:url("lib/fonts/mathjax_script-regular.woff") format("woff")}@font-face{font-family:MJXTEX-T;src:url("lib/fonts/mathjax_typewriter-regular.woff") format("woff")}@font-face{font-family:MJXTEX-V;src:url("lib/fonts/mathjax_vector-regular.woff") format("woff")}@font-face{font-family:MJXTEX-VB;src:url("lib/fonts/mathjax_vector-bold.woff") format("woff")}mjx-stretchy-v.mjx-c7B mjx-beg mjx-c::before{content:"⎧";padding:.899em .889em .01em 0}mjx-stretchy-v.mjx-c7B mjx-ext mjx-c::before{content:"⎪";width:.889em}mjx-stretchy-v.mjx-c7B mjx-end mjx-c::before{content:"⎩";padding:.01em .889em .899em 0}mjx-stretchy-v.mjx-c7B mjx-mid mjx-c::before{content:"⎨";padding:1.16em .889em .66em 0}mjx-stretchy-v.mjx-c7B>mjx-mid{margin-top:-.91em;margin-bottom:-.91em}mjx-stretchy-v.mjx-c7B>mjx-end{margin-top:-.909em}mjx-stretchy-v.mjx-c7B>mjx-ext{height:50%;border-top-width:.879em;border-bottom-width:.879em}mjx-c.mjx-c1D434.TEX-I::before{padding:.716em .75em 0 0;content:"A"}mjx-c.mjx-c1D461.TEX-I::before{padding:.626em .361em .011em 0;content:"t"}mjx-c.mjx-c1D44E.TEX-I::before{padding:.441em .529em .01em 0;content:"a"}mjx-c.mjx-c1D45F.TEX-I::before{padding:.442em .451em .011em 0;content:"r"}mjx-c.mjx-c1D454.TEX-I::before{padding:.442em .477em .205em 0;content:"g"}mjx-c.mjx-c1D452.TEX-I::before{padding:.442em .466em .011em 0;content:"e"}mjx-c.mjx-c2212::before{padding:.583em .778em .082em 0;content:"−"}mjx-c.mjx-c31::before{padding:.666em .5em 0 0;content:"1"}mjx-c.mjx-c1D45B.TEX-I::before{padding:.442em .6em .011em 0;content:"n"}mjx-c.mjx-c30::before{padding:.666em .5em .022em 0;content:"0"}mjx-c.mjx-c2264::before{padding:.636em .778em .138em 0;content:"≤"}mjx-c.mjx-c32::before{padding:.666em .5em 0 0;content:"2"}mjx-c.mjx-c22EF::before{padding:.31em 1.172em 0 0;content:"⋯"}mjx-c.mjx-c1D456.TEX-I::before{padding:.661em .345em .011em 0;content:"i"}mjx-c.mjx-c3D::before{padding:.583em .778em .082em 0;content:"="}mjx-c.mjx-c1D457.TEX-I::before{padding:.661em .412em .204em 0;content:"j"}mjx-c.mjx-c3E::before{padding:.54em .778em .04em 0;content:">"}mjx-c.mjx-c1D45A.TEX-I::before{padding:.442em .878em .011em 0;content:"m"}mjx-c.mjx-c1D453.TEX-I::before{padding:.705em .55em .205em 0;content:"f"}mjx-c.mjx-c1D459.TEX-I::before{padding:.694em .298em .011em 0;content:"l"}mjx-c.mjx-c1D45C.TEX-I::before{padding:.441em .485em .011em 0;content:"o"}mjx-c.mjx-c28::before{padding:.75em .389em .25em 0;content:"("}mjx-c.mjx-c2B::before{padding:.583em .778em .082em 0;content:"+"}mjx-c.mjx-c29::before{padding:.75em .389em .25em 0;content:")"}mjx-c.mjx-c3C::before{padding:.54em .778em .04em 0;content:"<"}mjx-c.mjx-c2C::before{padding:.121em .278em .194em 0;content:","}mjx-c.mjx-c5B::before{padding:.75em .278em .25em 0;content:"["}mjx-c.mjx-c2E::before{padding:.12em .278em 0 0;content:"."}mjx-c.mjx-c210E.TEX-I::before{padding:.694em .576em .011em 0;content:"h"}mjx-c.mjx-c5D::before{padding:.75em .278em .25em 0;content:"]"}mjx-c.mjx-c34::before{padding:.677em .5em 0 0;content:"4"}mjx-c.mjx-c2217::before{padding:.465em .5em 0 0;content:"∗"}mjx-c.mjx-c35::before{padding:.666em .5em .022em 0;content:"5"}mjx-c.mjx-c1D447.TEX-I::before{padding:.677em .704em 0 0;content:"T"}mjx-c.mjx-c33::before{padding:.665em .5em .022em 0;content:"3"}mjx-c.mjx-c6C::before{padding:.694em .278em 0 0;content:"l"}mjx-c.mjx-c6F::before{padding:.448em .5em .01em 0;content:"o"}mjx-c.mjx-c67::before{padding:.453em .5em .206em 0;content:"g"}mjx-c.mjx-c2061::before{padding:0;content:""}mjx-c.mjx-c39::before{padding:.666em .5em .022em 0;content:"9"}mjx-c.mjx-c1D442.TEX-I::before{padding:.704em .763em .022em 0;content:"O"}mjx-c.mjx-c1D450.TEX-I::before{padding:.442em .433em .011em 0;content:"c"}mjx-c.mjx-c21::before{padding:.716em .278em 0 0;content:"!"}mjx-c.mjx-c3A9::before{padding:.704em .722em 0 0;content:"Ω"}mjx-c.mjx-c398::before{padding:.705em .778em .022em 0;content:"Θ"}mjx-c.mjx-c36::before{padding:.666em .5em .022em 0;content:"6"}mjx-c.mjx-c37::before{padding:.676em .5em .022em 0;content:"7"}mjx-c.mjx-c1D465.TEX-I::before{padding:.442em .572em .011em 0;content:"x"}mjx-c.mjx-c1D460.TEX-I::before{padding:.442em .469em .01em 0;content:"s"}mjx-c.mjx-c221E::before{padding:.442em 1em .011em 0;content:"∞"}mjx-c.mjx-c1D435.TEX-I::before{padding:.683em .759em 0 0;content:"B"}mjx-c.mjx-c1D451.TEX-I::before{padding:.694em .52em .01em 0;content:"d"}mjx-c.mjx-c1D467.TEX-I::before{padding:.442em .465em .011em 0;content:"z"}mjx-c.mjx-c1D462.TEX-I::before{padding:.442em .572em .011em 0;content:"u"}mjx-c.mjx-c1D44F.TEX-I::before{padding:.694em .429em .011em 0;content:"b"}mjx-c.mjx-c38::before{padding:.666em .5em .022em 0;content:"8"}mjx-c.mjx-c1D466.TEX-I::before{padding:.442em .49em .205em 0;content:"y"}mjx-c.mjx-c7B.TEX-S3::before{padding:1.45em .75em .949em 0;content:"{"}mjx-c.mjx-c2260::before{padding:.716em .778em .215em 0;content:"≠"}mjx-c.mjx-c22C5::before{padding:.31em .278em 0 0;content:"⋅"}mjx-c.mjx-c221A::before{padding:.8em .853em .2em 0;content:"√"}mjx-c.mjx-c3F::before{padding:.705em .472em 0 0;content:"?"}mjx-c.mjx-cA0::before{padding:0 .25em 0 0;content:" "}mjx-c.mjx-c7C::before{padding:.75em .278em .249em 0;content:"|"}mjx-c.mjx-c25::before{padding:.75em .833em .056em 0;content:"%"}mjx-c.mjx-c1D45D.TEX-I::before{padding:.442em .503em .194em 0;content:"p"}mjx-c.mjx-c1D443.TEX-I::before{padding:.683em .751em 0 0;content:"P"}mjx-c.mjx-c1D463.TEX-I::before{padding:.443em .485em .011em 0;content:"v"}mjx-c.mjx-c2265::before{padding:.636em .778em .138em 0;content:"≥"}mjx-c.mjx-c1D436.TEX-I::before{padding:.705em .76em .022em 0;content:"C"}mjx-c.mjx-c2F::before{padding:.75em .5em .25em 0;content:"/"}mjx-c.mjx-c2211.TEX-S2::before{padding:.95em 1.444em .45em 0;content:"∑"}mjx-c.mjx-c2248::before{padding:.483em .778em 0 0;content:"≈"}mjx-c.mjx-c2261::before{padding:.464em .778em 0 0;content:"≡"}mjx-c.mjx-c221A.TEX-S1::before{padding:.85em 1.02em .35em 0;content:"√"}mjx-c.mjx-c24::before{padding:.75em .5em .056em 0;content:"$"}mjx-c.mjx-c1D458.TEX-I::before{padding:.694em .521em .011em 0;content:"k"}mjx-c.mjx-c2192::before{padding:.511em 1em .011em 0;content:"→"}mjx-c.mjx-c21A6::before{padding:.511em 1em .011em 0;content:"↦"}mjx-c.mjx-c223C::before{padding:.367em .778em 0 0;content:"∼"}</style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="101、Go语言基础2"><p>101、Go语言基础2</p></h1><div class="heading-wrapper"><h2 data-heading="二、Go 基础语法" class="heading" id="二、Go_基础语法"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>二、Go 基础语法</h2><div class="heading-children"><div class="heading-wrapper"><h3 data-heading="零）基本规范" class="heading" id="零）基本规范"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>零）基本规范</h3><div class="heading-children"><div class="heading-wrapper"><h4 data-heading="1、注释" class="heading" id="1、注释"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1、注释</h4><div class="heading-children"><div><p>Go 语言的注释主要分成两类，分别是单行注释和多行注释。</p></div><div><ul>
<li data-line="0">单行注释简称行注释，是最常见的注释形式，可以在任何地方使用以 <code>//</code> 开头的单行注释；</li>
<li data-line="1">多行注释简称块注释，以 <code>/*</code> 开头，并以 <code>*/</code> 结尾，且不可以嵌套使用，多行注释一般用于包的文档描述或注释成块的代码片段。</li>
</ul></div><div><p>单行注释的格式如下所示</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//单行注释</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>多行注释的格式如下所示</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">/*
第一行注释
第二行注释
...
*/</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>每一个包都应该有相关注释，在使用 package 语句声明包名之前添加相应的注释，用来对包的功能及作用进行简要说明。</p></div><div><p>同时，在 package 语句之前的注释内容将被默认认为是这个包的文档说明。一个包可以分散在多个文件中，但是只需要对其中一个进行注释说明即可。</p></div></div></div><div class="heading-wrapper"><h4 data-heading="2、关键字 &amp; 标志符" class="heading" id="2、关键字_&amp;_标志符"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2、关键字 &amp; 标志符</h4><div class="heading-children"><div class="heading-wrapper"><h5 data-heading="○　关键字" class="heading" id="○　关键字"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　关键字</h5><div class="heading-children"><div><p>关键字即是被 Go 语言赋予了特殊含义的单词，也可以称为保留字。<br>
Go 中一共有 25 个关键字：</p></div><div style="overflow-x: auto;"><table>
<thead>
<tr>
<th>break</th>
<th>default</th>
<th>func</th>
<th>interface</th>
<th>select</th>
</tr>
</thead>
<tbody>
<tr>
<td>case</td>
<td>defer</td>
<td>go</td>
<td>map</td>
<td>struct</td>
</tr>
<tr>
<td>chan</td>
<td>else</td>
<td>goto</td>
<td>package</td>
<td>switch</td>
</tr>
<tr>
<td>const</td>
<td>fallthrough</td>
<td>if</td>
<td>range</td>
<td>type</td>
</tr>
<tr>
<td>continue</td>
<td>for</td>
<td>import</td>
<td>return</td>
<td>var</td>
</tr>
</tbody>
</table></div><div><p>之所以刻意地将 Go 语言中的关键字保持的这么少，是为了简化在编译过程中的代码解析。<br>
和其它语言一样，<code>关键字不能够作标识符使用。</code>：</p></div><div style="overflow-x: auto;"><table>
<thead>
<tr>
<th>关键字</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>break</td>
<td>用于终止当前循环或 switch 语句的执行</td>
</tr>
<tr>
<td>default</td>
<td>在 switch 语句中表示默认情况下的执行分支</td>
</tr>
<tr>
<td>func</td>
<td>用于声明函数或方法</td>
</tr>
<tr>
<td>interface</td>
<td>用于定义接口类型</td>
</tr>
<tr>
<td>select</td>
<td>用于在多个通信操作中选择执行</td>
</tr>
<tr>
<td>case</td>
<td>在 switch 语句中表示某个具体的条件分支</td>
</tr>
<tr>
<td>defer</td>
<td>用于延迟执行函数调用，通常用于资源释放等操作</td>
</tr>
<tr>
<td>go</td>
<td>用于启动一个新的 goroutine（轻量级线程）</td>
</tr>
<tr>
<td>map</td>
<td>用于声明和操作映射类型（键值对集合）</td>
</tr>
<tr>
<td>struct</td>
<td>用于声明和操作结构体类型</td>
</tr>
<tr>
<td>chan</td>
<td>用于声明和操作通道类型（用于协程之间的通信）</td>
</tr>
<tr>
<td>else</td>
<td>在 if 语句或 switch 语句中表示条件为假时的执行分支</td>
</tr>
<tr>
<td>goto</td>
<td>用于无条件跳转到程序的指定标签</td>
</tr>
<tr>
<td>package</td>
<td>用于声明和组织代码的包</td>
</tr>
<tr>
<td>switch</td>
<td>用于基于不同条件执行不同代码块</td>
</tr>
<tr>
<td>const</td>
<td>用于声明常量</td>
</tr>
<tr>
<td>fallthrough</td>
<td>在 switch 语句中表示执行下一个分支（不论条件是否匹配）</td>
</tr>
<tr>
<td>if</td>
<td>用于基于条件执行代码块</td>
</tr>
<tr>
<td>range</td>
<td>用于迭代数组、切片、映射、字符串或通道的元素</td>
</tr>
<tr>
<td>type</td>
<td>用于声明自定义类型</td>
</tr>
<tr>
<td>continue</td>
<td>用于跳过当前循环中的剩余代码并开始下一次循环</td>
</tr>
<tr>
<td>for</td>
<td>用于循环执行代码块</td>
</tr>
<tr>
<td>import</td>
<td>用于导入其他包中的代码</td>
</tr>
<tr>
<td>return</td>
<td>用于从函数中返回值</td>
</tr>
<tr>
<td>var</td>
<td>用于声明变量</td>
</tr>
</tbody>
</table></div></div></div><div class="heading-wrapper"><h5 data-heading="○　预定义标识符" class="heading" id="○　预定义标识符"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　预定义标识符</h5><div class="heading-children"><div><p>标识符是指 Go 语言对各种变量、方法、函数等命名时使用的字符序列，标识符由若干个字母、下划线 <code>_</code>、和数字组成，且第一个字符必须是字母。</p></div><div><p><em>下划线 `</em>` 是一个特殊的标识符，称为空白标识符_</p></div><div><p>标识符的命名需要遵守以下规则：</p></div><div><ul>
<li data-line="0">由 26 个英文字母、0~9、<code>_</code> 组成；</li>
<li data-line="1">不能以数字开头，例如 <code>var 1num int</code> 是错误的；</li>
<li data-line="2">Go 语言中严格区分大小写；</li>
<li data-line="3">标识符不能包含空格；</li>
<li data-line="4">不能以系统保留关键字作为标识符，比如 break，if 等等。</li>
</ul></div><div><p>命名标识符时还需要注意以下几点：</p></div><div><ul>
<li data-line="0">标识符的命名要尽量采取简短且有意义；</li>
<li data-line="1">不能和标准库中的包名重复；</li>
<li data-line="2">为变量、函数、常量命名时采用驼峰命名法，例如 stuName、getVal；</li>
</ul></div><div><p>在 Go 语言中还存在着一些特殊的标识符，叫做预定义标识符，如下表所示：</p></div><div style="overflow-x: auto;"><table>
<thead>
<tr>
<th>append</th>
<th>bool</th>
<th>byte</th>
<th>cap</th>
<th>close</th>
<th>complex</th>
<th>complex 64</th>
<th>complex 128</th>
<th>uint 16</th>
</tr>
</thead>
<tbody>
<tr>
<td>copy</td>
<td>false</td>
<td>float 32</td>
<td>float 64</td>
<td>imag</td>
<td>int</td>
<td>int 8</td>
<td>int 16</td>
<td>uint 32</td>
</tr>
<tr>
<td>int 32</td>
<td>int 64</td>
<td>iota</td>
<td>len</td>
<td>make</td>
<td>new</td>
<td>nil</td>
<td>panic</td>
<td>uint 64</td>
</tr>
<tr>
<td>print</td>
<td>println</td>
<td>real</td>
<td>recover</td>
<td>string</td>
<td>true</td>
<td>uint</td>
<td>uint 8</td>
<td>uintptr</td>
</tr>
</tbody>
</table></div><div style="overflow-x: auto;"><table>
<thead>
<tr>
<th>预定义标识符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>append</td>
<td>用于向切片追加元素的内置函数</td>
</tr>
<tr>
<td>bool</td>
<td>布尔类型</td>
</tr>
<tr>
<td>byte</td>
<td>uint 8 的别名</td>
</tr>
<tr>
<td>cap</td>
<td>返回切片或数组的容量的内置函数</td>
</tr>
<tr>
<td>close</td>
<td>用于关闭通道的内置函数</td>
</tr>
<tr>
<td>complex</td>
<td>创建复数的内置函数</td>
</tr>
<tr>
<td>complex 64</td>
<td>代表实部和虚部为 32 位浮点数的复数类型</td>
</tr>
<tr>
<td>complex 128</td>
<td>代表实部和虚部为 64 位浮点数的复数类型</td>
</tr>
<tr>
<td>copy</td>
<td>用于复制切片或数组的内置函数</td>
</tr>
<tr>
<td>false</td>
<td>布尔类型的假值</td>
</tr>
<tr>
<td>float 32</td>
<td>32 位浮点数类型</td>
</tr>
<tr>
<td>float 64</td>
<td>64 位浮点数类型</td>
</tr>
<tr>
<td>imag</td>
<td>返回复数的实部的内置函数</td>
</tr>
<tr>
<td>int</td>
<td>有符号整数类型（根据平台可能是 32 位或 64 位）</td>
</tr>
<tr>
<td>int 8</td>
<td>8 位有符号整数类型</td>
</tr>
<tr>
<td>int 16</td>
<td>16 位有符号整数类型</td>
</tr>
<tr>
<td>int 32</td>
<td>32 位有符号整数类型</td>
</tr>
<tr>
<td>int 64</td>
<td>64 位有符号整数类型</td>
</tr>
<tr>
<td>iota</td>
<td>特殊常量，用于枚举</td>
</tr>
<tr>
<td>len</td>
<td>返回切片、数组、字符串、映射或通道的长度的内置函数</td>
</tr>
<tr>
<td>make</td>
<td>用于创建切片、映射或通道的内置函数</td>
</tr>
<tr>
<td>new</td>
<td>用于创建指针的内置函数</td>
</tr>
<tr>
<td>nil</td>
<td>空值，表示变量未指向任何对象</td>
</tr>
<tr>
<td>panic</td>
<td>用于中断程序执行并引发 panic 的内置函数</td>
</tr>
<tr>
<td>print</td>
<td>用于打印输出的内置函数</td>
</tr>
<tr>
<td>println</td>
<td>用于打印输出并换行的内置函数</td>
</tr>
<tr>
<td>real</td>
<td>返回复数的虚部的内置函数</td>
</tr>
<tr>
<td>recover</td>
<td>用于从 panic 中恢复的内置函数</td>
</tr>
<tr>
<td>string</td>
<td>字符串类型</td>
</tr>
<tr>
<td>true</td>
<td>布尔类型的真值</td>
</tr>
<tr>
<td>uint</td>
<td>无符号整数类型（根据平台可能是 32 位或 64 位）</td>
</tr>
<tr>
<td>uint 8</td>
<td>8 位无符号整数类型</td>
</tr>
<tr>
<td>uint 16</td>
<td>16 位无符号整数类型</td>
</tr>
<tr>
<td>uint 32</td>
<td>32 位无符号整数类型</td>
</tr>
<tr>
<td>uint 64</td>
<td>64 位无符号整数类型</td>
</tr>
<tr>
<td>uintptr</td>
<td>用于存储指针的整数类型</td>
</tr>
</tbody>
</table></div><div><p>以下 3 个不确定是否是：</p></div><div style="overflow-x: auto;"><table>
<thead>
<tr>
<th>error</th>
<th>表示错误的接口类型</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>delete</td>
<td>用于从映射中删除键值对的内置函数</td>
<td></td>
</tr>
<tr>
<td>rune</td>
<td>int 32 的别名，表示 Unicode 码点</td>
<td></td>
</tr>
</tbody>
</table></div></div></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="一）变量常量" class="heading" id="一）变量常量"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>一）变量常量</h3><div class="heading-children"><div class="heading-wrapper"><h4 data-heading="1、变量声明" class="heading" id="1、变量声明"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1、变量声明</h4><div class="heading-children"><div><blockquote>
<p>Go 语言是静态类型语言，因此变量（variable）是有明确类型的，编译器也会检查变量类型的正确性。</p>
</blockquote></div><div><p>从计算机系统的角度来讲，变量就是一段或者多段内存，用于存储数据。</p></div><div class="heading-wrapper"><h5 data-heading="○　标准格式" class="heading" id="○　标准格式"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　标准格式</h5><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> 变量名 变量类型

<span class="token comment">//变量声明以关键字 var 开头，变量类型后置，行尾无须分号。</span>
<span class="token comment">//例子：声明了一个名为age的变量，类型为int</span>
<span class="token comment">//变量的命名规则遵循驼峰命名法，即首个单词小写，每个新单词的首字母大写，例如： startDate</span>
<span class="token keyword">var</span> age <span class="token builtin">int</span>
<span class="token keyword">var</span> startDate <span class="token builtin">string</span>

</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>如果你学过 C 语言，就会体会到这样声明的好处，比如 C 语言这样声明：int<em> a, b ，那么只有 a 是指针，b 不是，这样会使人迷惑，如果想要两个变量都为指针，需要这样定义：`int </em>a,*b`。</p>
<p>在 go 语言中，我们使用这样的声明方式：<code>var a,b *int</code>，就可以轻松的将 a，b 都声明为指针。</p>
</blockquote></div></div></div><div class="heading-wrapper"><h5 data-heading="○　批量声明" class="heading" id="○　批量声明"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　批量声明</h5><div class="heading-children"><div><p>每行都用 var 声明变量比较烦琐？Go 语言提供了批量声明的方式</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> <span class="token punctuation">(</span>
    a <span class="token builtin">int</span>
    b <span class="token builtin">string</span>
    c <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float32</span>
<span class="token punctuation">)</span>

<span class="token comment">//%d 整数占位符，%s 字符串占位符， %f 浮点数占位符(默认精度为6)</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%d,%s,%f"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token comment">//0,,[]</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h4 data-heading="2、初始化变量" class="heading" id="2、初始化变量"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2、初始化变量</h4><div class="heading-children"><div class="heading-wrapper"><h5 data-heading="○　不指明变量类型（需赋值）" class="heading" id="○　不指明变量类型（需赋值）"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　不指明变量类型（需赋值）</h5><div class="heading-children"><div><p>这种声明变量的方式，并没有指明类型，Go 语言中，<code>在编译时会自动推导类型</code></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//设置游戏中角色的初始等级为1，但是需要赋值</span>
<span class="token keyword">var</span> level <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">//不能写成下面，因为自动加;所以认为你第一个变量没有赋值，没办法类型推导</span>
<span class="token comment">//var level  </span>
<span class="token comment">//level= 1</span>

<span class="token comment">//我们可以使用 %T 进行类型输出。</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"类型为：%T"</span><span class="token punctuation">,</span> level<span class="token punctuation">)</span>  <span class="token comment">//类型为：int</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　简短格式（需赋值 + 局部）" class="heading" id="○　简短格式（需赋值_+_局部）"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　简短格式（需赋值 + 局部）</h5><div class="heading-children"><div><p>可以省略 <code>var</code> 关键字，这样写起来更加便捷。<br>
简短变量声明被广泛用于大部分的局部变量的声明和初始化，var 形式的声明语句往往用于需要显式指定变量类型的地方。</p></div><div><p>但是有以下要求：</p></div><div><ol>
<li data-line="0">定义变量，同时显式初始化</li>
<li data-line="1">不能提供数据类型</li>
<li data-line="2">只能用在函数内部</li>
</ol></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
<span class="token keyword">import</span> <span class="token string">"fmt"</span>  
  
<span class="token comment">// 不在局部方法内，不能使用简短格式  </span>
<span class="token comment">// aa :=1  </span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token comment">// i是变量名 1 是值（或者表达式）不指明类型，直接赋值，Go会自动推导类型  </span>
    aa <span class="token operator">:=</span> <span class="token number">1</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>aa<span class="token punctuation">)</span>          <span class="token comment">//1  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"类型为：%T"</span><span class="token punctuation">,</span> aa<span class="token punctuation">)</span> <span class="token comment">//类型为：int  </span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　短格式变量重复赋值" class="heading" id="○　短格式变量重复赋值"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　短格式变量重复赋值</h5><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//创建了一个游戏角色 初始等级为1，标准声明</span>
<span class="token keyword">var</span> level <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">//短变量声明 </span>
<span class="token comment">// level := 1</span>
<span class="token comment">// level := 1再次声明并赋值,会报错</span>
<span class="token comment">// no new variables on left side of := （左边的变量已经被声明了，不能重复声明)</span>
level2 <span class="token operator">:=</span> <span class="token number">1</span>  

fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"类型为：%T"</span><span class="token punctuation">,</span> level<span class="token punctuation">)</span> <span class="token comment">//类型为：int  </span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"类型为：%T"</span><span class="token punctuation">,</span> level2<span class="token punctuation">)</span> <span class="token comment">//类型为：int</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>以上对同一变量重复声明报错，但是有特例：</p></div><div><p>❶  特例 1：获取到新的变量</p></div><div><p>比如：<code>net.Dial</code> 提供按指定协议和地址发起网络连接，这个函数有两个返回值，一个是 <code>连接对象（conn）</code>，一个是 `错误对象（err）</p></div><div><p>正常的写法：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token punctuation">(</span>  
    <span class="token string">"fmt"</span>  
    <span class="token string">"net"</span><span class="token punctuation">)</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> conn net<span class="token punctuation">.</span>Conn  
    <span class="token keyword">var</span> err <span class="token builtin">error</span>  
    <span class="token comment">//net.Dial 是 Go 语言标准库中的一个函数，位于 net 包中。它用于建立与指定网络地址的连接。  </span>
    <span class="token comment">//TCP 连接，"127.0.0.1:8080" 是远程主机的 IP 地址和端口号。  </span>
    conn<span class="token punctuation">,</span> err <span class="token operator">=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:8080"</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span> <span class="token comment">//无连接，&lt;nil&gt;  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>  <span class="token comment">//链接失败，dial tcp 127.0.0.1:8080: connectex: No connection could be made because the target machine actively refused it.  </span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>短变量的写法：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"net"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:8080"</span><span class="token punctuation">)</span>  
    conn1<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:8080"</span><span class="token punctuation">)</span>  <span class="token comment">//相当于一个新链接</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span> <span class="token comment">//&lt;nil&gt;  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>conn1<span class="token punctuation">)</span> <span class="token comment">//&lt;nil&gt;  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token comment">//dial tcp 127.0.0.1:8080: connectex: No connection could be made because the target machine actively refused it.  </span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>在多个短变量声明和赋值中，至少有一个新声明的变量出现在左值中，即便其他变量名可能是重复声明的，编译器也不会报错</strong></p></div><div><p>❷ 特例 2：重写全局</p></div><div><span style="display: block; margin-block-start: var(--p-spacing); margin-block-end: var(--p-spacing);"><span alt="重写全局" src="101、Go语言基础2#^5e25d6" class="internal-embed markdown-embed inline-embed is-loaded"><div class="embed-title markdown-embed-title"></div><div class="markdown-embed-content node-insert-event"><div class="markdown-preview-view markdown-rendered node-insert-event show-indentation-guide allow-fold-headings allow-fold-lists"><div class="markdown-preview-sizer markdown-preview-section" style="padding-bottom: 0px;"><div class="markdown-preview-pusher" style="width: 1px; height: 0.1px; margin-bottom: 0px;"></div><div class="mod-header"></div></div></div></div><div class="markdown-embed-content node-insert-event" style="display: none;"></div><div class="markdown-embed-link" aria-label="Open link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></div></span></span></div></div></div><div class="heading-wrapper"><h5 data-heading="○　快捷变量交换" class="heading" id="○　快捷变量交换"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　快捷变量交换</h5><div class="heading-children"><div><blockquote>
<p>变量交换，比如 a=100，b=200，交换之后 a=200，b=100</p>
</blockquote></div><div><p>常用第三变量赋值，或者位运算，但是 Go 里面可以这样：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	a <span class="token operator">:=</span> <span class="token number">100</span>
	b <span class="token operator">:=</span> <span class="token number">200</span>
	b<span class="token punctuation">,</span>a <span class="token operator">=</span> a<span class="token punctuation">,</span>b
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"a=%d,b=%d"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h4 data-heading="3、匿名变量" class="heading" id="3、匿名变量"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3、匿名变量</h4><div class="heading-children"><div><p>使用 <code>多重赋值</code> 时，如果 <code>不需要在左值中接受变量</code>，可以使用匿名变量</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">    <span class="token comment">//conn, err := net.Dial("tcp", "127.0.0.1:8080")</span>
    <span class="token comment">//如果不想接收err的值，那么可以使用_表示，这就是匿名变量</span>
	conn<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:8080"</span><span class="token punctuation">)</span>
	
	<span class="token comment">//匿名变量可以重复声明</span>
	conn1<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:8080"</span><span class="token punctuation">)</span>
	
	<span class="token comment">// 匿名变量不可以直接开头</span>
	<span class="token comment">// _ :=1</span>
	
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>conn1<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>匿名变量以 <code>_</code> 下划线表示</p>
<p>匿名变量不占用命名空间，也不会分配内存。匿名变量可以重复声明使用</p>
<p><code>_</code> 本身就是一个特殊的标识符，被称为空白标识符。它可以像其他标识符那样用于变量的声明或赋值（任何类型都可以赋值给它），但任何赋给这个标识符的值都将被抛弃，因此这些值不能在后续的代码中使用，也不可以使用这个标识符作为变量对其它变量进行赋值或运算。</p>
</blockquote></div></div></div><div class="heading-wrapper"><h4 data-heading="4、变量作用域" class="heading" id="4、变量作用域"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4、变量作用域</h4><div class="heading-children"><div><blockquote>
<p>一个变量（常量、类型或函数）在程序中都有一定的作用范围，称之为 <code>作用域</code>。</p>
</blockquote></div><div><p>了解变量的作用域对我们学习 Go 语言来说是比较重要的，因为 <code>Go语言(静态语言)会在编译时检查每个变量是否使用过，一旦出现未使用的变量，就会报编译错误</code>。</p></div><div><p>如果不能理解变量的作用域，就有可能会带来一些不明所以的编译错误。</p></div><div><p>根据变量定义位置的不同，可以分为以下三个类型：</p></div><div><ul>
<li data-line="0">函数内定义的变量称为局部变量</li>
<li data-line="1">函数外定义的变量称为全局变量</li>
<li data-line="2">函数定义中的变量称为形式参数</li>
</ul></div><div class="heading-wrapper"><h5 data-heading="○　全局变量" class="heading" id="○　全局变量"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　全局变量</h5><div class="heading-children"><div><p>在函数体外声明的变量称之为 <code>全局变量</code>，全局变量只需要在 <code>一个源文件中定义，就可以在所有源文件中使用</code>，当然，不包含这个全局变量的源文件需要使用“import”关键字引入全局变量所在的源文件之后才能使用这个全局变量。</p></div><div><p>全局变量声明 <code>必须以 var 关键字开头</code>，如果想要在外部包中使用全局变量的 <code>首字母必须大写</code>。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token comment">//声明全局变量</span>
<span class="token keyword">var</span> c <span class="token builtin">int</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//声明局部变量</span>
    <span class="token keyword">var</span> a<span class="token punctuation">,</span> b <span class="token builtin">int</span>
    <span class="token comment">//初始化参数</span>
    a <span class="token operator">=</span> <span class="token number">3</span>
    b <span class="token operator">=</span> <span class="token number">4</span>
    c <span class="token operator">=</span> a <span class="token operator">+</span> b
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"a = %d, b = %d, c = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>Go 语言程序中全局变量与局部变量名称可以相同，但是函数体内的局部变量会被优先考虑。</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token comment">//声明全局变量</span>
<span class="token keyword">var</span> bb <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">3.14</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	bb <span class="token operator">:=</span> <span class="token number">3</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>bb<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//执行结果 3</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　局部变量" class="heading" id="○　局部变量"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　局部变量</h5><div class="heading-children"><div><p>在函数体内声明的变量称之为 <code>局部变量</code>，它们的作用域 <code>只在函数体内</code>，函数的参数和返回值变量都属于局部变量。</p></div><div><p><strong>局部变量不是一直存在的，它只在定义它的函数被调用后存在，函数调用结束后这个局部变量就会被销毁。</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//声明局部变量 a 和 b 并赋值</span>
    <span class="token keyword">var</span> a <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">3</span>
    <span class="token keyword">var</span> b <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">4</span>
    <span class="token comment">//声明局部变量 c 并计算 a 和 b 的和</span>
    c <span class="token operator">:=</span> a <span class="token operator">+</span> b
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"a = %d, b = %d, c = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　形式参数" class="heading" id="○　形式参数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　形式参数</h5><div class="heading-children"><div><p>在定义函数时函数名后面括号中的变量叫做 <code>形式参数</code>（简称形参）。形式参数只在函数调用时才会生效，函数调用结束后就会被销毁，在函数未被调用时，函数的形参 <code>并不占用实际的存储单元</code>，也没有实际值。</p></div><div><p>形式参数会作为 <code>函数的局部变量来使用</code>。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
<span class="token comment">//全局变量 a</span>
<span class="token keyword">var</span> a <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">13</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//局部变量 a 和 b</span>
    <span class="token keyword">var</span> a <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">3</span>
    <span class="token keyword">var</span> b <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">4</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"main() 函数中 a = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"main() 函数中 b = %d\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    c <span class="token operator">:=</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"main() 函数中 c = %d\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"sum() 函数中 a = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"sum() 函数中 b = %d\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
    num <span class="token operator">:=</span> a <span class="token operator">+</span> b
    <span class="token keyword">return</span> num
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h4 data-heading="5、变量的生命周期" class="heading" id="5、变量的生命周期"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>5、变量的生命周期</h4><div class="heading-children"><div><blockquote>
<p>变量的生命周期指的是在程序运行期间变量有效存在的时间间隔。</p>
</blockquote></div><div><p>变量的生命周期与变量的作用域有不可分割的联系：</p></div><div><ol>
<li data-line="0">全局变量：它的生命周期和整个程序的运行周期是一致的；</li>
<li data-line="1">局部变量：它的生命周期则是动态的，从创建这个变量的声明语句开始，到这个变量不再被引用为止；</li>
<li data-line="2">形式参数和函数返回值：它们都属于局部变量，在函数被调用的时候创建，函数调用结束后被销毁。</li>
</ol></div><div><p>Go 的内存中应用了两种数据结构用于存放变量：</p></div><div><ol>
<li data-line="0">堆（heap）：堆是用于存放进程执行中被动态分配的内存段。它的大小并不固定，可动态扩张或缩减。当进程调用 malloc 等函数分配内存时，新分配的内存就被动态加入到堆上（堆被扩张）。当利用 free 等函数释放内存时，被释放的内存从堆中被剔除（堆被缩减）；</li>
<li data-line="1">栈 (stack)：栈又称堆栈，用来存放程序暂时创建的局部变量，也就是我们函数的大括号 <code>{ }</code> 中定义的局部变量。</li>
</ol></div><div><p><strong>栈是先进后出，往栈中放元素的过程，称为入栈，取元素的过程称为出栈。</strong></p></div><div><p><strong>栈可用于内存分配，栈的分配和回收速度非常快</strong></p></div><div><p>在程序的编译阶段，编译器会根据实际情况 <code>自动选择</code> 在 <code>栈</code> 或者 <code>堆</code> 上分配局部变量的存储空间，不论使用 var 还是 new 关键字声明变量都不会影响编译器的选择。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> global <span class="token operator">*</span><span class="token builtin">int</span>
<span class="token keyword">func</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> x <span class="token builtin">int</span>
    x <span class="token operator">=</span> <span class="token number">1</span>
    global <span class="token operator">=</span> <span class="token operator">&amp;</span>x
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    y <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
    <span class="token operator">*</span>y <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>上述代码中，函数 f 里的变量 x 必须在堆上分配，因为它在函数退出后依然可以通过包一级的 global 变量找到，虽然它是在函数内部定义的。</p></div><div><p><code>用Go语言的术语说，这个局部变量 x 从函数 f 中逃逸了。</code></p></div><div><p>相反，当函数 g 返回时，变量 y 不再被使用，也就是说可以马上被回收的。因此，y 并没有从函数 g 中逃逸，编译器可以选择在栈上分配 *y 的存储空间，也可以选择在堆上分配，然后由 Go 语言的 GC（垃圾回收机制）回收这个变量的内存空间。</p></div></div></div><div class="heading-wrapper"><h4 data-heading="6、常量" class="heading" id="6、常量"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>6、常量</h4><div class="heading-children"><div><p>Go 语言中的常量使用关键字 <code>const</code> 定义，用于存储不会改变的数据，常量是在编译时被创建的，即使定义在函数内部也是如此，并且只能是 <code>布尔型</code>、<code>数字型</code>（整数型、浮点型和复数）和 <code>字符串型</code>。</p></div><div><p>由于编译时的限制，定义常量的表达式必须为能被编译器求值的常量表达式。</p></div><div><p>声明格式：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">const</span> name <span class="token punctuation">[</span><span class="token keyword">type</span><span class="token punctuation">]</span> <span class="token operator">=</span> value
</code><button class="copy-code-button">复制</button></pre></div><div><p>例如：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">const</span> pi <span class="token operator">=</span> <span class="token number">3.14159</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>type 可以省略</strong></p></div><div><p><strong>和变量声明一样，可以批量声明多个常量：</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">const</span> <span class="token punctuation">(</span>
    e  <span class="token operator">=</span> <span class="token number">2.7182818</span>
    pi <span class="token operator">=</span> <span class="token number">3.1415926</span>
<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>所有常量的运算都可以在编译期完成，这样不仅可以减少运行时的工作，也方便其他代码的编译优化，当操作数是常量时，一些运行时的错误也可以在编译时被发现，例如整数除零、字符串索引越界、任何导致无效浮点数的操作等。</p>
</blockquote></div><div><p>常量间的所有算术运算、逻辑运算和比较运算的结果也是常量，对常量的类型转换操作或以下函数调用都是返回常量结果：len、cap、real、imag、complex 和 unsafe. Sizeof。</p></div><div><p>因为它们的值是在编译期就确定的，因此常量可以是构成类型的一部分</p></div><div><p><strong>如果是批量声明的常量，除了第一个外其它的常量右边的初始化表达式都可以省略，如果省略初始化表达式则表示使用前面常量的初始化表达式，对应的常量类型也是一样的。例如：</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">const</span> <span class="token punctuation">(</span>
    a <span class="token operator">=</span> <span class="token number">1</span>
    b
    c <span class="token operator">=</span> <span class="token number">2</span>
    d
<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">)</span> <span class="token comment">// "1 1 2 2"</span>
</code><button class="copy-code-button">复制</button></pre></div><div class="heading-wrapper"><h5 data-heading="○　iota 常量生成器" class="heading" id="○　iota_常量生成器"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　iota 常量生成器</h5><div class="heading-children"><div><blockquote>
<p>常量声明可以使用 iota 常量生成器初始化，它用于生成一组以相似规则初始化的常量，但是不用每行都写一遍初始化表达式。</p>
</blockquote></div><div><p><strong>在一个 const 声明语句中，在第一个声明的常量所在的行，iota 将会被置为 0，然后在每一个有常量声明的行加 1</strong></p></div><div><p>比如，定义星期日到星期六，从 0-6</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">const</span> <span class="token punctuation">(</span>
    Sunday  <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">//0</span>
    Monday
    Tuesday
    Wednesday
    Thursday
    Friday
    Saturday  <span class="token comment">//6</span>
<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="二）数据类型" class="heading" id="二）数据类型"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>二）数据类型</h3><div class="heading-children"><div class="heading-wrapper"><h4 data-heading="1、基本类型" class="heading" id="1、基本类型"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1、基本类型</h4><div class="heading-children"><div><blockquote>
<p>计算机中数据存储的最小单位为 bit（位），0 或者 1。<br>
字节 byte：计算机中数据的基本单元，1 字节=8 bit，数据在计算机中存储或者计算，至少为 1 个字节</p>
</blockquote></div><div><p>整型</p></div><div><ul>
<li data-line="0">int（随系统，一般是占用 4 个字节）、int 8 (占一个字节)、int 16 (占两个字节)、int 32 (占 4 个字节)、int 64（占 8 个字节）</li>
<li data-line="1">uint（无符号整数）、uint 8、uint 16、uint 32、uint 64、uintptr<br>
字符</li>
<li data-line="3">byte // <code>uint8 的别名</code></li>
<li data-line="4">rune // <code>int32 的别名 代表一个 Unicode 码</code><br>
浮点型</li>
<li data-line="6">float 32、float 64</li>
<li data-line="7">complex 64、complex 128<br>
布尔型</li>
<li data-line="9">bool<br>
字符串</li>
<li data-line="11">string</li>
</ul></div><div><blockquote>
<p>有符号和无符号的区别：int 8 范围 -128-127，uint 8 范围：0-255</p>
</blockquote></div><div><p>当一个变量被声明之后，系统自动赋予它该类型的零值：<br>
<code>int 为 0</code>，<code>float 为 0.0</code>，<code>bool 为 false</code>，<code>string 为空字符串</code>，<code>指针为 nil</code></p></div><div class="heading-wrapper"><h5 data-heading="○　整型" class="heading" id="○　整型"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　整型</h5><div class="heading-children"><div><p>Go 语言同时提供了有符号和无符号的整数类型：</p></div><div><p></p><div alt="assets/101、Go语言基础2/img-20240112_214047.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240112_214047.png" class="internal-embed media-embed image-embed is-loaded" style="width: 500px; max-width: 100%;"><img alt="assets/101、Go语言基础2/img-20240112_214047.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240112_214047.png" style="width: 500px; max-width: 100%;"></div><br>
<div alt="assets/101、Go语言基础2/img-20240112_214101.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240112_214101.png" class="internal-embed media-embed image-embed is-loaded" style="width: 500px; max-width: 100%;"><img alt="assets/101、Go语言基础2/img-20240112_214101.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240112_214101.png" style="width: 500px; max-width: 100%;"></div><p></p></div><div><ul>
<li data-line="0">有符号整型：int、int 8、int 64、int 32、int 64</li>
<li data-line="1">无符号整型：uint、uint 8、uint 64、uint 32、uint 64、uintptr</li>
</ul></div><div><blockquote>
<p>有符号整型范围：<code>-2^(n-1) 到 2^(n-1)-1</code><br>
无符号整型范围: <code>0 到 2^n-1</code></p>
</blockquote></div><div><p><strong>实际开发中由于编译器和计算机硬件的不同，int 和 uint 所能表示的整数大小会在 32 bit 或 64 bit 之间变化。</strong></p></div><div><p>其他整数类型：<br>
</p><div alt="assets/101、Go语言基础2/img-20240112_214319.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240112_214319.png" class="internal-embed media-embed image-embed is-loaded" style="width: 400px; max-width: 100%;"><img alt="assets/101、Go语言基础2/img-20240112_214319.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240112_214319.png" style="width: 400px; max-width: 100%;"></div><p></p></div><div><p>用来表示 Unicode 字符的 <code>rune 类型</code> 和 <code>int32 类型</code> 是等价的，通常用于表示一个 <code>Unicode 码点</code>。<br>
这两个名称可以互换使用。同样，<code>byte</code> 和 <code>uint8</code> 也是等价类型，byte 类型一般用于强调数值是一个 <code>原始的数据</code> 而不是一个小的整数。</p></div><div><blockquote>
<p>无符号的整数类型 <code>uintptr</code>，它没有指定具体的 bit 大小但是足以容纳指针。Uintptr 类型只有在 <code>底层编程</code> 时才需要，特别是 Go 语言和 C 语言函数库或操作系统接口相交互的地方。</p>
</blockquote></div><div><p><strong>在二进制传输、读写文件的结构描述时，为了保持文件的结构不会受到不同编译目标平台字节长度的影响，不要使用 int 和 uint</strong></p></div></div></div><div class="heading-wrapper"><h5 data-heading="○　浮点型" class="heading" id="○　浮点型"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　浮点型</h5><div class="heading-children"><div><p>Go 语言支持两种浮点型数：</p></div><div><blockquote>
<p>算术规范由 IEEE 754 浮点数国际标准定义，该浮点数规范被所有现代的 CPU 支持</p>
</blockquote></div><div><ol>
<li data-line="0"><code>float32</code> ： 范围约 1.4e-45 到约 3.4e-38</li>
<li data-line="1"><code>float64</code> ：范围约 4.9e-324 到约 1.8e-308</li>
</ol></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">floatStr1 <span class="token operator">:=</span> <span class="token number">3.2</span>
<span class="token comment">//保留小数点位数</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%.2f\n"</span><span class="token punctuation">,</span> floatStr1<span class="token punctuation">)</span> <span class="token comment">//结果：3.20</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>通常应该优先使用 float 64 类型，因为 float 32 类型的累计计算误差很容易扩散，并且 float 32 能精确表示的正整数并不是很大。</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">    <span class="token keyword">var</span> f <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">24</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>        <span class="token comment">// 1.6777216e+07  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>f <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment">// 1.6777216e+07  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>f <span class="token operator">==</span> f<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 结果确为true  </span>
</code><button class="copy-code-button">复制</button></pre></div><div><p></p><div alt="assets/101、Go语言基础2/img-20240113_093823.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_093823.png" class="internal-embed media-embed image-embed is-loaded" style="width: 750px; max-width: 100%;"><img alt="assets/101、Go语言基础2/img-20240113_093823.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_093823.png" style="width: 750px; max-width: 100%;"></div><p></p></div><div><p><strong>浮点数在声明的时候可以只写整数部分或者小数部分<br>
</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token number">.71828</span> <span class="token comment">// 0.71828</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token number">1.</span>     <span class="token comment">// 1</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%.5f,%.1f"</span><span class="token punctuation">,</span>e<span class="token punctuation">,</span>f<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>很小或很大的数最好用科学计数法书写，通过 e 或 E 来指定指数部分</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> avogadro <span class="token operator">=</span> <span class="token number">6.02214129e23</span>  <span class="token comment">// 阿伏伽德罗常数</span>
<span class="token keyword">var</span> planck   <span class="token operator">=</span> <span class="token number">6.62606957e-34</span> <span class="token comment">// 普朗克常数</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%f,%.35f"</span><span class="token punctuation">,</span>avogadro<span class="token punctuation">,</span>planck<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　布尔型" class="heading" id="○　布尔型"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　布尔型</h5><div class="heading-children"><div><p>在 Go 语言中，以 bool 类型进行声明：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> 变量名 <span class="token builtin">bool</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><code>==</code>, <code>&gt;</code>, <code>&lt;</code>，<code>&lt;=</code>, <code>&gt;=</code>, <code>&amp;&amp;(AND)</code>, <code>||(OR)</code> 等都会产生 bool 值</p><div><pre class="dataview dataview-error">Dataview (inline field '='): Error: 
-- PARSING FAILED --------------------------------------------------

&gt; 1 | =
    | ^

Expected one of the following: 

'(', 'null', boolean, date, duration, file link, list ('[1, 2, 3]'), negated field, number, object ('{ a: 1, b: 2 }'), string, variable
</pre></div></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> aVar <span class="token operator">=</span> <span class="token number">10</span>
aVar <span class="token operator">==</span> <span class="token number">5</span>  <span class="token comment">// false</span>
aVar <span class="token operator">==</span> <span class="token number">10</span> <span class="token comment">// true</span>
aVar <span class="token operator">!=</span> <span class="token number">5</span>  <span class="token comment">// true</span>
aVar <span class="token operator">!=</span> <span class="token number">10</span> <span class="token comment">// false</span>
</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>Go 语言对于值之间的比较有非常严格的限制，只有两个相同类型的值才可以进行比较，如果值的类型是接口（interface），那么它们也必须都实现了相同的接口。</p>
<p>如果其中一个值是 <code>常量</code>，那么另外一个值可以不是常量，但是类型必须和该常量类型相同。</p>
<p>如果以上条件都不满足，则必须将其中一个值的类型转换为和另外一个值的类型相同之后才可以进行比较。</p>
</blockquote></div><div><p><code>&amp;&amp;(AND)</code>, <code>||(OR)</code> 是具有短路行为的，如果运算符左边的值已经可以确定整个布尔表达式的值，那么运算符右边的值将不再被求值。(&amp;&amp;优先级高于||)</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>
	<span class="token comment">//因为a&gt;11已经不满足了，所以a &lt; 30不会走，整个表达式为false</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">&gt;</span> <span class="token number">11</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"正确"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"错误"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//因为a &gt; 5已经满足了，所以a &lt; 30不会走，整个表达式为true</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">||</span> a <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"正确"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"错误"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>布尔型数据只有 true 和 false，且不能参与任何计算以及类型转换</strong></p></div></div></div><div class="heading-wrapper"><h5 data-heading="○　字符" class="heading" id="○　字符"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　字符</h5><div class="heading-children"><div><p>Go 语言的字符有以下两种：</p></div><div><ul>
<li data-line="0">一种是 uint 8 类型，或者叫 byte 型，代表了 ASCII 码的一个字符。</li>
<li data-line="1">另一种是 rune 类型，代表一个 UTF-8 字符，当需要处理中文、日文或者其他复合字符时，则需要用到 rune 类型。Rune 类型等价于 int 32 类型。</li>
</ul></div><div><p><strong>byte 类型是 uint 8 的别名，rune 类型是 int 32 的别名</strong><br>
</p><div alt="assets/101、Go语言基础2/img-20240113_095314.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_095314.png" class="internal-embed media-embed image-embed is-loaded" style="width: 425px; max-width: 100%;"><img alt="assets/101、Go语言基础2/img-20240113_095314.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_095314.png" style="width: 425px; max-width: 100%;"></div><p></p></div><div><p><strong>ASCII 码的一个字符占一个字节</strong></p></div><div><p><strong>ASCII</strong> 定义 128 个字符，由码位 0 – 127 标识。它涵盖英文字母，拉丁数字和其他一些字符。</p></div><div><p>字符的定义：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//使用单引号 表示一个字符  </span>
<span class="token keyword">var</span> chA1 <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token char">'A'</span>  
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> chA1<span class="token punctuation">)</span>  
  
<span class="token comment">//在 ASCII 码表中，A 的值是 65,也可以这么定义  </span>
<span class="token keyword">var</span> chA2 <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token number">65</span>  
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> chA2<span class="token punctuation">)</span>  
  
<span class="token comment">//65使用十六进制表示是41，所以也可以这么定义 \x 总是紧跟着长度为 2 的 16 进制数  </span>
<span class="token keyword">var</span> chA3 <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token char">'\x41'</span>  
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> chA3<span class="token punctuation">)</span>  
  
<span class="token comment">//65的八进制表示是101，所以使用八进制定义 \后面紧跟着长度为 3 的八进制数  </span>
<span class="token keyword">var</span> chA4 <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token char">'\101'</span>  
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> chA4<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>Unicode</strong> 是 ASCII 的超集，它定义了 1,114,112 个代码点的代码空间。 Unicode 版本 10.0 涵盖 139 个现代和历史文本集（包括符文字母，但不包括 Klingon ）以及多个符号集。</p></div><div><p>Go 语言同样支持 Unicode（UTF-8）, <code>用rune来表示</code>, 在内存中使用 int 来表示。</p></div><div><p>在书写 Unicode 字符时，需要在 16 进制数之前加上前缀 <code>\u</code> 或者 <code>\U</code>。<br>
如果需要使用到 4 字节，则使用 <code>\u</code> 前缀，如果需要使用到 8 个字节，则使用 <code>\U</code> 前缀。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> ch <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token char">'\u0041'</span>  
<span class="token keyword">var</span> ch1 <span class="token builtin">int64</span> <span class="token operator">=</span> <span class="token char">'\U00000041'</span>  
<span class="token comment">//格式化说明符%c用于表示字符，%v或%d会输出用于表示该字符的整数，%U输出格式为 U+hhhh 的字符串。  </span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c,%c,%U\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">,</span> ch1<span class="token punctuation">,</span> ch<span class="token punctuation">)</span> <span class="token comment">//A,A,U+0041  </span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v,%d\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">,</span> ch1<span class="token punctuation">)</span>        <span class="token comment">//65,65</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>Unicode 包中内置了一些用于测试字符的函数，这些函数的返回值都是一个布尔值，如下所示（其中 ch 代表字符）：</p></div><div><ul>
<li data-line="0">判断是否为字母：unicode. IsLetter (ch)</li>
<li data-line="1">判断是否为数字：unicode. IsDigit (ch)</li>
<li data-line="2">判断是否为空白符号：unicode. IsSpace (ch)</li>
</ul></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> chA <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token char">'\u0041'</span>  
<span class="token keyword">var</span> ch2 <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token char">'\u0032'</span>  
<span class="token keyword">var</span> space <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token char">'\u0020'</span>  
  
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c,%v\n"</span><span class="token punctuation">,</span> chA<span class="token punctuation">,</span> unicode<span class="token punctuation">.</span><span class="token function">IsLetter</span><span class="token punctuation">(</span>chA<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">//A,true  </span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c,%v\n"</span><span class="token punctuation">,</span> ch2<span class="token punctuation">,</span> unicode<span class="token punctuation">.</span><span class="token function">IsDigit</span><span class="token punctuation">(</span>ch2<span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">//2,true  </span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c,%v\n"</span><span class="token punctuation">,</span> space<span class="token punctuation">,</span> unicode<span class="token punctuation">.</span><span class="token function">IsSpace</span><span class="token punctuation">(</span>space<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ,true</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　字符串" class="heading" id="○　字符串"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　字符串</h5><div class="heading-children"><div><p>一个字符串是一个不可改变的字节序列，字符串可以包含任意的数据，但是通常是用来包含可读的文本，字符串是 UTF-8 字符的一个序列。</p></div><div><p>字符串的定义：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> mystr <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"hello"</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>go 语言从底层就支持 UTF-8 编码。</strong></p></div><div><blockquote>
<p>UTF-8 是一种被广泛使用的编码格式，是文本文件的标准编码。</p>
<p>由于该编码对占用字节长度的不定性，在 Go 语言中字符串也可能根据需要占用 1 至 4 个字节，这与其它编程语言不同。</p>
<p>Go 语言这样做不仅减少了内存和硬盘空间占用，同时也不用像其它语言那样需要对使用 UTF-8 字符集的文本进行编码和解码。</p>
</blockquote></div><div class="heading-wrapper"><h6 data-heading="●　字符串不可变" class="heading" id="●　字符串不可变"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　字符串不可变</h6><div class="heading-children"><div><p><code>字符串是一种值类型，且值不可变，即创建某个文本后将无法再次修改这个文本的内容。</code></p></div><div><p><code>当字符为 ASCII 码表上的字符时则占用 1 个字节</code></p></div><div><p><strong>字符串中可以使用转义字符来实现换行、缩进等效果，常用的转义字符包括:</strong></p></div><div><ol>
<li data-line="0"><code>\n</code> 换行符</li>
<li data-line="1"><code>\r</code> 回车符</li>
<li data-line="2"><code>\t</code> tab 键</li>
<li data-line="3"><code>\u 或 \U</code> Unicode 字符</li>
<li data-line="4"><code>\</code> 反斜杠自身</li>
</ol></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"码神之路\nGo大法好"</span>
fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>如果使用``反引号，会被原样进行赋值和输出</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`\t 码神之路Go大法好`</span><span class="token punctuation">)</span>  <span class="token comment">// \t 码神之路Go大法好</span>
 fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`\t 码神之路
 Go大法好`</span><span class="token punctuation">)</span> <span class="token comment">//使用反引号 可以进行字符串换行</span>
<span class="token comment">//反引号一般用在 需要将内容进行原样输出的时候 使用</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>字符串是字节的定长数组，byte 和 rune 都是字符类型，若多个字符放在一起，就组成了字符串</strong></p></div><div><p>比如 <code>hello</code> ，对照 ascii 编码表，每个字母对应的编号是：104,101,108,108,111</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> myStr01 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"hello"</span>  
<span class="token keyword">var</span> myStr02 <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">}</span>  
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"myStr01: %s\n"</span><span class="token punctuation">,</span> myStr01<span class="token punctuation">)</span> <span class="token comment">//myStr01: hello  </span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"myStr02: %s"</span><span class="token punctuation">,</span> myStr02<span class="token punctuation">)</span>   <span class="token comment">//myStr02: hello</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h6 data-heading="●　字符串获取和比较" class="heading" id="●　字符串获取和比较"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　字符串获取和比较</h6><div class="heading-children"><div><p>字符串的内容（纯字节）可以通过标准索引法来获取，在方括号 <code>[ ]</code> 内写入索引，索引从 0 开始计数，获取的是索引的字节：</p></div><div><ul>
<li data-line="0">字符串 str 的第 1 个字节：str[0]</li>
<li data-line="1">第 i 个字节：str[i - 1]</li>
<li data-line="2">最后 1 个字节：str[len (str)-1]</li>
</ul></div><div><p>这种转换方案只对纯 ASCII 码的字符串有效。<br>
对于有 Unicode 字符的，字符串中的字符可能由多个字节组成，使用下标就会出错。</p></div><div><blockquote>
<p>注意：获取字符串中某个字节的地址属于非法行为，例如 &amp;str[i]。</p>
</blockquote></div><div><p>一般的比较运算符（==、!=、&lt;、&lt;=、&gt;=、&gt;）是通过在内存中按字节比较，来实现字符串比较的，因此比较的结果是字符串自然编码的顺序。</p></div><div><p><strong>从字符串 <code>Hello, 世界</code> 中获取 <code>界</code> 该如何方便获取呢？</strong></p></div><div><p>直接索引对 rune 类型无效，可以使用 string 方法转换</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>myStr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">str <span class="token operator">:=</span> <span class="token string">"Hello, 我的世界"</span>  
char <span class="token operator">:=</span> str<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span>           <span class="token comment">// 想获取指定索引位置的字符  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span>        <span class="token comment">//228  </span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%c\n"</span><span class="token punctuation">,</span> char<span class="token punctuation">)</span> <span class="token comment">//发现不是想要的，结果：æ  </span>
  
<span class="token comment">//  fmt.Println(&amp;str[7]) //非法行为，编译报错  </span>
<span class="token comment">//  fmt.Println(&amp;char)   //不非法  </span>
  
<span class="token comment">//获取指定字节范围的字符串 或 子串 或 字符  </span>
slice <span class="token operator">:=</span> str<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span>        <span class="token comment">//我  </span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v\n"</span><span class="token punctuation">,</span> slice<span class="token punctuation">)</span> <span class="token comment">//我  </span>
  
<span class="token comment">//想要获取指定字符  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//世</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h6 data-heading="●　字符串拼接“+”" class="heading" id="●　字符串拼接“+”"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　字符串拼接“+”</h6><div class="heading-children"><div><p>两个字符串 s 1 和 s 2 可以通过 s := s 1 + s 2 拼接在一起。将 s 2 追加到 s 1 尾部并生成一个新的字符串 s。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//最好放在一行，如果分行“+”必须放在第一行末尾。</span>
<span class="token comment">//因为编译器会在行尾自动补全分号</span>
str <span class="token operator">=</span> <span class="token string">"第一部分 "</span> <span class="token operator">+</span> <span class="token string">"第二部分"</span>
str <span class="token operator">=</span> <span class="token string">"第一部分 "</span> <span class="token operator">+</span>  
    <span class="token string">"第二部分"</span>  
</code><button class="copy-code-button">复制</button></pre></div><div><p></p><div alt="assets/101、Go语言基础2/img-20240113_104300.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_104300.png" class="internal-embed media-embed image-embed is-loaded" style="width: 475px; max-width: 100%;"><img alt="assets/101、Go语言基础2/img-20240113_104300.png" src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_104300.png" style="width: 475px; max-width: 100%;"></div><p></p></div><div><p>也可以使用“+=”来对字符串进行拼接：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">s <span class="token operator">:=</span> <span class="token string">"hel"</span> <span class="token operator">+</span> <span class="token string">"lo,"</span>
s <span class="token operator">+=</span> <span class="token string">"world!"</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">//输出 “hello, world!”</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>除了使用 <code>+</code> 进行拼接，我们也可以使用 <code>WriteString()</code></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">str1 <span class="token operator">:=</span> <span class="token string">"你好,"</span>  
str2 <span class="token operator">:=</span> <span class="token string">"码神之路"</span>  
<span class="token keyword">var</span> stringBuilder bytes<span class="token punctuation">.</span>Buffer  
<span class="token comment">//节省内存分配，提高处理效率  </span>
stringBuilder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span>  
stringBuilder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h6 data-heading="●　字符串输出" class="heading" id="●　字符串输出"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　字符串输出</h6><div class="heading-children"><div><ul>
<li data-line="0"><code>print ：</code> 结果写到标准输出</li>
<li data-line="1"><code>Sprint：</code> 结果会以字符串形式返回</li>
</ul></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">str1 <span class="token operator">:=</span> <span class="token string">"你好,"</span>  
str2 <span class="token operator">:=</span> <span class="token string">"码神之路"</span>  
<span class="token keyword">var</span> stringBuilder bytes<span class="token punctuation">.</span>Buffer  
stringBuilder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span>  
stringBuilder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span>  
<span class="token comment">// Sprint 以字符串形式返回  </span>
result <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">//你好,码神之路</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>   <span class="token comment">//</span>
</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token operator">%</span>c  单一字符
<span class="token operator">%</span>T  动态类型
<span class="token operator">%</span>v  本来值的输出
<span class="token operator">%</span><span class="token operator">+</span>v 字段名<span class="token operator">+</span>值打印
<span class="token operator">%</span>d  十进制打印数字
<span class="token operator">%</span>p  指针，十六进制
<span class="token operator">%</span>f  浮点数
<span class="token operator">%</span>b 二进制
<span class="token operator">%</span>s <span class="token builtin">string</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div></div></div><div class="heading-wrapper"><h4 data-heading="2、复杂类型" class="heading" id="2、复杂类型"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2、复杂类型</h4><div class="heading-children"><div class="heading-wrapper"><h5 data-heading="○　指针" class="heading" id="○　指针"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　指针</h5><div class="heading-children"><div><p>指针（pointer）在 Go 语言中可以被拆分为两个核心概念：</p></div><div><ul>
<li data-line="0">类型指针，允许对这个指针类型的数据进行修改，传递数据可以直接使用指针，而无须拷贝数据，类型指针不能进行偏移和运算。</li>
<li data-line="1">切片，由指向起始元素的原始指针、元素数量和容量组成。</li>
</ul></div><div><p>受益于这样的约束和拆分，Go 语言的指针类型变量即拥有指针高效访问的特点，又不会发生指针偏移，从而避免了非法修改关键性数据的问题。</p></div><div><p>同时，<code>垃圾回收</code> 也比较容易对不会发生偏移的指针进行检索和回收。</p></div><div><p>切片比原始指针具备更强大的特性，而且更为安全。</p></div><div><p>切片在发生越界时，运行时会报出宕机，并打出堆栈，而原始指针只会崩溃。</p></div><div class="heading-wrapper"><h6 data-heading="●　如何理解指针" class="heading" id="●　如何理解指针"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　如何理解指针</h6><div class="heading-children"><div><blockquote>
<p>Var a int = 10</p>
<p>解释：<br>
<strong>在内存中开辟了一片空间，空间内存放着数值 10，这片空间在整个内存当中，有一个唯一的地址，用来进行标识，指向这个地址的变量就称为指针。</strong></p>
<p>如果用类比的说明：<br>
内存比作酒店，每个房间就是一块内存，上述代码表示为：定了一间房间 a，让 10 住进了房间，房间有一个门牌号 px，这个 px 就是房间的地址，房卡可以理解为就是指针，指向这个地址。</p>
</blockquote></div><div><p>每个变量在运行时都拥有一个地址，这个地址代表变量在内存中的位置。<br>
<strong>变量、指针和地址三者的关系是，每个变量都拥有地址，指针的值就是地址</strong></p></div><div><blockquote>
<p>一个指针变量可以指向任何一个值的内存地址，它所指向的值的内存地址在 32 和 64 位机器上分别占用 4 或 8 个字节，占用字节的大小与所指向的值的大小无关。</p>
</blockquote></div></div></div><div class="heading-wrapper"><h6 data-heading="●　定义取值" class="heading" id="●　定义取值"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　定义取值</h6><div class="heading-children"><div><p>最重要的就是两个符号：<br>
<code>&amp;</code> 取内存地址<br>
<code>*</code> 根据地址取值<br>
取地址操作符 <code>&amp;</code> 和取值操作符 <code>*</code> 是一对互补操作符</p></div><div><p>样例如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//其中 v 代表被取地址的变量，变量 v 的地址使用变量 ptr 进行接收，ptr 的类型为*T，称做 T 的指针类型，*代表指针。</span>
<span class="token keyword">var</span> ptr <span class="token operator">*</span>T <span class="token operator">=</span> <span class="token operator">&amp;</span>v

<span class="token comment">//简短格式</span>
ptr <span class="token operator">:=</span> <span class="token operator">&amp;</span>v    <span class="token comment">// v 的类型为 T</span>
</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 指针与变量</span>
	<span class="token keyword">var</span> room <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// room房间 里面放的 变量10  </span>
	<span class="token keyword">var</span> ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>room   <span class="token comment">// 门牌号px  指针  0xc00000a0b8  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"变量的内存地址:%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>room<span class="token punctuation">)</span> <span class="token comment">// 变量的内存地址: 0xc00000a0b8  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%T, %p\n"</span><span class="token punctuation">,</span> ptr<span class="token punctuation">,</span> ptr<span class="token punctuation">)</span>  <span class="token comment">// *int, 0xc00000a0b8  </span>
	  
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"指针地址:"</span><span class="token punctuation">,</span> ptr<span class="token punctuation">)</span>     <span class="token comment">// 指针地址:0xc00000a0a8  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"指针地址代表的值"</span><span class="token punctuation">,</span> <span class="token operator">*</span>ptr<span class="token punctuation">)</span> <span class="token comment">// 10</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>变量、指针地址、指针变量、取地址、取值的相互关系和特性如下：</p></div><div><ul>
<li data-line="0">对变量进行取地址操作使用 <code>&amp;</code> 操作符，可以获得这个变量的指针变量。</li>
<li data-line="1">指针变量的值是指针地址。</li>
<li data-line="2">对指针变量进行取值操作使用 <code>*</code> 操作符，可以获得指针变量指向的原变量的值。</li>
</ul></div></div></div><div class="heading-wrapper"><h6 data-heading="●　使用指针修改值" class="heading" id="●　使用指针修改值"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　使用指针修改值</h6><div class="heading-children"><div><p>通过指针不仅可以取值，也可以修改值。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 利用指针修改值</span>
	<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span>
	<span class="token function">modifyFromPoint</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"未使用指针，方法外"</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span> <span class="token comment">//未使用指针，方法外 10</span>

	<span class="token keyword">var</span> num2 <span class="token operator">=</span> <span class="token number">22</span>
	<span class="token function">newModifyFromPoint</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>num2<span class="token punctuation">)</span>     <span class="token comment">// 传入指针</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"使用指针 方法外"</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token comment">//使用指针 方法外 1000</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">modifyFromPoint</span><span class="token punctuation">(</span>num <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 未使用指针</span>
	num <span class="token operator">=</span> <span class="token number">10000</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"未使用指针，方法内:"</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span> <span class="token comment">//未使用指针，方法内: 10000</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">newModifyFromPoint</span><span class="token punctuation">(</span>ptr <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 使用指针</span>
	<span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token number">1000</span>                    <span class="token comment">// 修改指针地址指向的值</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"使用指针，方法内:"</span><span class="token punctuation">,</span> <span class="token operator">*</span>ptr<span class="token punctuation">)</span> <span class="token comment">//使用指针，方法内: 1000</span>

<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h6 data-heading="●　创建指针的另一种方法" class="heading" id="●　创建指针的另一种方法"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　创建指针的另一种方法</h6><div class="heading-children"><div><p>Go 语言还提供了另外一种方法来创建指针变量，格式如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token function">new</span><span class="token punctuation">(</span>类型<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">str <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>
<span class="token operator">*</span>str <span class="token operator">=</span> <span class="token string">"码神之路Go语言教程"</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>str<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>new () 函数可以创建一个对应类型的指针，创建过程会分配内存，被创建的指针指向默认值。</strong></p></div></div></div><div class="heading-wrapper"><h6 data-heading="●　命令行参数取值" class="heading" id="●　命令行参数取值"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　命令行参数取值</h6><div class="heading-children"><div><p>获取命令行的输入信息</p></div><div><p>Go 语言内置的 flag 包实现了对命令行参数的解析，flag 包使得开发命令行工具更为简单。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token comment">// 导入系统包</span>
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"flag"</span>
    <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token comment">// flag 包用于处理命令行参数</span>
<span class="token comment">// 定义命令行参数 mode，在命令行中不指定 `-mode` 参数，那么 `mode` 变量将使用默认值（空字符串）</span>
<span class="token comment">// "fast模式能让程序运行的更快"这个是说明字符串，主要用于在用户使用 `-h` 或 `--help` 参数时显示帮助信息。</span>
<span class="token keyword">var</span> mode <span class="token operator">=</span> flag<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">"mode"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"fast模式能让程序运行的更快"</span><span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 解析命令行参数</span>
	flag<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>mode<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div><div><p>帮助提示如下：<br>
</p><div src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240114_104359.png" class="internal-embed media-embed image-embed is-loaded"><img src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240114_104359.png"></div><p></p></div><div><p>执行结果如下：<br>
</p><div src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240114_104008.png" class="internal-embed media-embed image-embed is-loaded"><img src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240114_104008.png"></div><p></p></div></div></div><div class="heading-wrapper"><h6 data-heading="●　注意事项" class="heading" id="●　注意事项"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　注意事项</h6><div class="heading-children"><div><p>A）当一个指针被定义后 <code>没有分配到任何变量</code> 时，它的默认值为 <code>nil</code>。<br>
B）指针变量接收的一定是地址值</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token string">"fmt"</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> room <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// room房间 里面放的 变量10  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>room<span class="token punctuation">)</span>  
  
    <span class="token comment">//var ptr *int = room 编译报错  </span>
    <span class="token keyword">var</span> ptr <span class="token operator">*</span><span class="token builtin">int</span>  
    ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>room  
    <span class="token comment">// println(ptr)  //由于 fmt.Println() 和 println() 是两个独立的函数调用，它们的执行顺序是不确定的，可能受到编译器优化、操作系统调度等因素的影响。  </span>
  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>C）基本数据类型（又叫值类型），都有对应的指针类型, 形式为 <code>*数据类型</code> ，比如 int 的对应的指针就是 <code>*int </code>, float 32 对应的指针类型就是 <code>*float 32</code>。指针变量的地址不可以不匹配。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> room <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">10</span>  
<span class="token keyword">var</span> ptr <span class="token operator">*</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>room <span class="token comment">//编译错误  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div></div></div><div class="heading-wrapper"><h4 data-heading="3、类型转化" class="heading" id="3、类型转化"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3、类型转化</h4><div class="heading-children"><div><p>在必要以及可行的情况下，一个类型的值可以被转换成另一种类型的值。由于 Go 语言不存在隐式类型转换，因此所有的类型转换都必须显式的声明：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//类型 B 的值 = 类型 B(类型 A 的值)</span>
valueOfTypeB <span class="token operator">=</span> <span class="token keyword">type</span> <span class="token function">B</span><span class="token punctuation">(</span>valueOfTypeA<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>示例：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">a <span class="token operator">:=</span> <span class="token number">5.0</span>
b <span class="token operator">:=</span> <span class="token function">int</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div class="heading-wrapper"><h5 data-heading="○　注意事项" class="heading" id="○　注意事项"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　注意事项</h5><div class="heading-children"><div><p>❶ 类型转换只能在定义正确的情况下转换成功<br>
例如从一个取值范围较小的类型转换到一个取值范围较大的类型（将 int 16 转换为 int 32）。</p></div><div><p>❷ 当从一个取值范围较大的类型转换到取值范围较小的类型时<br>
将 int 32 转换为 int 16 或将 float 32 转换为 int，会发生 <code>精度丢失</code> 的情况。</p></div><div><p>❸ 只有相同底层类型的变量之间可以进行相互转换<br>
如将 int 16 类型转换成 int 32 类型，不同底层类型的变量相互转换时会引发编译错误（如将 bool 类型转换为 int 类型）</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"math"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 输出各数值范围</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"int8 range:"</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>MinInt8<span class="token punctuation">,</span> math<span class="token punctuation">.</span>MaxInt8<span class="token punctuation">)</span>    <span class="token comment">//int8 range: -128 127</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"int16 range:"</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>MinInt16<span class="token punctuation">,</span> math<span class="token punctuation">.</span>MaxInt16<span class="token punctuation">)</span> <span class="token comment">//int16 range: -32768 32767</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"int32 range:"</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>MinInt32<span class="token punctuation">,</span> math<span class="token punctuation">.</span>MaxInt32<span class="token punctuation">)</span> <span class="token comment">//int32 range: -2147483648 2147483647</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"int64 range:"</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>MinInt64<span class="token punctuation">,</span> math<span class="token punctuation">.</span>MaxInt64<span class="token punctuation">)</span> <span class="token comment">//int64 range: -9223372036854775808 9223372036854775807</span>
	<span class="token comment">// 初始化一个32位整型值</span>
	<span class="token keyword">var</span> a <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">1047483647</span>  <span class="token comment">//变量 a 的值 1047483647 不在int16范围内</span>
	<span class="token comment">// 输出变量的十六进制形式和十进制值</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"int32: 0x%x %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token comment">//int32: 0x3e6f54ff 1047483647</span>
	<span class="token comment">// 将a变量数值转换为十六进制, 发生数值截断</span>
	b <span class="token operator">:=</span> <span class="token function">int16</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
	<span class="token comment">// 输出变量的十六进制形式和十进制值</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"int16: 0x%x %d\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token comment">//int16: 0x54ff 21759</span>
	<span class="token comment">// 将常量保存为float32类型</span>
	<span class="token keyword">var</span> c <span class="token builtin">float32</span> <span class="token operator">=</span> math<span class="token punctuation">.</span>Pi
	<span class="token comment">// 转换为int类型, 浮点发生精度丢失</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">int</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//3</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　字符串与其他数据类型的转换" class="heading" id="○　字符串与其他数据类型的转换"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　字符串与其他数据类型的转换</h5><div class="heading-children"><div><p>❶ 整数与字符串</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token punctuation">(</span>  
    <span class="token string">"fmt"</span>  
    <span class="token string">"strconv"</span> <span class="token comment">//string conversion  </span>
<span class="token punctuation">)</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token comment">// 字符串与其他类型的转换  </span>
    <span class="token comment">// str 转 int    newStr1 := "1"  </span>
    intValue<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span>newStr1<span class="token punctuation">)</span>      <span class="token comment">//Atoi 的全称是 "ASCII to integer"    fmt.Printf("%T,%d\n", intValue, intValue) // int,1  </span>
  
    <span class="token comment">// int 转 str    intValue2 := 1  </span>
    strValue <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>intValue2<span class="token punctuation">)</span>        <span class="token comment">//Itoa 的全称是 "integer to ASCII"    fmt.Printf("%T, %s\n", strValue, strValue) //string, 1  </span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❷ 浮点数与字符串</p></div><div><pre class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token comment">// str 转  floatstring3 := "3.1415926"  </span>
f<span class="token punctuation">,</span> _ <span class="token operator">:</span><span class="token operator">=</span> <span class="token class-name"><span class="token namespace">strconv<span class="token punctuation">.</span></span>ParseFloat</span><span class="token punctuation">(</span>string3<span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span>  
<span class="token class-name"><span class="token namespace">fmt<span class="token punctuation">.</span></span>Printf</span><span class="token punctuation">(</span><span class="token string">"%T, %f\n"</span><span class="token punctuation">,</span> f<span class="token punctuation">,</span> f<span class="token punctuation">)</span> <span class="token comment">// float64, 3.141593  </span>
<span class="token comment">//float 转 stringfloatValue := 3.1415926  </span>
<span class="token comment">//4个参数，  </span>
<span class="token comment">//1：要转换的浮点数  </span>
<span class="token comment">//2. 格式标记（b、e、E、f、g、G）  </span>
<span class="token comment">//3. 精度  </span>
<span class="token comment">//4. 指定浮点类型（32:float32、64:float64）  </span>
<span class="token comment">// 格式标记：  </span>
<span class="token comment">// ‘b’ (-ddddp±ddd，二进制指数)  </span>
<span class="token comment">// ‘e’ (-d.dddde±dd，十进制指数)  </span>
<span class="token comment">// ‘E’ (-d.ddddE±dd，十进制指数)  </span>
<span class="token comment">// ‘f’ (-ddd.dddd，没有指数)  </span>
<span class="token comment">// ‘g’ (‘e’:大指数，‘f’:其它情况)  </span>
<span class="token comment">// ‘G’ (‘E’:大指数，‘f’:其它情况)  </span>
<span class="token comment">//  </span>
<span class="token comment">// 如果格式标记为 ‘e’，‘E’和’f’，则 prec 表示小数点后的数字位数  </span>
<span class="token comment">// 如果格式标记为 ‘g’，‘G’，则 prec 表示总的数字位数（整数部分+小数部分）  </span>
formatFloat <span class="token operator">:</span><span class="token operator">=</span> <span class="token class-name"><span class="token namespace">strconv<span class="token punctuation">.</span></span>FormatFloat</span><span class="token punctuation">(</span>floatValue<span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>  
<span class="token class-name"><span class="token namespace">fmt<span class="token punctuation">.</span></span>Printf</span><span class="token punctuation">(</span><span class="token string">"%T,%s"</span><span class="token punctuation">,</span> formatFloat<span class="token punctuation">,</span> formatFloat<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="三）运算符" class="heading" id="三）运算符"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>三）运算符</h3><div class="heading-children"><div><p>运算符是—种特殊的符号，用以表示数据的运算、赋值和比较等。</p></div><div><p></p><div src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_141917.png" class="internal-embed media-embed image-embed is-loaded"><img src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_141917.png"></div><p></p></div><div><p><strong>运算符优先级</strong></p></div><div><blockquote>
<p>所谓优先级，就是当多个运算符出现在同一个表达式中时，先执行哪个运算符。</p>
</blockquote></div><div><p>Go 语言有几十种运算符，被分成十几个级别，有的运算符优先级不同，有的运算符优先级相同，请看下表。<br>
<strong>注意：优先级值越大，表示优先级越高。</strong></p></div><div style="overflow-x: auto;"><table>
<thead>
<tr>
<th>优先级</th>
<th>分类</th>
<th>运算符</th>
<th>结合性</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>逗号运算符</td>
<td>,</td>
<td>从左到右</td>
</tr>
<tr>
<td>2</td>
<td>赋值运算符</td>
<td>=、+=、-=、*=、/=、 %=、 &gt;=、 &lt;&lt;=、&amp;=、^=、|=</td>
<td>从右到左</td>
</tr>
<tr>
<td>3</td>
<td>逻辑或</td>
<td>|</td>
<td>从左到右</td>
</tr>
<tr>
<td>4</td>
<td>逻辑与</td>
<td>&amp;&amp;</td>
<td>从左到右</td>
</tr>
<tr>
<td>5</td>
<td>按位或</td>
<td>|</td>
<td>从左到右</td>
</tr>
<tr>
<td>6</td>
<td>按位异或</td>
<td>^</td>
<td>从左到右</td>
</tr>
<tr>
<td>7</td>
<td>按位与</td>
<td>&amp;</td>
<td>从左到右</td>
</tr>
<tr>
<td>8</td>
<td>相等/不等</td>
<td>==、!=</td>
<td>从左到右</td>
</tr>
<tr>
<td>9</td>
<td>关系运算符</td>
<td>&lt;、&lt;=、&gt;、&gt;=</td>
<td>从左到右</td>
</tr>
<tr>
<td>10</td>
<td>位移运算符</td>
<td>&lt;&lt;、&gt;&gt;</td>
<td>从左到右</td>
</tr>
<tr>
<td>11</td>
<td>加法/减法</td>
<td>+、-</td>
<td>从左到右</td>
</tr>
<tr>
<td>12</td>
<td>乘法/除法/取余</td>
<td>*（乘号）、/、%</td>
<td>从左到右</td>
</tr>
<tr>
<td>13</td>
<td>单目运算符</td>
<td>!、*（指针）、&amp; 、++、--、+（正号）、-（负号）</td>
<td>从右到左</td>
</tr>
<tr>
<td>14</td>
<td>后缀运算符</td>
<td>( )、[ ]、-&gt;</td>
<td>从左到右</td>
</tr>
</tbody>
</table></div><div><p>一下子记住所有运算符的优先级并不容易，还好 Go 语言中大部分运算符的优先级和数学中是一样的，大家在以后的编程过程中也会逐渐熟悉起来。如果实在搞不清，可以加括号，就像下面这样：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">d <span class="token operator">:=</span> a <span class="token operator">+</span> <span class="token punctuation">(</span>b <span class="token operator">*</span> c<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>括号的优先级是最高的，括号中的表达式会优先执行，这样各个运算符的执行顺序就一目了然了。</p></div><div class="heading-wrapper"><h5 data-heading="○　算术运算符" class="heading" id="○　算术运算符"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　算术运算符</h5><div class="heading-children"><div><p>【1】算术运算符：<code>+ ，-，*，/，%，++，--</code><br>
【2】介绍：算术运算符是对数值类型的变量进行运算的，比如，加减乘除</p></div></div></div><div class="heading-wrapper"><h5 data-heading="○　赋值运算符" class="heading" id="○　赋值运算符"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　赋值运算符</h5><div class="heading-children"><div><p>【1】赋值运算符： <code>=,+=，-=，*=，/=,%=</code><br>
【2】赋值运算符就是将某个运算后的值，赋给指定的变量。</p><div><pre class="dataview dataview-error">Dataview (inline field ',+=，-=，*=，/=,%='): Error: 
-- PARSING FAILED --------------------------------------------------

&gt; 1 | ,+=，-=，*=，/=,%=
    | ^

Expected one of the following: 

'(', 'null', boolean, date, duration, file link, list ('[1, 2, 3]'), negated field, number, object ('{ a: 1, b: 2 }'), string, variable
</pre></div></div></div></div><div class="heading-wrapper"><h5 data-heading="○　关系运算符" class="heading" id="○　关系运算符"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　关系运算符</h5><div class="heading-children"><div><p>【1】关系运算符：<code>==,!=,&gt;,&lt;,&gt; =，&lt;=</code><br>
关系运算符的结果都是 bool 型，也就是要么是 true，要么是 false</p><div><pre class="dataview dataview-error">Dataview (inline field '=,!=,&gt;,&lt;,&gt; =，&lt;='): Error: 
-- PARSING FAILED --------------------------------------------------

&gt; 1 | =,!=,&gt;,&lt;,&gt; =，&lt;=
    | ^

Expected one of the following: 

'(', 'null', boolean, date, duration, file link, list ('[1, 2, 3]'), negated field, number, object ('{ a: 1, b: 2 }'), string, variable
</pre></div></div><div><p>【2】关系表达式经常用在流程控制中</p></div></div></div><div class="heading-wrapper"><h5 data-heading="○　逻辑运算符" class="heading" id="○　逻辑运算符"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　逻辑运算符</h5><div class="heading-children"><div><p>【1】逻辑运算符：<code>&amp;&amp;(逻辑与/短路与)，||（逻辑或/短路或），!（逻辑非）</code><br>
【2】用来进行逻辑运算的</p></div></div></div><div class="heading-wrapper"><h5 data-heading="○　位运算符" class="heading" id="○　位运算符"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　位运算符</h5><div class="heading-children"><div><p>下面是常见的位运算符及其功能：</p></div><div><ol>
<li data-line="0">按位与（AND）：<code>a &amp; b</code>&nbsp;执行按位与操作，返回一个新的值，其中每个对应的位都是在&nbsp;<code>a</code>&nbsp;和&nbsp;<code>b</code>&nbsp;中对应位都为 1 时为 1，否则为 0。</li>
<li data-line="2">按位或（OR）：<code>a | b</code>&nbsp;执行按位或操作，返回一个新的值，其中每个对应的位都是在&nbsp;<code>a</code>&nbsp;和&nbsp;<code>b</code>&nbsp;中至少有一个对应位为 1 时为 1，否则为 0。</li>
<li data-line="4">按位异或（XOR）：<code>a ^ b</code>&nbsp;执行按位异或操作，返回一个新的值，其中每个对应的位都是在&nbsp;<code>a</code>&nbsp;和&nbsp;<code>b</code>&nbsp;中只有一个对应位为 1 时为 1，否则为 0。</li>
<li data-line="6">按位取反（NOT）：<code>^a</code>&nbsp;执行按位取反操作，返回一个新的值，其中每个对应的位都是&nbsp;<code>a</code>&nbsp;中对应位的补码（0 变为 1，1 变为 0）。</li>
<li data-line="8">左移（Left Shift）：<code>a &lt;&lt; b</code>&nbsp;执行左移操作，将&nbsp;<code>a</code>&nbsp;的二进制表示向左移动&nbsp;<code>b</code>&nbsp;位，并在右侧填充零。这相当于将&nbsp;<code>a</code>&nbsp;的值乘以 2 的&nbsp;<code>b</code>&nbsp;次幂。</li>
<li data-line="10">右移（Right Shift）：<code>a &gt;&gt; b</code>&nbsp;执行右移操作，将&nbsp;<code>a</code>&nbsp;的二进制表示向右移动&nbsp;<code>b</code>&nbsp;位。对于无符号整数，左侧插入 0；对于有符号整数，左侧插入符号位的副本。</li>
</ol></div></div></div><div class="heading-wrapper"><h5 data-heading="○　其它运算符" class="heading" id="○　其它运算符"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　其它运算符　</h5><div class="heading-children"><div><p>【1】其它运算符：<code>&amp; *</code><br>
<code>&amp;</code> ：返回变量的存储地址<br>
<code>*</code> ：取指针变量对应的数值</p></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="四）流程控制" class="heading" id="四）流程控制"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>四）流程控制</h3><div class="heading-children"><div class="heading-wrapper"><h4 data-heading="1、分支结构" class="heading" id="1、分支结构"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1、分支结构</h4><div class="heading-children"><div class="heading-wrapper"><h5 data-heading="○　if" class="heading" id="○　if"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　if</h5><div class="heading-children"><div><p>在 Go 语言中，关键字 <code>if</code> 是用于测试某个条件（布尔型或逻辑型）的语句，如果该条件成立，则会执行 if 后由大括号 <code>{}</code> 括起来的代码块，否则就忽略该代码块继续执行后续的代码。</p></div><div><p>❶ 单分支</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">if</span> condition <span class="token punctuation">{</span>
    <span class="token comment">// 条件为真执行</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//样例</span>
x <span class="token operator">:=</span> <span class="token number">0</span>
<span class="token keyword">if</span> x <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"为真进入这里"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❷ 双分支</p></div><div><p>如果存在第二个分支，则可以在上面代码的基础上添加 <code>else</code> 关键字以及另一代码块，这个代码块中的代码只有在条件不满足时才会执行，if 和 else 后的两个代码块是相互独立的分支，只能执行其中一个。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">if</span> condition <span class="token punctuation">{</span>
    <span class="token comment">// 条件为真 执行</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 条件不满足 执行</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> count <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">70</span>
<span class="token keyword">if</span> count <span class="token operator">&lt;</span> <span class="token number">30</span> <span class="token punctuation">{</span> <span class="token comment">//这个条件表达式返回的是true的话，后面{}执行了</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"库存不足"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">//count &gt;= 30</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"库存充足"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❸多分支</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">基本语法
<span class="token keyword">if</span> 条件表达式<span class="token number">1</span> <span class="token punctuation">{</span>
    逻辑代码<span class="token number">1</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> 条件表达式<span class="token number">2</span> <span class="token punctuation">{</span>
    逻辑代码<span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
                逻辑代码n
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//实现功能：根据给出的学生分数，判断学生的等级：</span>
        <span class="token comment">// &gt;=90  -----A</span>
        <span class="token comment">// &gt;=80  -----B</span>
        <span class="token comment">// &gt;=70  -----C</span>
        <span class="token comment">// &gt;=60  -----D</span>
        <span class="token comment">// &lt;60   -----E</span>

        <span class="token comment">//多分支：优点：如果已经走了一个分支了，那么下面的分支就不会再去判断执行了</span>
        <span class="token keyword">if</span> score <span class="token operator">&gt;=</span> <span class="token number">90</span> <span class="token punctuation">{</span>
        	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"您的成绩为A级别"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> score <span class="token operator">&gt;=</span> <span class="token number">80</span> <span class="token punctuation">{</span><span class="token comment">//else隐藏：score &lt; 90</span>
        	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"您的成绩为B级别"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> score <span class="token operator">&gt;=</span> <span class="token number">70</span> <span class="token punctuation">{</span><span class="token comment">//score &lt; 80</span>
        	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"您的成绩为C级别"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> score <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token punctuation">{</span><span class="token comment">//score &lt; 70</span>
        	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"您的成绩为D级别"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">//score &lt; 60</span>
        	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"您的成绩为E级别"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token comment">//建议你保证else的存在，只有有了else才会真正 起到多选一 的效果</span>

<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❹ If 嵌套</p></div><div><p>if 语句可以嵌套：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">/* 定义局部变量 */</span>
   <span class="token keyword">var</span> a <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">100</span>
   <span class="token keyword">var</span> b <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">200</span>
   <span class="token comment">/* 判断条件 */</span>
   <span class="token keyword">if</span> a <span class="token operator">==</span> <span class="token number">100</span> <span class="token punctuation">{</span>
       <span class="token comment">/* if 条件语句为 true 执行 */</span>
       <span class="token keyword">if</span> b <span class="token operator">==</span> <span class="token number">200</span> <span class="token punctuation">{</span>
          <span class="token comment">/* if 条件语句为 true 执行 */</span>
          fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"a 的值为 100 ， b 的值为 200\n"</span> <span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❺ 特殊写法</p></div><div><p>If 还有一种特殊的写法，可以在 if 表达式之前添加一个执行语句，再根据变量值进行判断，代码如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">if</span> a <span class="token operator">:=</span> <span class="token number">10</span><span class="token punctuation">;</span> a <span class="token operator">&gt;</span><span class="token number">5</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>这种写法可以将返回值与判断放在一行进行处理，而且返回值的作用范围被限制在 if、else 语句组合中。</p></div><div><blockquote>
<p>在编程中，变量的作用范围越小，所造成的问题可能性越小，每一个变量代表一个状态，有状态的地方，状态就会被修改，函数的局部变量只会影响一个函数的执行，但全局变量可能会影响所有代码的执行状态，因此限制变量的作用范围对代码的稳定性有很大的帮助。</p>
</blockquote></div></div></div><div class="heading-wrapper"><h5 data-heading="○　swich" class="heading" id="○　swich"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　swich</h5><div class="heading-children"><div><blockquote>
<p>Switch 语句用于基于不同条件执行不同动作，每一个 case 分支都是唯一的，从上至下逐一测试，直到匹配为止。</p>
<p>Switch 分支表达式可以是任意类型，不限于常量。<strong>可省略 break，默认自动终止。</strong></p>
</blockquote></div><div><p>Switch 语句的语法如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">switch</span> 表达式var1 <span class="token punctuation">{</span>
	<span class="token keyword">case</span> val1<span class="token punctuation">,</span>val2<span class="token punctuation">,</span><span class="token punctuation">.</span>…<span class="token punctuation">.</span><span class="token punctuation">:</span>
	  语句块<span class="token number">1</span>
	<span class="token keyword">case</span> 值<span class="token number">3</span><span class="token punctuation">,</span>值<span class="token number">4</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">:</span>
	  语句块<span class="token number">2</span>
	<span class="token operator">...</span><span class="token punctuation">.</span>
	<span class="token keyword">default</span><span class="token punctuation">:</span>
	 语句块
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><code>变量 var1</code> 可以是任何类型，而 val1 和 val2 则可以是 <code>同类型的任意值</code>。</p></div><div><p>类型不被局限于常量或整数，但必须是相同的类型；或者最终结果为相同类型的表达式。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">/* 定义局部变量 */</span>
	<span class="token keyword">var</span> grade <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"B"</span>
	<span class="token keyword">var</span> score <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">90</span>

	<span class="token keyword">switch</span> score <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token number">90</span><span class="token punctuation">:</span> grade <span class="token operator">=</span> <span class="token string">"A"</span>
		<span class="token keyword">case</span> <span class="token number">80</span><span class="token punctuation">:</span> grade <span class="token operator">=</span> <span class="token string">"B"</span>
		<span class="token keyword">case</span> <span class="token number">50</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">70</span> <span class="token punctuation">:</span> grade <span class="token operator">=</span> <span class="token string">"C"</span>
		<span class="token keyword">default</span><span class="token punctuation">:</span> grade <span class="token operator">=</span> <span class="token string">"D"</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//swtich后面如果没有条件表达式，则会对true进行匹配</span>
	<span class="token comment">//swtich后面如果没有条件表达式，则会对true进行匹配</span>
	<span class="token keyword">switch</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> grade <span class="token operator">==</span> <span class="token string">"A"</span> <span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"优秀!\n"</span> <span class="token punctuation">)</span>
		<span class="token keyword">case</span> grade <span class="token operator">==</span> <span class="token string">"B"</span><span class="token punctuation">,</span> grade <span class="token operator">==</span> <span class="token string">"C"</span> <span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"良好\n"</span> <span class="token punctuation">)</span>
		<span class="token keyword">case</span> grade <span class="token operator">==</span> <span class="token string">"D"</span> <span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"及格\n"</span> <span class="token punctuation">)</span>
		<span class="token keyword">case</span> grade <span class="token operator">==</span> <span class="token string">"F"</span><span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"不及格\n"</span> <span class="token punctuation">)</span>
		<span class="token keyword">default</span><span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"差\n"</span> <span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"你的等级是 %s\n"</span><span class="token punctuation">,</span> grade <span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>Go 里面 switch 默认相当于每个 case 最后带有 break，匹配成功后不会自动向下执行其他 case，而是跳出整个 switch<br>
如果想要进入下一个 case，使用 <code>fallthrough</code> 关键字。</p>
</blockquote></div><div><p>注意事项：</p></div><div><p>加了 fallthrough 后，会直接运行【紧跟的后一个】case 或 default 语句，不论条件是否满足都会执行</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">"hello"</span>  
<span class="token keyword">switch</span> <span class="token punctuation">{</span>  
<span class="token keyword">case</span> s <span class="token operator">==</span> <span class="token string">"hello"</span><span class="token punctuation">:</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span>  
    <span class="token keyword">fallthrough</span>  
<span class="token keyword">case</span> s <span class="token operator">==</span> <span class="token string">"world"</span><span class="token punctuation">:</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"world"</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
<span class="token comment">// 结果：</span>
<span class="token comment">// hello</span>
<span class="token comment">// world</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h4 data-heading="2、循环结构" class="heading" id="2、循环结构"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2、循环结构</h4><div class="heading-children"><div><blockquote>
<p>Go 语言中的循环语句只支持 for 关键字，这个其他语言是不同的。</p>
</blockquote></div><div class="heading-wrapper"><h5 data-heading="○　for" class="heading" id="○　for"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　for</h5><div class="heading-children"><div><p>❶ 标准方式</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//这是最常见的`for`循环形式。</span>
<span class="token comment">//`initialization`是循环变量的初始表达式，</span>
<span class="token comment">//`condition`是循环条件</span>
<span class="token comment">//`post`是每次循环迭代完成后执行的语句(迭代因子)。</span>

<span class="token keyword">for</span> initialization<span class="token punctuation">;</span> condition<span class="token punctuation">;</span> post <span class="token punctuation">{</span>
    <span class="token comment">// 循环体</span>
<span class="token punctuation">}</span>
<span class="token comment">// 初始表达式 不能用var定义变量的形式，要用:=</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>样例：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">sum <span class="token operator">:=</span> <span class="token number">0</span>
<span class="token comment">//i := 0; 赋初值，i&lt;10 循环条件 如果为真就继续执行 ；i++ 后置执行 执行后继续循环</span>
<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+=</span> i
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❷ for 省略 </p></div><div><p>(A) 省略初始表达式</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">
<span class="token keyword">for</span> <span class="token punctuation">;</span> condition<span class="token punctuation">;</span> post <span class="token punctuation">{</span>
    <span class="token comment">// 循环体</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>(B) 省略初始化、后置语句的形式</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">for</span> condition <span class="token punctuation">{</span>
    <span class="token comment">// 循环体</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>(C) 无限循环形式</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">for</span> <span class="token punctuation">{</span>
    <span class="token comment">// 循环体</span>
<span class="token punctuation">}</span>

<span class="token comment">//或者</span>
<span class="token keyword">for</span> <span class="token punctuation">;</span><span class="token punctuation">;</span> <span class="token punctuation">{</span>
	<span class="token comment">// 循环体</span>
 <span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❸  For range </p></div><div><blockquote>
<p>For range 结构是 Go 语言特有的一种的迭代结构，for range 可以遍历数组、切片、字符串、map 及管道（channel）<br>
语法上类似于其它语言中的 foreach 语句。</p>
</blockquote></div><div><p>一般形式为：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">for</span> key<span class="token punctuation">,</span> val <span class="token operator">:=</span> <span class="token keyword">range</span> coll <span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> str <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"hello golang你好"</span>
<span class="token keyword">for</span> i <span class="token punctuation">,</span> value <span class="token operator">:=</span> <span class="token keyword">range</span> str <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"索引为：%d,具体的值为：%c \n"</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong><code>val</code> 始终为集合中对应索引的 <code>值拷贝</code>，因此它一般只具有只读性质，对它所做的任何修改都不会影响到集合中原有的值</strong></p></div><div><p>字符串也可以使用 for range:</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">	str <span class="token operator">:=</span> <span class="token string">"码神之路"</span>
	<span class="token comment">//因为一个字符串是 Unicode 编码的字符（或称之为 rune ）集合</span>
	<span class="token comment">//char 实际类型是 rune 类型</span>
	<span class="token keyword">for</span> pos<span class="token punctuation">,</span> char <span class="token operator">:=</span> <span class="token keyword">range</span> str <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span>char<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>每个 rune 字符和索引在 for range 循环中是一一对应的，它能够自动根据 UTF-8 规则识别 Unicode 编码的字符。</p></div><div><p>通过 for range 遍历的返回值有一定的规律：</p></div><div><ul>
<li data-line="0">数组、切片、字符串返回索引和值。</li>
<li data-line="1">Map 返回键和值。</li>
<li data-line="2">Channel 只返回管道内的值。</li>
</ul></div></div></div><div class="heading-wrapper"><h5 data-heading="○　结束循环的方式" class="heading" id="○　结束循环的方式"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　结束循环的方式</h5><div class="heading-children"><div><p>  ❶ continue</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">step <span class="token operator">:=</span> <span class="token number">100</span>  
<span class="token keyword">for</span> step <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>  
    step<span class="token operator">--</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>  
    <span class="token comment">//结束本次循环，继续下一次循环  </span>
    <span class="token keyword">if</span> step<span class="token operator">%</span><span class="token number">6</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>  
       <span class="token keyword">continue</span>  
    <span class="token punctuation">}</span>  
    <span class="token comment">//i % 6 == 0下面这句才执行  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"after continue"</span> <span class="token operator">+</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
<span class="token comment">//会执行  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"结束之后的语句...."</span><span class="token punctuation">)</span>

<span class="token comment">//结果：</span>
<span class="token comment">//99</span>
<span class="token comment">//98</span>
<span class="token comment">//97</span>
<span class="token comment">//96</span>
<span class="token comment">//after continue96</span>
<span class="token comment">//.......</span>

</code><button class="copy-code-button">复制</button></pre></div><div><p>Continue 的作用是结束离它近的那个循环，继续离它近的那个循环:</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//双重循环：</span>
<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>  
    <span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">10</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">13</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>  
       <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">||</span> j <span class="token operator">==</span> <span class="token number">12</span> <span class="token punctuation">{</span>  
          <span class="token keyword">continue</span>  
       <span class="token punctuation">}</span>  
       fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i: %v, j: %v \n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"-----ok"</span><span class="token punctuation">)</span>

<span class="token comment">//结果：</span>
<span class="token comment">//i: 0, j: 10 </span>
<span class="token comment">//i: 0, j: 11 </span>
<span class="token comment">//i: 0, j: 13 </span>
<span class="token comment">//i: 1, j: 10 </span>
<span class="token comment">//i: 1, j: 11 </span>
<span class="token comment">//i: 1, j: 13 </span>
<span class="token comment">//i: 3, j: 10 </span>
<span class="token comment">//i: 3, j: 11 </span>
<span class="token comment">//i: 3, j: 13 </span>
<span class="token comment">//-----ok</span>

</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>continue 语句后添加 <code>标签</code> 时，表示开始 <code>标签对应的循环</code></p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//双重循环：</span>
outerLoop<span class="token punctuation">:</span>  
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>  
       <span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">10</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">13</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>  
          <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">||</span> j <span class="token operator">==</span> <span class="token number">12</span> <span class="token punctuation">{</span>  
             <span class="token keyword">continue</span> outerLoop  
          <span class="token punctuation">}</span>  
          fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i: %v, j: %v \n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>  
       <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"-----ok"</span><span class="token punctuation">)</span>

<span class="token comment">//结果：</span>
<span class="token comment">//i: 0, j: 10 </span>
<span class="token comment">//i: 0, j: 11 </span>
<span class="token comment">//i: 1, j: 10 </span>
<span class="token comment">//i: 1, j: 11 </span>
<span class="token comment">//i: 3, j: 10 </span>
<span class="token comment">//i: 3, j: 11 </span>
<span class="token comment">//-----ok</span>

</code><button class="copy-code-button">复制</button></pre></div><div><p> ❷ break</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">step <span class="token operator">:=</span> <span class="token number">100</span> 
<span class="token keyword">for</span> step <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>  
    step<span class="token operator">--</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>  
    <span class="token comment">//跳出循环,还会继续执行循环外的语句  </span>
    <span class="token keyword">break</span>  
<span class="token punctuation">}</span>  
<span class="token comment">//会执行  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"结束之后的语句...."</span><span class="token punctuation">)</span>

<span class="token comment">//结果：</span>
<span class="token comment">//99</span>
<span class="token comment">//结束之后的语句....</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><code>outerLoop</code>&nbsp;是一个&nbsp;<code>label</code>，它被应用在外部的&nbsp;<code>for</code>&nbsp;循环上。当内部的&nbsp;<code>if</code>&nbsp;条件满足时，会执行&nbsp;<code>break outerLoop</code>&nbsp;语句，跳出外部的循环。这样可以实现在多层嵌套循环中直接跳出指定的循环。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
OuterLoop<span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>
            <span class="token keyword">switch</span> j <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
                fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
                <span class="token keyword">break</span> OuterLoop
            <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>
                fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
                <span class="token keyword">break</span> OuterLoop
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><code>label</code> 需和 continue 和 break 一起使用，不能单独使用。<br>
需要注意的是，<code>label</code>&nbsp;的使用是可选的，大多数情况下，我们可以通过适当的控制流程和条件语句来避免使用&nbsp;<code>label</code>。在实际编程中，过多或滥用&nbsp;<code>label</code>&nbsp;可能会导致代码变得难以理解和维护，因此需要慎重使用。</p></div><div><p>❸ Return</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">step <span class="token operator">:=</span> <span class="token number">100</span>
<span class="token keyword">for</span> step <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>  
   step<span class="token operator">--</span>  
   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>  
   <span class="token comment">//执行一次就结束了  </span>
   <span class="token keyword">return</span>  
<span class="token punctuation">}</span>  
<span class="token comment">//不会执行  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"结束之后的语句...."</span><span class="token punctuation">)</span>

<span class="token comment">//结果：</span>
<span class="token comment">//99</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❹ Painc</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">step <span class="token operator">:=</span> <span class="token number">2</span>  
<span class="token keyword">for</span> step <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>  
   step<span class="token operator">--</span>  
   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>  
   <span class="token comment">//报错了，直接结束  </span>
   <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"出错了"</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
<span class="token comment">//不会执行  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"结束之后的语句...."</span><span class="token punctuation">)</span>	
</code><button class="copy-code-button">复制</button></pre></div><div><p>❺ Goto</p></div><div><blockquote>
<p>【1】Golang 的 goto 语句可以无条件地转移到程序中指定的行。<br>
【2】goto 语句通常与条件语句配合使用。可用来实现条件转移.<br>
【3】在 Go 程序设计中一般不建议使用 goto 语句，以免造成程序流程的混乱。</p>
<p>在 Java 编程语言中是没有&nbsp;<code>goto</code>&nbsp;关键字的。这也是因为&nbsp;<code>goto</code>&nbsp;语句会导致代码的控制流变得不清晰和难以理解，容易引发编程错误。</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> x <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> x<span class="token operator">++</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> y <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> y<span class="token operator">++</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> y <span class="token operator">==</span> <span class="token number">2</span> <span class="token punctuation">{</span>
                <span class="token comment">// 跳转到标签</span>
                <span class="token keyword">goto</span> breakHere
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 手动返回, 避免执行进入标签</span>
    <span class="token keyword">return</span>
    <span class="token comment">// 标签</span>
breakHere<span class="token punctuation">:</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"done"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　循环优化" class="heading" id="○　循环优化"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　循环优化</h5><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">func</span> <span class="token function">length</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"call length."</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	s <span class="token operator">:=</span> <span class="token string">"abcd"</span>
    <span class="token comment">// 这样写会多次调佣length函数</span>
	<span class="token keyword">for</span> i<span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">length</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>     
		<span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>优化：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">func</span> <span class="token function">length</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"call length."</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	s <span class="token operator">:=</span> <span class="token string">"abcd"</span>
    <span class="token comment">// 值调用一次</span>
	<span class="token keyword">for</span> i<span class="token punctuation">,</span>n<span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token function">length</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>     
		<span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="三、函数与过程" class="heading" id="三、函数与过程"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>三、函数与过程</h2><div class="heading-children"><div><p>函数是组织好的、可重复使用的、用来实现单一或相关联功能的代码段，其可以提高应用的模块性和代码的重复利用率。</p></div><div><p>Go 语言支持普通函数、匿名函数和闭包，从设计上对函数进行了优化和改进，让函数使用起来更加方便。</p></div><div><p>Go 语言的函数属于“一等公民”（first-class），也就是说：</p></div><div><ul>
<li data-line="0">函数本身可以作为值进行传递。</li>
<li data-line="1">支持匿名函数和闭包（closure）</li>
<li data-line="2">函数可以满足接口</li>
</ul></div><div><blockquote>
<p>【2】Golang 中函数不支持重载<br>
【3】Golang 中支持可变参数 (如果你希望函数带有可变数量的参数)<br>
【4】基本数据类型和数组默认都是值传递的，即进行值拷贝。在函数内修改，不会影响到原来的值<br>
以值传递方式的数据类型，如果希望在函数内的变量能修改函数外的变量，可以传入变量的地址&amp;，函数内以指针的方式操作变量。从效果来看类似引用传递。</p>
</blockquote></div><div class="heading-wrapper"><h3 data-heading="1、函数定义" class="heading" id="1、函数定义"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1、函数定义</h3><div class="heading-children"><div><p><strong>函数定义:</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">function_name</span><span class="token punctuation">(</span> <span class="token punctuation">[</span>parameter list<span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">[</span>return_types<span class="token punctuation">]</span> <span class="token punctuation">{</span>
   函数体
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><ul>
<li data-line="0">func：函数由 func 开始声明</li>
<li data-line="1">function_name：函数名称，函数名和参数列表一起构成了函数签名。<br>
首字母不能是数字<br>
首字母大写该函数可以被本包文件和其它包文件使用 (类似 public)<br>
首学母小写只能被本包文件使用，其它包文件不能使用 (类似 private)</li>
<li data-line="5">parameter list：参数列表，参数就像一个占位符，当函数被调用时，你可以将值传递给参数，这个值被称为 <code>实际参数</code>。<br>
参数列表指定的是参数类型、顺序、及参数个数。<br>
参数是可选的，函数可以不包含参数。</li>
<li data-line="8">return_types：<code>返回类型，函数返回一列值</code>。<br>
return_types 是该函数的返回类型。<br>
返回值是可选的，函数可以不包含返回值。</li>
<li data-line="11">函数体：函数定义的代码集合。</li>
</ul></div><div><p>示例：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//类型相同的相邻参数，参数类型可合并。</span>
<span class="token keyword">func</span> <span class="token function">max</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> n1 <span class="token operator">&gt;</span> n2 <span class="token punctuation">{</span>
		<span class="token keyword">return</span> n1
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> n2
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h3 data-heading="2、函数使用事项" class="heading" id="2、函数使用事项"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2、函数使用事项</h3><div class="heading-children"><div class="heading-wrapper"><h5 data-heading="○　函数位置和顺序" class="heading" id="○　函数位置和顺序"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　函数位置和顺序</h5><div class="heading-children"><div><p>函数和函数是并列的关系，所以我们定义的函数不能写到 main 函数中，且函数编写的顺序是无关紧要的。</p></div><div><p>鉴于可读性的需求，最好把 main () 函数写在文件的前面，其他函数按照一定逻辑顺序进行编写（例如函数被调用的顺序）。</p></div></div></div><div class="heading-wrapper"><h5 data-heading="○　函数不支持重载" class="heading" id="○　函数不支持重载"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　函数不支持重载</h5><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token string">"fmt"</span>  
  
<span class="token keyword">func</span> <span class="token function">printMessage</span><span class="token punctuation">(</span>message <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Printing message:"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">printMessage</span><span class="token punctuation">(</span>message <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//Goland这里会标红</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Printing message:"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token function">printMessage</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span> <span class="token comment">// 编译错误：duplicate function printMessage  </span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　函数也是一种数据类型" class="heading" id="○　函数也是一种数据类型"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　函数也是一种数据类型</h5><div class="heading-children"><div><p>函数也是一种数据类型，可以赋值给一个变量，则该变量就是一个函数类型的变量了。通过该变量可以对函数调用。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token comment">// 定义一个函数：</span>
<span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span>num <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//函数也是一种数据类型，可以赋值给一个变量</span>
	a <span class="token operator">:=</span> test                                        <span class="token comment">//变量就是一个函数类型的变量</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"a的类型是：%T,test函数的类型是：%T \n"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> test<span class="token punctuation">)</span> <span class="token comment">//a的类型是：func(int),test函数的类型是：func(int)</span>
	<span class="token comment">//通过该变量可以对函数调用</span>
	<span class="token function">a</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">//等价于  test(10)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="3、参数" class="heading" id="3、参数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3、参数</h3><div class="heading-children"><div><blockquote>
<p>函数定义时指出，函数定义时有参数，该变量可称为函数的形参。<br>
形参就像定义在函数体内的局部变量。</p>
</blockquote></div><div class="heading-wrapper"><h5 data-heading="○　参数传递" class="heading" id="○　参数传递"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　参数传递</h5><div class="heading-children"><div><p>但当 <code>调用函数</code>，传递过来的变量就是函数的 <code>实参</code>，函数可以通过两种方式来传递参数，<strong>值传递</strong>和<strong>引用传递</strong>。</p></div><div class="heading-wrapper"><h6 data-heading="●　值传递" class="heading" id="●　值传递"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　值传递</h6><div class="heading-children"><div><p>指在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">modifyValue</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">,</span> arr <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	x <span class="token operator">=</span> <span class="token number">100</span>
	arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">999</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	value <span class="token operator">:=</span> <span class="token number">5</span>
	array <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Before function call:"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Value:"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token comment">// 输出：Value: 5</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Array:"</span><span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token comment">// 输出：Array: [1 2 3]</span>

	<span class="token function">modifyValue</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> array<span class="token punctuation">)</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"After function call:"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Value:"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token comment">// 输出：Value: 5</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Array:"</span><span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token comment">// 输出：Array: [1 2 3]</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h6 data-heading="●　引用传递" class="heading" id="●　引用传递"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　引用传递</h6><div class="heading-children"><div><p>是指在调用函数时将实际参数的地址传递到函数中，那么在函数中对参数所进行的修改，将影响到实际参数。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token comment">/* 定义相互交换值的函数 */</span>
<span class="token keyword">func</span> <span class="token function">swap</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token operator">*</span>x<span class="token punctuation">,</span><span class="token operator">*</span>y <span class="token operator">=</span> <span class="token operator">*</span>y<span class="token punctuation">,</span><span class="token operator">*</span>x
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> a<span class="token punctuation">,</span> b <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span>
	<span class="token comment">/*
	   调用 swap() 函数
	   &amp;a 指向 a 指针，a 变量的地址
	   &amp;b 指向 b 指针，b 变量的地址
	*/</span>
	<span class="token function">swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p><code>注意1：</code> 无论是值传递，还是引用传递，传递给函数的都是变量的副本，不过，值传递是值的拷贝。引用传递是地址的拷贝，一般来说，地址拷贝更为高效。而值拷贝取决于拷贝的对象大小，对象越大，则性能越低。<br>
基本数据类型和数组默认都是值传递的，即进行值拷贝。在函数内修改，不会影响到原来的值。</p>
<p><code>注意2：</code> map、slice、chan、指针、interface 默认以引用的方式传递。</p>
</blockquote></div></div></div></div></div><div class="heading-wrapper"><h5 data-heading="○　不定参数（可变参数）" class="heading" id="○　不定参数（可变参数）"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　不定参数（可变参数）</h5><div class="heading-children"><div><p>函数的参数不是固定的，后面的类型是固定的。（可变参数）</p></div><div><p>Golang 可变参数本质上就是 slice。<br>
只能有一个，且必须是最后一个。</p></div><div><p>在参数赋值时可以不用用一个一个的赋值，可以直接传递一个数组或者切片。</p></div><div><p>格式:</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">myfunc</span><span class="token punctuation">(</span>args <span class="token operator">...</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//0个或多个参数  </span>
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">add</span><span class="token punctuation">(</span>a <span class="token builtin">int</span><span class="token punctuation">,</span> args <span class="token operator">...</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>    <span class="token comment">//1个或多个参数  </span>
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">add2</span><span class="token punctuation">(</span>a <span class="token builtin">int</span><span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">,</span> args <span class="token operator">...</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>    <span class="token comment">//2个或多个参数  </span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>注意：其中 args 是一个 slice，我们可以通过 arg[index]依次访问所有参数, 通过 len (arg)来判断传递参数的个数.</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token punctuation">(</span>  
    <span class="token string">"fmt"</span>  
<span class="token punctuation">)</span>  
  
<span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">,</span> n <span class="token operator">...</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> x <span class="token builtin">int</span>  
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> n <span class="token punctuation">{</span>  
       x <span class="token operator">+=</span> i  
    <span class="token punctuation">}</span>  
  
    <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> x<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>  
    res <span class="token operator">:=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"sum: %d"</span><span class="token punctuation">,</span> s<span class="token operator">...</span><span class="token punctuation">)</span> <span class="token comment">// slice... 展开slice  </span>
    <span class="token function">println</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　函数做为参数" class="heading" id="○　函数做为参数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　函数做为参数</h5><div class="heading-children"><div><blockquote>
<p>函数做为一等公民，可以做为参数传递。</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//传入函数参数fn，返回类型要int</span>
<span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span>fn <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//定义一个函数 fn</span>
<span class="token keyword">func</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token builtin">int</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//这是直接使用匿名函数</span>
    s1 <span class="token operator">:=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> 
    <span class="token comment">//这是传入一个函数</span>
    s1 <span class="token operator">:=</span> <span class="token function">test</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>在将函数做为参数的时候，我们可以使用类型定义，将函数定义为类型，这样便于阅读</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token comment">// FormatFunc 定义函数类型。</span>
<span class="token keyword">type</span> FormatFunc <span class="token keyword">func</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">string</span>

<span class="token comment">// format方法，参数为type是：FormatFunc的func</span>
<span class="token keyword">func</span> <span class="token function">format</span><span class="token punctuation">(</span>fn FormatFunc<span class="token punctuation">,</span> s <span class="token builtin">string</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 定义一个满足type是：FormatFunc的func</span>
<span class="token keyword">func</span> <span class="token function">formatFun</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	s2 <span class="token operator">:=</span> <span class="token function">format</span><span class="token punctuation">(</span>formatFun<span class="token punctuation">,</span> <span class="token string">"%d, %d"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div><div><p>有返回值的函数，必须有明确的终止语句，否则会引发编译错误。</p></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="4、返回值" class="heading" id="4、返回值"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4、返回值</h3><div class="heading-children"><div class="heading-wrapper"><h5 data-heading="○　无返回值" class="heading" id="○　无返回值"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　无返回值</h5><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">greet</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello, "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"!"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">)</span>
	<span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">"Bob"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　多返回值" class="heading" id="○　多返回值"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　多返回值</h5><div class="heading-children"><div><p>函数返回值可以有多个，同时 Go 支持对返回值命名</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//多个返回值 用括号扩起来</span>
<span class="token keyword">func</span> <span class="token function">sumSub</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    sum <span class="token operator">:=</span> a <span class="token operator">+</span> b  
    sub <span class="token operator">:=</span> a <span class="token operator">-</span> b  
    <span class="token keyword">return</span> sum<span class="token punctuation">,</span> sub  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    sum<span class="token punctuation">,</span> sub <span class="token operator">:=</span> <span class="token function">sumSub</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> sub<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>对函数返回值命名，里面顺序就无所谓了，顺序不用对应</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// 对函数返回值命名，里面顺序就无所谓了，顺序不用对应  </span>
<span class="token keyword">func</span> <span class="token function">multiplyDivide</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>multiply<span class="token punctuation">,</span> divide <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    divide <span class="token operator">=</span> a <span class="token operator">/</span> b  
    multiply <span class="token operator">=</span> a <span class="token operator">*</span> b  
    <span class="token keyword">return</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    q<span class="token punctuation">,</span> r <span class="token operator">:=</span> <span class="token function">multiplyDivide</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"multiply:"</span><span class="token punctuation">,</span> q<span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"divide:"</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　隐式返回" class="heading" id="○　隐式返回"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　隐式返回</h5><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token comment">//默认值为类型零值,</span>
<span class="token comment">//命名返回参数可看做与形参类似的局部变量</span>
<span class="token comment">//由return隐式返回</span>
<span class="token keyword">func</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>names <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> num <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   m <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
   m<span class="token punctuation">[</span><span class="token string">"k1"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
   <span class="token keyword">return</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">:=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　接收返回" class="heading" id="○　接收返回"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　接收返回</h5><div class="heading-children"><div><p>通过使用&nbsp;<code>_</code>，我们告诉编译器我们不打算使用该位置的值，从而避免编译时产生未使用变量的警告。<br>
在这个例子中，我们只打印出&nbsp;<code>c</code>，而忽略了其他两个返回值。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span><span class="token punctuation">,</span> c <span class="token operator">:=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="5、Init 函数" class="heading" id="5、Init_函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>5、Init 函数</h3><div class="heading-children"><div><p>初始化函数，可以用来进行一些初始化的操作。<br>
每一个源文件都可以包含一个 init 函数，该函数会在 main 函数执行前，被 Go 运行框架调用。</p></div><div class="heading-wrapper"><h5 data-heading="○　执行顺序" class="heading" id="○　执行顺序"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　执行顺序</h5><div class="heading-children"><div><p><code>init</code>&nbsp;函数的执行流程如下：</p></div><div><ol>
<li data-line="0">Go 程序首先会初始化包级别的常量和变量。<br>
包级别的变量和常量声明通常在包的顶层，位于函数之外。</li>
<li data-line="2">如果包级别存在全局变量的初始化表达式，则会按照顺序执行这些初始化表达式。<br>
例如其他函数方法</li>
<li data-line="4">每个包可以有多个&nbsp;<code>init</code>&nbsp;函数<br>
会按照它们在源代码中的顺序依次执行。</li>
<li data-line="6"><code>init</code>&nbsp;函数在程序运行时只执行一次，<br>
在包被第一次导入时调用。多次导入同一个包，<code>init</code>&nbsp;函数只会执行一次。</li>
<li data-line="8">如果引入其他包，优先加载依赖包的常量、变量、<code>init</code>&nbsp;函数<br>
依赖包按照上面 1-4 的顺序。<br>
依赖多个包，按照包的顺序</li>
<li data-line="11">Go 语言中禁止循环依赖的存在<br>
但包的依赖关系可以是多层嵌套的<br>
如果包存在依赖，不同包的 init 函数按照包导入的依赖关系决定执行顺序。调用顺序为最后被依赖的最先被初始化，如导入顺序 main &gt; a &gt; b &gt; c，则初始化顺序为 c &gt; b &gt; a &gt; main，依次执行对应的 init 方法。</li>
</ol></div><div><p> <code>引入包（多层嵌套按初始化顺序，非多层按包引入顺序） -&gt; 全局变量&nbsp;-&gt;&nbsp;init() -&gt; main()</code></p></div><div><p>如图：<br>
</p><div src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_213810.png" class="internal-embed media-embed image-embed is-loaded"><img src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_213810.png"></div><p></p></div><div><p>单文件：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token punctuation">(</span>  
    <span class="token string">"fmt"</span>  
<span class="token punctuation">)</span>  
  
<span class="token keyword">var</span> preference <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token keyword">var</span> message <span class="token builtin">string</span>  
  
<span class="token comment">// 被成员变量调用了，所以先执行  </span>
<span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"--------Test method--------"</span><span class="token punctuation">)</span>  
    <span class="token comment">//fmt.Println("Preference:", preference) //被循环初始化了 initialization cycle for preference    fmt.Println("Message:", message)  </span>
    <span class="token keyword">return</span> <span class="token string">"testString"</span>  
<span class="token punctuation">}</span>  
  
<span class="token comment">// 在调用init，preference已经被赋值  </span>
<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"--------First init--------"</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Preference:"</span><span class="token punctuation">,</span> preference<span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Message:"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span>  
    message <span class="token operator">=</span> <span class="token string">"Hello, world!"</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"--------Second init--------"</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Preference:"</span><span class="token punctuation">,</span> preference<span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Message:"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
  
<span class="token comment">// main 是最后调用的  </span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"--------Main function--------"</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Preference:"</span><span class="token punctuation">,</span> preference<span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Message:"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>


<span class="token comment">//结果：</span>
<span class="token comment">//--------Test method--------</span>
<span class="token comment">//Message: </span>
<span class="token comment">//--------First init--------</span>
<span class="token comment">//Preference: testString</span>
<span class="token comment">//Message: </span>
<span class="token comment">//--------Second init--------</span>
<span class="token comment">//Preference: testString</span>
<span class="token comment">//Message: Hello, world!</span>
<span class="token comment">//--------Main function--------</span>
<span class="token comment">//Preference: testString</span>
<span class="token comment">//Message: Hello, world!</span>

</code><button class="copy-code-button">复制</button></pre></div><div><p>多文件 init 方法顺序：</p></div><div><p></p><div src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_213221.png" class="internal-embed media-embed image-embed is-loaded"><img src="02、多编程语言/03、go语言/01、go语言基础/assets/101、go语言基础2/img-20240113_213221.png"></div><p></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token punctuation">(</span>  
    <span class="token string">"awesomeProject/mypackage"</span>  
    <span class="token string">"fmt"</span><span class="token punctuation">)</span>  
  
<span class="token keyword">var</span> preference <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token keyword">var</span> message <span class="token builtin">string</span>  
  
<span class="token comment">// 被成员变量调用了，所以先执行  </span>
<span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"--------Test method--------"</span><span class="token punctuation">)</span>  
    <span class="token comment">//fmt.Println("Preference:", preference) //被循环初始化了 initialization cycle for preference    fmt.Println("Message:", message)  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"File1 gol value:"</span><span class="token punctuation">,</span> mypackage<span class="token punctuation">.</span>File1<span class="token punctuation">)</span>  
    mypackage<span class="token punctuation">.</span>File1 <span class="token operator">=</span> <span class="token string">"test()"</span>  
    <span class="token keyword">return</span> <span class="token string">"testString"</span>  
<span class="token punctuation">}</span>  
  
<span class="token comment">// 在调用init，preference已经被赋值  </span>
<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"--------First init--------"</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Preference:"</span><span class="token punctuation">,</span> preference<span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Message:"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span>  
    message <span class="token operator">=</span> <span class="token string">"Hello, world!"</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"--------Second init--------"</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Preference:"</span><span class="token punctuation">,</span> preference<span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Message:"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
  
<span class="token comment">// main 是最后调用的  </span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"--------Main function--------"</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"File1 gol value:"</span><span class="token punctuation">,</span> mypackage<span class="token punctuation">.</span>File1<span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Preference:"</span><span class="token punctuation">,</span> preference<span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Message:"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>

<span class="token comment">//Init in file1.go</span>
<span class="token comment">//Init in file2.go</span>
<span class="token comment">//--------Test method--------</span>
<span class="token comment">//Message: </span>
<span class="token comment">//File1 gol value: </span>
<span class="token comment">//--------First init--------</span>
<span class="token comment">//Preference: testString</span>
<span class="token comment">//Message: </span>
<span class="token comment">//--------Second init--------</span>
<span class="token comment">//Preference: testString</span>
<span class="token comment">//Message: Hello, world!</span>
<span class="token comment">//--------Main function--------</span>
<span class="token comment">//File1 gol value: test()</span>
<span class="token comment">//Preference: testString</span>
<span class="token comment">//Message: Hello, world!</span>

</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="5、匿名函数" class="heading" id="5、匿名函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>5、匿名函数</h3><div class="heading-children"><div><p>匿名函数是指不需要定义函数名的函数，由一个不带函数名的函数声明和函数体组成。<br>
可以直接使用函数内的变量，不必声明。</p></div><div><p>在 Go 里面，函数可以像普通变量一样被传递或使用，支持随时在代码里定义匿名函数。</p></div><div><p>匿名函数的定义格式如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span><span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span><span class="token punctuation">(</span>返回参数列表<span class="token punctuation">)</span><span class="token punctuation">{</span>
    函数体
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div class="heading-wrapper"><h5 data-heading="○　函数变量" class="heading" id="○　函数变量"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　函数变量</h5><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
    <span class="token string">"math"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//这里将一个函数当做一个变量一样的操作。</span>
    getSqrt <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>a <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">getSqrt</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//2</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>全局变量：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token string">"fmt"</span>  
  
<span class="token comment">// FunMul 全局函数  </span>
<span class="token keyword">var</span> FunMul <span class="token operator">=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>num1 <span class="token builtin">int</span><span class="token punctuation">,</span> num2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>  
    <span class="token keyword">return</span> num1 <span class="token operator">*</span> num2  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token comment">//定义匿名函数：定义的同时调用  </span>
    result <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>num1 <span class="token builtin">int</span><span class="token punctuation">,</span> num2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>  
       <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2  
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment">//返回的直接是调用结果  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"类型：%T ,值：%v \n"</span><span class="token punctuation">,</span> result<span class="token punctuation">,</span> result<span class="token punctuation">)</span> <span class="token comment">//类型：int ,值：30  </span>
  
    <span class="token comment">//将匿名函数赋给一个变量，这个变量实际就是函数类型的变量  </span>
    <span class="token comment">//sub等价于匿名函数  </span>
    sub <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>num1 <span class="token builtin">int</span><span class="token punctuation">,</span> num2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>  
       <span class="token keyword">return</span> num1 <span class="token operator">-</span> num2  
    <span class="token punctuation">}</span>  
    <span class="token comment">//直接调用sub就是调用这个匿名函数了  </span>
    result01 <span class="token operator">:=</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>result01<span class="token punctuation">)</span> <span class="token comment">//40  </span>
  
    result02 <span class="token operator">:=</span> <span class="token function">FunMul</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>result02<span class="token punctuation">)</span> <span class="token comment">//12  </span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　定义时调用" class="heading" id="○　定义时调用"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　定义时调用</h5><div class="heading-children"><div><p>匿名函数可以在声明后调用，例如：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span><span class="token punctuation">(</span>data <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">//(100)，表示对匿名函数进行调用，传递参数为 100。</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　当做形参" class="heading" id="○　当做形参"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　当做形参</h5><div class="heading-children"><div><p>匿名函数作为回调函数的设计在 Go 语言也比较常见</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
<span class="token keyword">import</span> <span class="token punctuation">(</span>  
    <span class="token string">"fmt"</span>  
<span class="token punctuation">)</span>  
  

<span class="token keyword">func</span> <span class="token function">visit</span><span class="token punctuation">(</span>list <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 遍历切片的每个元素, 通过给定函数进行元素访问  </span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> list <span class="token punctuation">{</span>
       <span class="token function">f</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>      <span class="token comment">// 使用匿名函数打印切片内容  </span>
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
	<span class="token comment">//传入一个数组和匿名的函数func</span>
    <span class="token function">visit</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>v <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
       fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>  
    <span class="token punctuation">}</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　当做返回" class="heading" id="○　当做返回"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　当做返回</h5><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">FGen</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">//求和的匿名函数</span>
	sum <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> x <span class="token operator">+</span> y
	<span class="token punctuation">}</span>

	<span class="token comment">// (x+y) *z 的匿名函数</span>
	avg <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>z <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span> <span class="token operator">*</span> z
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> sum<span class="token punctuation">,</span> avg
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	f1<span class="token punctuation">,</span> f2 <span class="token operator">:=</span> <span class="token function">FGen</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//3</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//9</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="6、闭包" class="heading" id="6、闭包"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>6、闭包</h3><div class="heading-children"><div><blockquote>
<p>闭包是指：一个函数可以访问并操作其绑定的外部作用域中的变量，即使在函数被调用之后，这些变量的生命周期仍然存在。<br>
闭包 = 函数 + 引用环境</p>
</blockquote></div><div><p>示例：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token comment">// 创建一个玩家生成器, 输入名称, 输出生成器</span>
<span class="token keyword">func</span> <span class="token function">playerGen</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 血量一直为150</span>
	hp <span class="token operator">:=</span> <span class="token number">150</span>
	<span class="token comment">// 返回创建的闭包</span>
	<span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 将变量引用到闭包中</span>
		<span class="token keyword">return</span> name<span class="token punctuation">,</span> hp
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 创建一个玩家生成器</span>
	generator <span class="token operator">:=</span> <span class="token function">playerGen</span><span class="token punctuation">(</span><span class="token string">"码神"</span><span class="token punctuation">)</span>
	<span class="token comment">// 返回玩家的名字和血量</span>
	name<span class="token punctuation">,</span> hp <span class="token operator">:=</span> <span class="token function">generator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// 打印值</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> hp<span class="token punctuation">)</span>

	generator2 <span class="token operator">:=</span> <span class="token function">playerGen</span><span class="token punctuation">(</span><span class="token string">"大佬"</span><span class="token punctuation">)</span>
	name2<span class="token punctuation">,</span> hp2 <span class="token operator">:=</span> <span class="token function">generator2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// 打印值</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>name2<span class="token punctuation">,</span> hp2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>被调用后，引用环境依旧存在：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token punctuation">(</span>  
    <span class="token string">"fmt"</span>  
<span class="token punctuation">)</span>  
  
<span class="token keyword">func</span> <span class="token function">adder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>  
    sum <span class="token operator">:=</span> <span class="token number">0</span>  
    <span class="token comment">// 返回一个内部函数，该函数捕获了外部函数的 `sum` 变量  </span>
    <span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>  
       sum <span class="token operator">+=</span> x  
       <span class="token keyword">return</span> sum  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token comment">// 创建一个 `add` 函数，它是一个闭包  </span>
    add <span class="token operator">:=</span> <span class="token function">adder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    <span class="token comment">// 使用闭包 `add` 进行累加操作  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 输出: 10  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 输出: 15  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 输出: 18  </span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div class="heading-wrapper"><h5 data-heading="○　使用注意" class="heading" id="○　使用注意"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　使用注意</h5><div class="heading-children"><div><p>❶ 返回的是一个匿名函数，但是这个匿名函数引用到函数外的变量/参数 ,因此这个匿名函数就和变量/参数形成一个整体，构成闭包。</p></div><div><p>❷ 闭包中使用的变量/参数会一直保存在内存中，所以会一直使用。<strong>意味着闭包不可滥用（对内存消耗大）</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token comment">// 函数功能：求和  </span>
<span class="token comment">// 函数的名字：getSum 参数为空  </span>
<span class="token comment">// getSum函数返回值为一个函数，这个函数的参数是一个int类型的参数，返回值也是int类型  </span>
<span class="token keyword">func</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> sum <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">0</span>
	<span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>num <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
		sum <span class="token operator">=</span> sum <span class="token operator">+</span> num
		<span class="token keyword">return</span> sum
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">getSum01</span><span class="token punctuation">(</span>sum <span class="token builtin">int</span><span class="token punctuation">,</span> num <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	sum <span class="token operator">=</span> sum <span class="token operator">+</span> num
	<span class="token keyword">return</span> sum
<span class="token punctuation">}</span>

<span class="token comment">// 闭包：返回的匿名函数+匿名函数以外的变量num  </span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	f <span class="token operator">:=</span> <span class="token function">getSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//1  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//3  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//6  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//10  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"----------------------"</span><span class="token punctuation">)</span>

	<span class="token comment">//不使用闭包的时候：我想保留的值，不可以反复使用  </span>
	<span class="token comment">//闭包应用场景：闭包可以保留上次引用的某个值，我们传入一次就可以反复使用了</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">getSum01</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//1  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">getSum01</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//3  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">getSum01</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//6  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">getSum01</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//10  </span>
<span class="token punctuation">}</span>  
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="7、延迟调用" class="heading" id="7、延迟调用"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>7、延迟调用</h3><div class="heading-children"><div><blockquote>
<p>Go 语言的 defer 语句会将其后面跟随的语句进行延迟处理</p>
</blockquote></div><div><p>关键字 defer 用于注册延迟调用。<br>
所以产用于：</p></div><div><ol>
<li data-line="0">关闭文件句柄</li>
<li data-line="1">锁资源释放</li>
<li data-line="2">数据库连接释放</li>
</ol></div><div><p><strong>defer 特性:</strong></p></div><div><ol>
<li data-line="0">
<p>多个 defer 语句，按先进后出的方式执行。</p>
</li>
<li data-line="1">
<p>所有函数在执行 RET 返回指令之前，都会先检查是否存在 defer 语句，若存在则先逆序调用 defer 语句进行收尾工作再退出返回；</p>
</li>
<li data-line="2">
<p>匿名返回值是在 return 执行时被声明，有名返回值则是在函数声明的同时被声明，因此在 defer 语句中只能访问有名返回值，而不能直接访问匿名返回值；<br>
Return 其实应该包含前后两个步骤：<br>
第一步是给返回值赋值（若为有名返回值则直接赋值，若为匿名返回值则先声明再赋值）；<br>
第二步是调用 RET 返回指令并传入返回值，而 RET 则会检查 defer 是否存在，若存在就先逆序插播 defer 语句，最后 RET 携带返回值退出函数；</p>
<p>defer、return、返回值三者的执行顺序应该是：return最先给返回值赋值；接着defer开始执行一些收尾工作；最后RET指令携带返回值退出函数。</p>
</li>
<li data-line="8">
<p>Defer 语句中的变量，在 defer 声明时就决定了。</p>
</li>
</ol></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token string">"fmt"</span>  
  
<span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>  
    <span class="token comment">//当执行到defer时，暂时不执行，会将其压入一个独立的栈中  </span>
    <span class="token comment">//和sum栈和main栈不在一个地方的栈  </span>
    <span class="token comment">//当函数执行完毕后，再从defer栈中按照先入后出原则出栈  </span>
    <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok1,n1="</span><span class="token punctuation">,</span> n1<span class="token punctuation">)</span>              <span class="token comment">//5.再执行这句  </span>
    <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok2,n2="</span><span class="token punctuation">,</span> n2<span class="token punctuation">)</span>              <span class="token comment">//4.再执行这句  </span>
    res <span class="token operator">:=</span> n1 <span class="token operator">+</span> n2                                <span class="token comment">//1.先执行了这句  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok3="</span><span class="token punctuation">,</span> res<span class="token punctuation">,</span> <span class="token string">"n1="</span><span class="token punctuation">,</span> n1<span class="token punctuation">,</span> <span class="token string">"n2"</span><span class="token punctuation">,</span> n2<span class="token punctuation">)</span> <span class="token comment">//2.再执行这句  </span>
    <span class="token keyword">return</span> res                                    <span class="token comment">//3.再执行这句  6.最后RET</span>
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    res <span class="token operator">:=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token comment">//7.再执行这句  </span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div class="heading-wrapper"><h5 data-heading="○　使用注意" class="heading" id="○　使用注意"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　使用注意</h5><div class="heading-children"><div><p><strong>go 语言的 defer 功能强大，对于资源管理非常方便，但是如果没用好，也会有陷阱。</strong></p></div><div class="heading-wrapper"><h6 data-heading="●　内存泄漏" class="heading" id="●　内存泄漏"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　内存泄漏</h6><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> whatever <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>  
  
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> a <span class="token operator">:=</span> <span class="token keyword">range</span> whatever <span class="token punctuation">{</span>  
       <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
<span class="token comment">//结果：</span>
<span class="token comment">//54321</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>关于内存泄漏的警告是由于&nbsp;<code>defer</code>&nbsp;语句在循环中被使用，导致在每次迭代时都会推迟执行操作，这些推迟的操作会在函数返回时才执行。这可能导致在函数执行期间积累大量的推迟操作，占用额外的内存。</p></div></div></div><div class="heading-wrapper"><h6 data-heading="●　拷贝入栈" class="heading" id="●　拷贝入栈"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　拷贝入栈</h6><div class="heading-children"><div><p>❶ 基本类型入栈</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>  
    <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok1,n1="</span><span class="token punctuation">,</span> n1<span class="token punctuation">)</span>  
    <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok2,n2="</span><span class="token punctuation">,</span> n2<span class="token punctuation">)</span>  
    n1<span class="token operator">++</span>  
    n2<span class="token operator">++</span>  
    res <span class="token operator">:=</span> n1 <span class="token operator">+</span> n2  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok3="</span><span class="token punctuation">,</span> res<span class="token punctuation">,</span> <span class="token string">"n1="</span><span class="token punctuation">,</span> n1<span class="token punctuation">,</span> <span class="token string">"n2"</span><span class="token punctuation">,</span> n2<span class="token punctuation">)</span>  
    <span class="token keyword">return</span> res  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    res <span class="token operator">:=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>

<span class="token comment">//ok3= 52 ,n1= 21 ,n2= 31</span>
<span class="token comment">//ok2,n2= 30</span>
<span class="token comment">//ok1,n1= 20</span>
<span class="token comment">//res= 52</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❷ 引用类型入栈</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>n1 <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">,</span> n2 <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>  
    <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok1,n1="</span><span class="token punctuation">,</span> <span class="token operator">*</span>n1<span class="token punctuation">)</span>  
    <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok2,n2="</span><span class="token punctuation">,</span> <span class="token operator">*</span>n2<span class="token punctuation">)</span>  
    <span class="token operator">*</span>n1<span class="token operator">++</span>  
    <span class="token operator">*</span>n2<span class="token operator">++</span>  
    res <span class="token operator">:=</span> <span class="token operator">*</span>n1 <span class="token operator">+</span> <span class="token operator">*</span>n2  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ok3="</span><span class="token punctuation">,</span> res<span class="token punctuation">,</span> <span class="token string">"n1="</span><span class="token punctuation">,</span> <span class="token operator">*</span>n1<span class="token punctuation">,</span> <span class="token string">"n2"</span><span class="token punctuation">,</span> <span class="token operator">*</span>n2<span class="token punctuation">)</span>  
    <span class="token keyword">return</span> res  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    n1 <span class="token operator">:=</span> <span class="token number">20</span>  
    n2 <span class="token operator">:=</span> <span class="token number">30</span>  
    <span class="token keyword">var</span> p1 <span class="token operator">*</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>n1  
    <span class="token keyword">var</span> p2 <span class="token operator">*</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>n2  
    res <span class="token operator">:=</span> <span class="token function">sum</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"res="</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>

<span class="token comment">//结果和上面一样！</span>
<span class="token comment">//ok3= 52 n1= 21 n2 31</span>
<span class="token comment">//ok2,n2= 30</span>
<span class="token comment">//ok1,n1= 20</span>
<span class="token comment">//res= 52</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❸ 例子三：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"log"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	start <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"开始时间为：%v"</span><span class="token punctuation">,</span> start<span class="token punctuation">)</span>
  <span class="token keyword">defer</span> log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"时间差：%v"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">Since</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// Now()此时已经copy进去了</span>
    <span class="token comment">//不受这3秒睡眠的影响</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
	log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"函数结束"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//2024/01/14 15:01:56 开始时间为：2024-01-14 15:01:56.2283069 +0800 CST m=+0.005217101</span>
<span class="token comment">//2024/01/14 15:01:59 函数结束</span>
<span class="token comment">//2024/01/14 15:01:59 时间差：31.8719ms</span>

</code><button class="copy-code-button">复制</button></pre></div><div><ul>
<li data-line="0">Go 语言中所有的 <code>函数调用都是传值的</code></li>
<li data-line="1">调用 defer 关键字会 <code>立刻拷贝函数中引用的外部参数</code> ，包括 start 和 time. Since 中的 Now</li>
<li data-line="2">defer 的函数在 <code>压栈的时候也会保存参数的值，并非在执行时取值</code>。</li>
</ul></div><div><p>如何解决上述问题：使用 defer fun ()，<strong>拷贝的是 <code>函数指针</code></strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"log"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	start <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"开始时间为：%v"</span><span class="token punctuation">,</span> start<span class="token punctuation">)</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"开始调用defer"</span><span class="token punctuation">)</span>
		log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"时间差：%v"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">Since</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span>
		log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"结束调用defer"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>

	log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"函数结束"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//2024/01/14 15:01:18 开始时间为：2024-01-14 15:01:18.3644022 +0800 CST m=+0.005763401</span>
<span class="token comment">//2024/01/14 15:01:21 函数结束</span>
<span class="token comment">//2024/01/14 15:01:21 开始调用defer</span>
<span class="token comment">//2024/01/14 15:01:21 时间差：3.0330456s</span>
<span class="token comment">//2024/01/14 15:01:21 结束调用defer</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h6 data-heading="●　闭包值不会变" class="heading" id="●　闭包值不会变"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　闭包值不会变</h6><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> whatever <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>  
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> a <span class="token operator">:=</span> <span class="token keyword">range</span> whatever <span class="token punctuation">{</span>  
       <span class="token comment">//函数正常执行,由于闭包用到的变量 a 在执行的时候已经变成5,所以输出全都是5.  </span>
       <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
<span class="token comment">//结果：</span>
<span class="token comment">//55555</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>怎么解决：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> whatever <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>  
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> a <span class="token operator">:=</span> <span class="token keyword">range</span> whatever <span class="token punctuation">{</span>  
       a <span class="token operator">:=</span> a <span class="token comment">// 赋值  </span>
       <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
<span class="token comment">//结果：</span>
<span class="token comment">//54321</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h5 data-heading="○　和 Java 的 finally 对比" class="heading" id="○　和_Java_的_finally_对比"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　和 Java 的 finally 对比</h5><div class="heading-children"><div><blockquote>
<p>和 java 中的 finally 有点像</p>
</blockquote></div><div><p>Java 中的 finally:</p></div><div><pre class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string">"Exception occurred"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Exception caught"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Finally block"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//Hello</span>
<span class="token comment">//Exception caught</span>
<span class="token comment">//Finally block</span>

</code><button class="copy-code-button">复制</button></pre></div><div><p>Go 中的 Defer:</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Defer(Like Finally block)"</span><span class="token punctuation">)</span>  
    <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
       <span class="token keyword">if</span> r <span class="token operator">:=</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> r <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>  
          fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Exception caught"</span><span class="token punctuation">)</span>  
       <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span>  
    <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"Exception occurred"</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>

<span class="token comment">//Hello</span>
<span class="token comment">//Exception caught</span>
<span class="token comment">//Defer(Like Finally block)</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="8、常见函数" class="heading" id="8、常见函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>8、常见函数</h3><div class="heading-children"><div class="heading-wrapper"><h4 data-heading="○　内置函数" class="heading" id="○　内置函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　内置函数</h4><div class="heading-children"><div><p>Golang 设计者为了编程方便，提供了一些不用导包可以直接使用的函数，称为 Go 的内置函数/内建函数。</p></div><div><blockquote>
<p>存放位置：在 builtin 包下`</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
	<span class="token comment">//使用 len 获取字节长度</span>
	str <span class="token operator">:=</span> <span class="token string">"hello"</span>
	length <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span> <span class="token comment">// 输出: 5  </span>

    <span class="token comment">// 使用 new 创建指针  </span>
    p <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span> <span class="token comment">// 输出: 0  </span>


    <span class="token comment">// 使用 append 向切片追加元素  </span>
    slice <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>  
    slice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>slice<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span> <span class="token comment">// 输出: [1 2 3 4 5]  </span>
  
    <span class="token comment">// 使用 copy 复制切片  </span>
    source <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>  
    destination <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span>  
    <span class="token function">copy</span><span class="token punctuation">(</span>destination<span class="token punctuation">,</span> source<span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>destination<span class="token punctuation">)</span> <span class="token comment">// 输出: [1 2 3]  </span>
  
    <span class="token comment">// 使用 make 创建切片和映射  </span>
    s <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  
    m <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> m<span class="token punctuation">)</span> <span class="token comment">// 输出: [] map[]  </span>
  

  
    <span class="token comment">// 使用 print 和 println 打印输出  </span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span>  
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">", Go!"</span><span class="token punctuation">)</span>  
  
    <span class="token comment">// 使用 close 关闭通道  </span>
    ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>  
    <span class="token function">close</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span>  
  
    <span class="token comment">// 使用 cap 返回切片的容量  </span>
    slice <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">cap</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 输出: 10  </span>
  
    <span class="token comment">// 使用 delete 从映射中删除键值对  </span>
    m <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">}</span>  
    <span class="token function">delete</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">)</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token comment">// 输出: map[apple:5 cherry:8]  </span>
  
    <span class="token comment">// 使用 panic 和 recover 处理运行时恐慌  </span>
    <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
       <span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>  
          fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"恐慌已恢复:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>  
       <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"发生错误！"</span><span class="token punctuation">)</span>  
  
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="○　字符串相关" class="heading" id="○　字符串相关"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　字符串相关</h4><div class="heading-children"><div class="heading-wrapper"><h6 data-heading="●　string 一些常用" class="heading" id="●　string_一些常用"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　string 一些常用</h6><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// 字符串是否为空  </span>
isEmpty <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">TrimSpace</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">""</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"字符串是否为空:"</span><span class="token punctuation">,</span> isEmpty<span class="token punctuation">)</span>  
  
<span class="token comment">// 字符串连接  </span>
concatenated <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"字符串连接:"</span><span class="token punctuation">,</span> concatenated<span class="token punctuation">)</span>  
  
<span class="token comment">// 字符串重复  </span>
repeated <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Repeat</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"字符串重复:"</span><span class="token punctuation">,</span> repeated<span class="token punctuation">)</span>  
  
<span class="token comment">// 查找子串是否在指定的字符串中  </span>
isCont <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token string">"javaandgolang"</span><span class="token punctuation">,</span> <span class="token string">"go"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"查找子串是否在指定的字符串中:"</span><span class="token punctuation">,</span> isCont<span class="token punctuation">)</span>  
  
<span class="token comment">// 统计一个字符串中指定子串出现的次数  </span>
count <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span><span class="token string">"javaandgolang"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"统计一个字符串有几个指定的子串:"</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>  
  
<span class="token comment">// 不区分大小写的字符串比较  </span>
equalFold <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">EqualFold</span><span class="token punctuation">(</span><span class="token string">"go"</span><span class="token punctuation">,</span> <span class="token string">"Go"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"不区分大小写的字符串比较:"</span><span class="token punctuation">,</span> equalFold<span class="token punctuation">)</span>  
  
<span class="token comment">// 返回子串在字符串中第一次出现的索引值，如果没有则返回-1  </span>
index <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span><span class="token string">"javaandgolang"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"子串在字符串中第一次出现的索引值:"</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span>  
  
<span class="token comment">// 替换字符串中的子串，n可以指定替换的次数，-1表示全部替换  </span>
replaced <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Replace</span><span class="token punctuation">(</span><span class="token string">"goandjavagogo"</span><span class="token punctuation">,</span> <span class="token string">"go"</span><span class="token punctuation">,</span> <span class="token string">"golang"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"替换后的字符串:"</span><span class="token punctuation">,</span> replaced<span class="token punctuation">)</span>  
  
<span class="token comment">// 将字符串按指定字符为分割标识拆分成字符串数组  </span>
split <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token string">"go-python-java"</span><span class="token punctuation">,</span> <span class="token string">"-"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"拆分后的字符串数组: %v\n"</span><span class="token punctuation">,</span> split<span class="token punctuation">)</span>  
  
<span class="token comment">// 将字符串转换为小写和大写形式  </span>
lower <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">ToLower</span><span class="token punctuation">(</span><span class="token string">"Go"</span><span class="token punctuation">)</span>  
upper <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span><span class="token string">"go"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"将字符串转换为小写形式:"</span><span class="token punctuation">,</span> lower<span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"将字符串转换为大写形式:"</span><span class="token punctuation">,</span> upper<span class="token punctuation">)</span>  
  
<span class="token comment">// 去除字符串左右两边的空格  </span>
trimmedSpace <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">TrimSpace</span><span class="token punctuation">(</span><span class="token string">"     go and java    "</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"去除左右两边空格后的字符串:"</span><span class="token punctuation">,</span> trimmedSpace<span class="token punctuation">)</span>  
  
<span class="token comment">// 去除字符串左右两边指定的字符  </span>
trimmedChars <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Trim</span><span class="token punctuation">(</span><span class="token string">"~golang~ "</span><span class="token punctuation">,</span> <span class="token string">" ~"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"去除左右两边指定字符后的字符串:"</span><span class="token punctuation">,</span> trimmedChars<span class="token punctuation">)</span>  
  
<span class="token comment">// 去除字符串左边指定的字符  </span>
trimmedLeft <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">TrimLeft</span><span class="token punctuation">(</span><span class="token string">"~golang~"</span><span class="token punctuation">,</span> <span class="token string">"~"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"去除左边指定字符后的字符串:"</span><span class="token punctuation">,</span> trimmedLeft<span class="token punctuation">)</span>  
  
<span class="token comment">// 去除字符串右边指定的字符  </span>
trimmedRight <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">TrimRight</span><span class="token punctuation">(</span><span class="token string">"~golang~"</span><span class="token punctuation">,</span> <span class="token string">"~"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"去除右边指定字符后的字符串:"</span><span class="token punctuation">,</span> trimmedRight<span class="token punctuation">)</span>  
  
<span class="token comment">// 判断字符串是否以指定前缀开头  </span>
hasPrefix <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">HasPrefix</span><span class="token punctuation">(</span><span class="token string">"http://java.sun.com/jsp/jstl/fmt"</span><span class="token punctuation">,</span> <span class="token string">"http"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"判断字符串是否以指定前缀开头:"</span><span class="token punctuation">,</span> hasPrefix<span class="token punctuation">)</span>  
  
<span class="token comment">// 判断字符串是否以指定后缀结尾  </span>
hasSuffix <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">HasSuffix</span><span class="token punctuation">(</span><span class="token string">"http://java.sun.com/jsp/jstl/fmt"</span><span class="token punctuation">,</span> <span class="token string">"fmt"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"判断字符串是否以指定后缀结尾:"</span><span class="token punctuation">,</span> hasSuffix<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h6 data-heading="●　字符串长度" class="heading" id="●　字符串长度"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　字符串长度</h6><div class="heading-children"><div><p>字符串所占的字节长度获取根据编码来定：</p></div><div><p>ASCII 字符使用 <code>len()</code> 函数<br>
Unicode 字符串长度使用 <code>utf8.RuneCountInString()</code> 函数</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//中文三字节，字母一个字节  </span>
<span class="token keyword">var</span> myStrHello <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"hello"</span>  
<span class="token keyword">var</span> myStrSpl <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">","</span>  
<span class="token keyword">var</span> myStrZw <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"码神之路"</span>  
<span class="token keyword">var</span> myStrAll <span class="token operator">=</span> myStrHello <span class="token operator">+</span> myStrSpl <span class="token operator">+</span> myStrZw  
  
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"myStrHello: %d\n"</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>myStrHello<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//myStrHello:5  </span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"myStrSpl: %d\n"</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>myStrSpl<span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">//myStrSpl:1  </span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"myStrZw: %d\n"</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>myStrZw<span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token comment">//myStrZw:12  </span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"myStrAll: %d\n"</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>myStrAll<span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">//myStrAll:18</span>

<span class="token comment">//计算字符串的长度  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>utf8<span class="token punctuation">.</span><span class="token function">RuneCountInString</span><span class="token punctuation">(</span>myStrZw<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h6 data-heading="●　遍历" class="heading" id="●　遍历"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　遍历</h6><div class="heading-children"><div><p>ascii 字符集可以使用 <code>for range</code> 或者 <code>for</code> 循环遍历</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> str1 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"hello"</span>  

<span class="token comment">// 遍历  </span>
<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"ascii: %c %d\n"</span><span class="token punctuation">,</span> str1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> str1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> s <span class="token operator">:=</span> <span class="token keyword">range</span> str1 <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"unicode: %c %d\n "</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> s<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  

</code><button class="copy-code-button">复制</button></pre></div><div><p>unicode 字符集使用 <code>for range</code> 进行遍历</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> str2 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"hello,码神之路"</span>  
<span class="token comment">// 中文只能用 for range</span>

<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> s <span class="token operator">:=</span> <span class="token keyword">range</span> str2 <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"unicode: %c %d\n "</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> s<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>转换 <code>R:=[]rune(str)</code>，也可以使用两种方式遍历</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> str2 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"hello,码神之路"</span>  
  
r <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span>  
  
<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"unicode: %c %d\n"</span><span class="token punctuation">,</span> r<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> r<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"-------------"</span><span class="token punctuation">)</span>  
  
<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> s <span class="token operator">:=</span> <span class="token keyword">range</span> r <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"unicode: %c %d\n"</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> s<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h6 data-heading="●　字符串查找" class="heading" id="●　字符串查找"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　字符串查找</h6><div class="heading-children"><div><p>如何获取字符串中的某一段字符?</p></div><div><ul>
<li data-line="0">Strings. Index ()： 正向搜索子字符串</li>
<li data-line="1">Strings. LastIndex ()：反向搜索子字符串</li>
</ul></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"strings"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 查找  </span>
	tracer <span class="token operator">:=</span> <span class="token string">"码神来了,码神bye bye"</span>  
	  
	<span class="token comment">// 正向搜索字符串  </span>
	comma <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>tracer<span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span>  
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">",所在的位置:"</span><span class="token punctuation">,</span> comma<span class="token punctuation">)</span> <span class="token comment">//,所在的位置: 12  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tracer<span class="token punctuation">[</span>comma<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 码神bye bye  </span>
	  
	add <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>tracer<span class="token punctuation">,</span> <span class="token string">"+"</span><span class="token punctuation">)</span>  
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"+所在的位置:"</span><span class="token punctuation">,</span> add<span class="token punctuation">)</span> <span class="token comment">// +所在的位置: -1  </span>
	  
	pos <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>tracer<span class="token punctuation">[</span>comma<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"码神"</span><span class="token punctuation">)</span>  
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"码神，所在的位置"</span><span class="token punctuation">,</span> pos<span class="token punctuation">)</span> <span class="token comment">// 码神，所在的位置 1  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>comma<span class="token punctuation">,</span> pos<span class="token punctuation">,</span> tracer<span class="token punctuation">[</span><span class="token number">5</span><span class="token operator">+</span>pos<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 12 1 码神bye bye</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>返回的是单字节字符的位，如果想要的 unicode 字符的位置，需要封装</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"strings"</span>
	<span class="token string">"unicode/utf8"</span>
<span class="token punctuation">)</span>

<span class="token comment">// Utf8Index strings.Index 的 UTF-8 版本</span>
<span class="token comment">// 即 Utf8Index("Go语言中文网", "中文") 返回 4，而不是 strings.Index 的 8</span>

<span class="token keyword">func</span> <span class="token function">Utf8Index</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> substr <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	index <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> substr<span class="token punctuation">)</span>
	<span class="token keyword">if</span> index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> utf8<span class="token punctuation">.</span><span class="token function">RuneCountInString</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token punctuation">:</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Utf8Substring</span><span class="token punctuation">(</span>str <span class="token builtin">string</span><span class="token punctuation">,</span> start <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token comment">//_, startBytes := utf8.DecodeRuneInString(str[start:])</span>
	<span class="token comment">//return str[start+startBytes:]</span>

	runes <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
	<span class="token keyword">if</span> start <span class="token operator">&gt;=</span> <span class="token function">len</span><span class="token punctuation">(</span>runes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">""</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token function">string</span><span class="token punctuation">(</span>runes<span class="token punctuation">[</span>start<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 查找</span>
	tracer <span class="token operator">:=</span> <span class="token string">"码神来了,码神bye bye"</span>

	comma <span class="token operator">:=</span> <span class="token function">Utf8Index</span><span class="token punctuation">(</span>tracer<span class="token punctuation">,</span> <span class="token string">","</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">",所在的位置:"</span><span class="token punctuation">,</span> comma<span class="token punctuation">)</span> <span class="token comment">//,所在的位置: 4</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">Utf8Substring</span><span class="token punctuation">(</span>tracer<span class="token punctuation">,</span> comma<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 码神bye bye</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h6 data-heading="●　修改字符串" class="heading" id="●　修改字符串"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>●　修改字符串</h6><div class="heading-children"><div><p>Golang 语言的字符串是 <code>不可变的</code></p></div><div><p>修改字符串时，可以将字符串 <code>转换为[]byte</code> 进行修改</p></div><div><blockquote>
<p>[]byte 和 string 可以通过强制类型转换</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	str <span class="token operator">:=</span> <span class="token string">"Hello, World!"</span>
	strBytes <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>

	<span class="token comment">// 修改第一个字符</span>
	strBytes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'M'</span>

	<span class="token comment">// 将字节切片转换回字符串</span>
	newStr <span class="token operator">:=</span> <span class="token function">string</span><span class="token punctuation">(</span>strBytes<span class="token punctuation">)</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span> <span class="token comment">// Mello, World!</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>中文</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	str <span class="token operator">:=</span> <span class="token string">"你好，世界！"</span>
	runes <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>

	<span class="token comment">// 修改第一个中文字符</span>
	runes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'好'</span>

	<span class="token comment">// 将 rune 切片转换回字符串</span>
	newStr <span class="token operator">:=</span> <span class="token function">string</span><span class="token punctuation">(</span>runes<span class="token punctuation">)</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span> <span class="token comment">// 好好，世界！</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>字符串替换</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"strings"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 查找</span>
	str <span class="token operator">:=</span> <span class="token string">"Hello, World!"</span>
	newStr <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Replace</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"Hi"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span> <span class="token comment">// Hi, World!</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h4 data-heading="○　日期相关" class="heading" id="○　日期相关"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　日期相关</h4><div class="heading-children"></div></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="四、数据结构和处理" class="heading" id="四、数据结构和处理"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>四、数据结构和处理</h2><div class="heading-children"><div class="heading-wrapper"><h3 data-heading="一）数组" class="heading" id="一）数组"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>一）数组</h3><div class="heading-children"><div class="heading-wrapper"><h4 data-heading="1、定义声明" class="heading" id="1、定义声明"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1、定义声明</h4><div class="heading-children"><div><p>数组是一个由固定长度的特定类型元素组成的序列，一个数组可以由零个或多个元素组成。</p></div><div><p><strong>因为数组的长度是固定的，所以在 Go 语言中很少直接使用数组。</strong></p></div><div class="heading-wrapper"><h5 data-heading="○　声明" class="heading" id="○　声明"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　声明</h5><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> 数组变量名 <span class="token punctuation">[</span>元素数量<span class="token punctuation">]</span>Type

<span class="token comment">//- 数组变量名：数组声明及使用时的变量名。</span>
<span class="token comment">//- 元素数量：数组的元素数量，可以是一个表达式，但最终通过编译期计算的结果必须是整型数值，元素数量不能含有到运行时才能确认大小的数值。</span>
<span class="token comment">//- Type：可以是任意基本类型，包括数组本身，类型为数组本身时，可以实现多维数组。</span>

<span class="token comment">//默认数组中的值是类型的默认值</span>
<span class="token keyword">var</span> arr <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span>

<span class="token comment">//××arr := [3]int</span>
</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>一定要注意，数组是定长的，不可更改，在编译阶段就决定了</p>
</blockquote></div></div></div><div class="heading-wrapper"><h5 data-heading="○　赋值" class="heading" id="○　赋值"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　赋值</h5><div class="heading-children"><div><p>❶ 初始化赋值</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//第一种：</span>
<span class="token keyword">var</span> arr <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span>

<span class="token comment">//如果第三个不赋值，就是默认值0</span>
<span class="token keyword">var</span> arr <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span>

<span class="token comment">//可以使用简短声明</span>
arr <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span>

<span class="token comment">//如果不写数据数量，而使用...，表示数组的长度是根据初始化值的个数来计算</span>
arr <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❷  通过索引下标赋值</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">  <span class="token keyword">var</span> arr <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span>
  arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span>
  arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span>
  arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❸ 只初始化第三个值怎么写？</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//2 给索引为2的赋值 ，所以结果是 0,0,3</span>
arr <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> index<span class="token punctuation">,</span>value <span class="token operator">:=</span> <span class="token keyword">range</span> arr<span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"索引:%d,值：%d \n"</span><span class="token punctuation">,</span>index<span class="token punctuation">,</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　取值" class="heading" id="○　取值"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　取值</h5><div class="heading-children"><div><ol>
<li data-line="0">通过索引下标取值，索引从 0 开始
<pre><code>```go
</code><button class="copy-code-button">复制</button></pre>
fmt.Println(arr[0])<br>
fmt.Println(arr[1])<br>
fmt.Println(arr[2])<br>
```<br>
</li>
<li data-line="8">For range 获取
<pre><code>```go
</code><button class="copy-code-button">复制</button></pre>
var arr [3]int<br>
for index, value := range arr {<br>
fmt.Printf("索引:%d,值：%d \n", index, value)<br>
}<br>
```<br>
</li>
</ol></div></div></div><div class="heading-wrapper"><h5 data-heading="○　定义新类型" class="heading" id="○　定义新类型"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　定义新类型</h5><div class="heading-children"><div><p><code>小技巧：</code> 如果觉的每次写 <code>[3]int</code> 有点麻烦，你可以为 <code>[3]int</code> 定义一个新的类型。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">	<span class="token keyword">type</span> arr3 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span>
	<span class="token comment">//这样每次用arr3 代替[3]int，注意前面学过 定义一个类型后 arr3就是一个新的类型</span>
	<span class="token keyword">var</span> arr arr3
	arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
	<span class="token keyword">for</span> index<span class="token punctuation">,</span>value <span class="token operator">:=</span> <span class="token keyword">range</span> arr<span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"索引:%d,值：%d \n"</span><span class="token punctuation">,</span>index<span class="token punctuation">,</span>value<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h4 data-heading="2、数组比较" class="heading" id="2、数组比较"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2、数组比较</h4><div class="heading-children"><div><p>如果两个数组类型相同（包括数组的长度，数组中元素的类型）的情况下，我们可以直接通过较运算符（<code> ==</code> 和 <code>!=</code>）来判断两个数组是否相等，只有当两个数组的所有元素都是相等的时候数组才是相等的，不能比较两个类型不同的数组，否则程序将无法完成编译。</p><div><pre class="dataview dataview-error">Dataview (inline field '='): Error: 
-- PARSING FAILED --------------------------------------------------

&gt; 1 | =
    | ^

Expected one of the following: 

'(', 'null', boolean, date, duration, file link, list ('[1, 2, 3]'), negated field, number, object ('{ a: 1, b: 2 }'), string, variable
</pre></div></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span>  
<span class="token comment">//`...`来表示数组的长度，我们可以让编译器根据初始化值的数量自动确定数组的长度。  </span>
b <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span>  
c <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">,</span> a <span class="token operator">==</span> c<span class="token punctuation">,</span> b <span class="token operator">==</span> c<span class="token punctuation">)</span> <span class="token comment">// "true false false"  </span>

<span class="token comment">//d := [3]int{1, 2}  </span>
<span class="token comment">//fmt.Println(a == d) // 编译错误：无法比较 [2]int == [3]int</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="3、多维数组" class="heading" id="3、多维数组"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3、多维数组</h4><div class="heading-children"><div><p>Go 语言中允许使用多维数组，因为数组属于值类型，所以多维数组的所有维度都会在创建时自动初始化零值，多维数组尤其适合管理具有父子关系或者与坐标系相关联的数据。</p></div><div><p>声明多维数组的语法如下所示：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//array_name 为数组的名字，array_type 为数组的类型，size1、size2 等等为数组每一维度的长度。</span>
<span class="token keyword">var</span> array_name <span class="token punctuation">[</span>size1<span class="token punctuation">]</span><span class="token punctuation">[</span>size2<span class="token punctuation">]</span><span class="token operator">...</span><span class="token punctuation">[</span>sizen<span class="token punctuation">]</span> array_type
</code><button class="copy-code-button">复制</button></pre></div><div><p>二维数组是最简单的多维数组，二维数组本质上是由多个一维数组组成的。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// 声明一个二维整型数组，两个维度的长度分别是 4 和 2</span>
<span class="token keyword">var</span> array <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token comment">// 使用数组字面量来声明并初始化一个二维整型数组</span>
array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token comment">// 声明并初始化数组中索引为 1 和 3 的元素</span>
array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token comment">// 声明并初始化数组中指定的元素</span>
array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">41</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>取值：</p></div><div><ol>
<li data-line="0">通过索引下标取值
<pre class="language-go" tabindex="0"><code class="language-go is-loaded">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre>
</li>
<li data-line="6">循环取值
<pre><code>```go
</code><button class="copy-code-button">复制</button></pre>
array := [4][2]int{{10, 11}, {20, 21}, {30, 31}, {40, 41}}<br>
for index, value := range array {<br>
fmt.Printf("索引:%d,值：%d \n", index, value)<br>
}<br>
```<br>
</li>
</ol></div><div><p><strong>赋值：</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// 声明一个 2×2 的二维整型数组</span>
<span class="token keyword">var</span> array <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token comment">// 设置每个元素的整型值</span>
array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span>
array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">20</span>
array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">30</span>
array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">40</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>只要类型一致，就可以将多维数组互相赋值，如下所示，多维数组的类型包括每一维度的长度以及存储在元素中数据的类型：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// 声明两个二维整型数组 [2]int [2]int</span>
<span class="token keyword">var</span> array1 <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span>  
<span class="token keyword">var</span> array2 <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token comment">// 为array2的每个元素赋值</span>
array2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span>
array2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">20</span>
array2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">30</span>
array2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">40</span>
<span class="token comment">// 将 array2 的值复制给 array1</span>
array1 <span class="token operator">=</span> array2
</code><button class="copy-code-button">复制</button></pre></div><div><p>因为数组中每个元素都是一个值，所以可以独立复制某个维度，如下所示：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">array1 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token comment">// 将 array1 的索引为 1 的维度复制到一个同类型的新数组里  {20, 21} -&gt; array3</span>
<span class="token keyword">var</span> array3 <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> array1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token comment">// 将数组中指定的整型值复制到新的整型变量里</span>
<span class="token keyword">var</span> value <span class="token builtin">int</span> <span class="token operator">=</span> array1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> array3 <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"index:%d,value:%v"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"array1 索引1的二维数组，第0个值:"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="二）切片" class="heading" id="二）切片"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>二）切片</h3><div class="heading-children"><div><p><code>切片（Slice）</code> 与数组一样，也是可以容纳若干类型相同的元素的容器。每个切片值都会将数组作为其底层数据结构。<br>
我们也把这样的数组称为 <code>切片的底层数组</code>。与数组不同的是，无法通过切片类型来确定其值的长度。</p></div><div><p><code>切片（slice）</code> 是对数组的一个连续片段的引用，所以切片是一个引用类型。</p></div><div><p>这个片段可以是 <code>整个数组</code>，也可以是由起始和终止索引标识的一些 <code>项的子集</code>，需要注意的是，<code>终止索引标识的项</code> 不包括在切片内 (左闭右开的区间)。</p></div><div><p>Go 语言中切片的内部结构包含 <code>地址</code>、<code>大小</code> 和 <code>容量</code>，切片一般用于快速地操作一块数据集合。</p></div><div class="heading-wrapper"><h4 data-heading="1、数组转切片" class="heading" id="1、数组转切片"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1、数组转切片</h4><div class="heading-children"><div><p><strong>从连续内存区域生成切片是常见的操作，格式如下：</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">slice <span class="token punctuation">[</span>开始位置 <span class="token punctuation">:</span> 结束位置<span class="token punctuation">]</span>
<span class="token comment">//- Slice：表示目标切片对象；</span>
<span class="token comment">//- 开始位置：对应目标切片对象的索引；</span>
<span class="token comment">//- 结束位置：对应目标切片的结束索引。</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>从数组生成切片，代码如下：</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> a  <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token comment">//a[1:2] 生成了一个新的切片</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>注意：超界会报运行时错误，比如数组长度为 3，则结束位置最大只能为 3</strong></p></div><div><blockquote>
<p>切片在指针的基础上增加了大小，约束了切片对应的内存区域，切片使用中无法对切片内部的地址和大小进行手动调整，因此切片比指针更安全、强大。</p>
</blockquote></div><div><blockquote>
<p>切片和数组密不可分，如果将数组理解为一栋办公楼，那么切片就是把不同的连续楼层出租给使用者，出租的过程需要选择开始楼层和结束楼层，这个过程就会生成切片</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> highRiseBuilding <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token builtin">int</span>  
<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>  
    highRiseBuilding<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>  
<span class="token punctuation">}</span>  
<span class="token comment">//原切片  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>highRiseBuilding<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
<span class="token comment">// 区间  索引位置：10 - 15的元素，不包含索引15  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>highRiseBuilding<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
<span class="token comment">// 中间到尾部的所有元素  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>highRiseBuilding<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
<span class="token comment">// 开头到中间指定位置的所有元素   索引位置为：0,1  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>highRiseBuilding<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">//[1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30]</span>
<span class="token comment">//[11 12 13 14 15]</span>
<span class="token comment">//[21 22 23 24 25 26 27 28 29 30]</span>
<span class="token comment">//[1 2]</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="2、声明切片" class="heading" id="2、声明切片"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2、声明切片</h4><div class="heading-children"><div><p>除了可以从原有的数组或者切片中生成切片外，也可以 <code>声明一个新的切片</code>，<code>每一种类型都可以拥有其切片类型</code>，表示多个相同类型元素的连续集合。</p></div><div><p><strong>切片类型声明格式如下：</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> name <span class="token punctuation">[</span><span class="token punctuation">]</span>Type
<span class="token comment">//name 表示切片的变量名，Type 表示切片对应的元素类型。</span>
</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// 声明字符串切片</span>
<span class="token keyword">var</span> strList <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
<span class="token comment">// 声明整型切片</span>
<span class="token keyword">var</span> numList <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token comment">// 声明一个空切片</span>
<span class="token keyword">var</span> numListEmpty <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 输出3个切片</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strList<span class="token punctuation">,</span> numList<span class="token punctuation">,</span> numListEmpty<span class="token punctuation">)</span>
<span class="token comment">// 输出3个切片大小</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>strList<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>numList<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>numListEmpty<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 切片判定空的结果</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strList <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>numList <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>numListEmpty <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>

<span class="token comment">//[] [] []</span>
<span class="token comment">//0 0 0</span>
<span class="token comment">//true</span>
<span class="token comment">//true</span>
<span class="token comment">//false  空切片和nil还是不一样的</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>切片是动态结构，只能与 nil 判定相等，不能互相判定相等。声明新的切片后，可以使用 append () 函数向切片中添加元素。</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> strList <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>  
<span class="token comment">// 追加一个元素  </span>
strList <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>strList<span class="token punctuation">,</span> <span class="token string">"码神之路"</span><span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strList<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="3、使用 make () 函数构造切片" class="heading" id="3、使用_make_()_函数构造切片"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3、使用 make () 函数构造切片</h4><div class="heading-children"><div><p>如果需要动态地创建一个切片，可以使用 make () 内建函数，格式如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token function">make</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Type<span class="token punctuation">,</span> size<span class="token punctuation">,</span> <span class="token builtin">cap</span> <span class="token punctuation">)</span>
<span class="token comment">//`Type` 是指切片的元素类型</span>
<span class="token comment">//`size` 指的是为这个类型分配多少个元素</span>
<span class="token comment">//`cap` 为预分配的元素数量</span>
<span class="token comment">// 这个值设定后不影响 size，只是能提前分配空间，降低多次分配空间造成的性能问题。</span>


a <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
b <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token comment">//容量不会影响当前的元素个数，因此 a 和 b 取 len 都是 2</span>
<span class="token comment">//但如果我们给a 追加一个 a的长度就会变为3</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>使用 make () 函数生成的切片一定发生了内存分配操作，但给定开始与结束位置（包括切片复位）的切片只是将新的切片结构指向已经分配好的内存区域，设定开始与结束位置，不会发生内存分配操作。</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> numbers4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span>
myslice <span class="token operator">:=</span> numbers4<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token comment">//打印出来长度为2=6-4</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"myslice为 %d, 其长度为: %d\n"</span><span class="token punctuation">,</span> myslice<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>myslice<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//打印出来cap是6=10-4，cap=`底层数组的长度`-`起始位置`。</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"cap: %d\n"</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>myslice<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//fmt.Printf("直接获取第四个元素异常，为: %d", myslice[3])</span>

<span class="token comment">// 重新切片，获取第四个元素</span>
myslice <span class="token operator">=</span> myslice<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">cap</span><span class="token punctuation">(</span>myslice<span class="token punctuation">)</span><span class="token punctuation">]</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"myslice为 %d, 其长度为: %d\n"</span><span class="token punctuation">,</span> myslice<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>myslice<span class="token punctuation">)</span><span class="token punctuation">)</span>

fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"myslice的第四个元素为: %d"</span><span class="token punctuation">,</span> myslice<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="4、切片特性" class="heading" id="4、切片特性"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4、切片特性</h4><div class="heading-children"><div><p>从数组或切片生成新的切片拥有如下特性：</p></div><div><ul>
<li data-line="0">取出的元素数量为：结束位置 - 开始位置；</li>
<li data-line="1">取出元素不包含结束位置对应的索引，切片最后一个元素使用 slice[len (slice)] 获取；</li>
<li data-line="2">当缺省开始位置时，表示从连续区域开头到结束位置 <code>(a[:2])</code>；</li>
<li data-line="3">当缺省结束位置时，表示从开始位置到整个连续区域末尾 <code>(a[0:])</code>；</li>
<li data-line="4">两者同时缺省时，与切片本身等效 <code>(a[:])</code>；</li>
<li data-line="5">两者同时为 0 时，等效于空切片，一般用于切片复位 <code>(a[0:0])</code>。</li>
<li data-line="6">去除的容量 cap = <code>底层数组的长度</code> - <code>起始位置</code>。</li>
</ul></div><div><p>数组切片区别：</p></div><div><ul>
<li data-line="0">片的长度是可变的，它是对数组的一个引用。数组的长度是固定的。</li>
<li data-line="1">切片的声明使用方括号&nbsp;<code>[]</code>&nbsp;表示切片类型，不指定长度。数组要指定。</li>
<li data-line="2">切片的长度可以通过内置函数&nbsp;<code>len()</code>&nbsp;来获取，数组直接能看到长度。</li>
</ul></div></div></div><div class="heading-wrapper"><h4 data-heading="5、切片复制" class="heading" id="5、切片复制"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>5、切片复制</h4><div class="heading-children"><div><p>Go 语言的内置函数 copy () 可以将一个数组切片复制到另一个数组切片中，如果加入的两个数组切片不一样大，就会按照其中较小的那个数组切片的元素个数进行复制。</p></div><div><p>Copy () 函数的使用格式如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token function">copy</span><span class="token punctuation">(</span> destSlice<span class="token punctuation">,</span> srcSlice <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">)</span> <span class="token builtin">int</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>其中 <code>srcSlice</code> 为数据来源切片，<code>destSlice</code> 为复制的目标（也就是将 srcSlice 复制到 destSlice），<code>目标切片必须分配过空间且足够承载复制的元素个数</code>，并且来源和目标的 <code>类型必须一致</code>，copy () 函数的返回值表示实际发生复制的元素个数。</p></div><div><p>下面的代码展示了使用 copy () 函数将一个切片复制到另一个切片的过程：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">slice1 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>  
slice2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>  
<span class="token comment">//copy(slice2, slice1) // 只会复制slice1的前3个元素到slice2中  </span>
<span class="token function">copy</span><span class="token punctuation">(</span>slice1<span class="token punctuation">,</span> slice2<span class="token punctuation">)</span> <span class="token comment">// 只会复制slice2的3个元素到slice1的前3个位置  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice1<span class="token punctuation">)</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice2<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>切片的引用和复制操作对切片元素的影响:</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 设置元素数量为1000</span>
	<span class="token keyword">const</span> elementCount <span class="token operator">=</span> <span class="token number">1000</span>
	<span class="token comment">// 预分配足够多的元素切片</span>
	srcData <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> elementCount<span class="token punctuation">)</span>
	<span class="token comment">// 将切片赋值</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> elementCount<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		srcData<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i
	<span class="token punctuation">}</span>
	<span class="token comment">// 引用切片数据 切片不会因为等号操作进行元素的复制</span>
	refData <span class="token operator">:=</span> srcData
	<span class="token comment">// 预分配足够多的元素切片</span>
	copyData <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> elementCount<span class="token punctuation">)</span>
	<span class="token comment">// 将数据复制到新的切片空间中</span>
	<span class="token function">copy</span><span class="token punctuation">(</span>copyData<span class="token punctuation">,</span> srcData<span class="token punctuation">)</span>
	<span class="token comment">// 修改原始数据的第一个元素</span>
	srcData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">999</span>
	<span class="token comment">// 打印引用切片的第一个元素 引用数据的第一个元素将会发生变化</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"引用的发生变化了："</span><span class="token punctuation">,</span> refData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token comment">// 打印复制切片的第一个和最后一个元素 由于数据是复制的，因此不会发生变化。</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"复制的未发生变化："</span><span class="token punctuation">,</span> copyData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> copyData<span class="token punctuation">[</span>elementCount<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token comment">// 复制原始数据从4到6(不包含6)，4，5替换0，1</span>
	<span class="token function">copy</span><span class="token punctuation">(</span>copyData<span class="token punctuation">,</span> srcData<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> copyData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="三）Map" class="heading" id="三）Map"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>三）Map</h3><div class="heading-children"><div><p>map 是一种无序的 <code>键值对</code> 的集合。</p></div><div><p>Map 最重要的一点是通过 key 来快速检索数据，key 类似于索引，指向数据的值。</p></div><div><p>Map 是一种集合，所以我们可以像迭代数组和切片那样迭代它。不过，map 是无序的，我们无法决定它的返回顺序，这是因为 map 是使用 hash 表来实现的。</p></div><div class="heading-wrapper"><h4 data-heading="1、声明" class="heading" id="1、声明"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1、声明</h4><div class="heading-children"><div><p>Map 是引用类型，可以使用如下方式声明：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> mapname <span class="token keyword">map</span><span class="token punctuation">[</span>keytype<span class="token punctuation">]</span>valuetype
<span class="token comment">//[keytype] 和 valuetype 之间允许有空格。</span>
<span class="token comment">//Mapname 为 map 的变量名。</span>
<span class="token comment">//Keytype 为键类型。</span>
<span class="token comment">//Valuetype 是键对应的值类型。</span>
</code><button class="copy-code-button">复制</button></pre></div><div><blockquote>
<p>声明不需要知道 map 的长度，Map 可以根据新增的 key-value 动态的伸缩，未初始化的 map 的值是 nil，使用函数 len () 可以获取 map 中键值对的数目。</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> mapLit <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span>
	<span class="token keyword">var</span> mapAssigned <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span>
	mapLit <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token string">"one"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
	mapAssigned <span class="token operator">=</span> mapLit
	<span class="token comment">//mapAssigned 是 mapList 的引用，对 mapAssigned 的修改也会影响到 mapList 的值。</span>
	mapAssigned<span class="token punctuation">[</span><span class="token string">"two"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Map literal at \"one\" is: %d\n"</span><span class="token punctuation">,</span> mapLit<span class="token punctuation">[</span><span class="token string">"one"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Map assigned at \"two\" is: %d\n"</span><span class="token punctuation">,</span> mapLit<span class="token punctuation">[</span><span class="token string">"two"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Map literal at \"ten\" is: %d\n"</span><span class="token punctuation">,</span> mapLit<span class="token punctuation">[</span><span class="token string">"ten"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token comment">//没有会返回这个类型的初始值，所以要判断是否存在需要加exists</span>
	value<span class="token punctuation">,</span> exists <span class="token operator">:=</span> mapLit<span class="token punctuation">[</span><span class="token string">"ten"</span><span class="token punctuation">]</span>
	<span class="token keyword">if</span> exists <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Map literal at \"ten\" is: %d\n"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Key 'ten' does not exist in the map."</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//Map literal at "one" is: 1</span>
<span class="token comment">//Map assigned at "two" is: 3</span>
<span class="token comment">//Map literal at "ten" is: 0</span>
<span class="token comment">//Key 'ten' does not exist in the map.</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="2、make 创建" class="heading" id="2、make_创建"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2、make 创建</h4><div class="heading-children"><div><p>map 使用 make创建方式：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span>keytype<span class="token punctuation">]</span>valuetype<span class="token punctuation">)</span>

<span class="token comment">//不存在固定长度或者最大限制，但是也可以选择标明 map 的初始容量 capacity</span>
<span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span>keytype<span class="token punctuation">]</span>valuetype<span class="token punctuation">,</span> <span class="token builtin">cap</span><span class="token punctuation">)</span>

<span class="token comment">//例子：</span>
map2 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>切记不要使用 new 创建 map，否则会得到一个空引用的指针</strong></p></div><div><p><code>当 map 增长到容量上限的时候，如果再增加新的 key-value，map 的大小会自动加 1，所以出于性能的考虑，对于大的 map 或者会快速扩张的 map，即使只是大概知道容量，也最好先标明。</code></p></div><div><p>3、Map 和切片结合</p></div><div><p>例：当我们要处理 unix 机器上的所有进程，以父进程（pid 为整形）作为 key，所有的子进程（以所有子进程的 pid 组成的切片）作为 value。<br>
通过将 value 定义为 []int 类型或者其他类型的切片，类似于 java 中的 <code>Map&lt;Interger,List&lt;Interger&gt;</code>。</p></div><div><p>示例代码如下所示：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//键的类型是 `int`，值的类型是 `[]int`，即整数切片。</span>
<span class="token comment">//直接通过键来访问和修改整数切片的内容</span>
mp1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>

<span class="token comment">//键的类型是 `int`，值的类型是 `*[]int`，即指向整数切片的指针。</span>
<span class="token comment">//先通过键获取指向整数切片的指针，然后再访问和修改切片的内容</span>
mp2 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>使用：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// mp1 示例  </span>
mp1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>  
slice1 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>  
mp1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> slice1  
  
<span class="token comment">// 修改 mp1 中键为 1 的切片  </span>
mp1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>mp1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 输出: [10 2 3]  </span>
  
<span class="token comment">// mp2 示例  </span>
mp2 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>  
slice2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>  
mp2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>slice2  
  
<span class="token comment">// 修改 mp2 中键为 1 的切片  </span>
<span class="token punctuation">(</span><span class="token operator">*</span>mp2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>mp2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 输出: [10 2 3]</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="3、使用 Map" class="heading" id="3、使用_Map"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3、使用 Map</h4><div class="heading-children"><div class="heading-wrapper"><h5 data-heading="○　遍历" class="heading" id="○　遍历"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　遍历</h5><div class="heading-children"><div><p>Map 的遍历过程使用 for range 循环完成，代码如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">scene <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
scene<span class="token punctuation">[</span><span class="token string">"cat"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">66</span>
scene<span class="token punctuation">[</span><span class="token string">"dog"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span>
scene<span class="token punctuation">[</span><span class="token string">"pig"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">960</span>
<span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> scene <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>注意：map 是无序的，不要期望 map 在遍历时返回某种期望顺序的结果</strong></p></div></div></div><div class="heading-wrapper"><h5 data-heading="○　删除" class="heading" id="○　删除"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　删除</h5><div class="heading-children"><div><p>使用 delete () 内建函数从 map 中删除一组键值对，delete () 函数的格式如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token function">delete</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">,</span> 键<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>Map 为要删除的 map 实例，键为要删除的 map 中键值对的键。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">scene <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>  
<span class="token comment">// 准备map数据  </span>
scene<span class="token punctuation">[</span><span class="token string">"cat"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">66</span>  
scene<span class="token punctuation">[</span><span class="token string">"dog"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span>  
scene<span class="token punctuation">[</span><span class="token string">"pig"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">960</span>  
<span class="token function">delete</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> <span class="token string">"dog"</span><span class="token punctuation">)</span>  
<span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> scene <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>  
    <span class="token function">delete</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> k<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>scene<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>Go 语言中并没有为 map 提供任何清空所有元素的函数、方法，清空 map 的唯一办法就是重新 make 一个新的 map，不用担心垃圾回收的效率，<strong>Go 语言中的并行垃圾回收效率比写一个清空函数要高效的多</strong>。</p></div></div></div></div></div><div class="heading-wrapper"><h4 data-heading="4、线程安全的 map" class="heading" id="4、线程安全的_map"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4、线程安全的 map</h4><div class="heading-children"><div><p><strong>注意 map 在并发情况下，只读是线程安全的，同时读写是线程不安全的。</strong></p></div><div><p>并发情况下读写 map 时会出现问题，代码如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// 创建一个int到int的映射</span>
m <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
<span class="token comment">// 开启一段并发代码</span>
<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不停地对map进行写入</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        m<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 开启一段并发代码</span>
<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不停地对map进行读取</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        <span class="token boolean">_</span> <span class="token operator">=</span> m<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 无限循环, 让并发程序在后台执行</span>
<span class="token keyword">for</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">//编译不报错，但运行报错，报错输出：</span>
<span class="token comment">//fatal error: concurrent map read and map write</span>
<span class="token comment">//使用了两个并发函数不断地对 map 进行读和写而发生了竞态问题，map 内部会对这种并发操作进行检查并提前发现。</span>

</code><button class="copy-code-button">复制</button></pre></div><div><p>需要并发读写时，一般的做法是加锁，但这样性能并不高，Go 语言在 1.9 版本中提供了一种效率较高的并发安全的 <code>sync.Map</code>，sync. Map 和 map 不同，不是以语言原生形态提供，而是在 sync 包下的特殊结构。</p></div><div><p>Sync. Map 有以下特性：</p></div><div><ul>
<li data-line="0">无须初始化，直接声明即可。</li>
<li data-line="1">Sync. Map 不能使用 map 的方式进行取值和设置等操作，而是使用 sync. Map 的方法进行调用，Store 表示存储，Load 表示获取，Delete 表示删除。</li>
<li data-line="2">使用 Range 配合一个回调函数进行遍历操作，通过回调函数返回内部遍历出来的值，Range 参数中回调函数的返回值在需要继续迭代遍历时，返回 true，终止迭代遍历时，返回 false。</li>
</ul></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
      <span class="token string">"fmt"</span>
      <span class="token string">"sync"</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//sync.Map 不能使用 make 创建</span>
    <span class="token keyword">var</span> scene sync<span class="token punctuation">.</span>Map
    <span class="token comment">// 将键值对保存到sync.Map</span>
    <span class="token comment">//sync.Map 将键和值以 interface{} 类型进行保存。</span>
    scene<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token string">"greece"</span><span class="token punctuation">,</span> <span class="token number">97</span><span class="token punctuation">)</span>
    scene<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token string">"london"</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    scene<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span><span class="token string">"egypt"</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    <span class="token comment">// 从sync.Map中根据键取值</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>scene<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token string">"london"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 根据键删除对应的键值对</span>
    scene<span class="token punctuation">.</span><span class="token function">Delete</span><span class="token punctuation">(</span><span class="token string">"london"</span><span class="token punctuation">)</span>
    <span class="token comment">// 遍历所有sync.Map中的键值对</span>
    <span class="token comment">//遍历需要提供一个匿名函数，参数为 k、v，类型为 interface{}，每次 Range() 在遍历一个元素时，都会调用这个匿名函数把结果返回。</span>
    scene<span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"iterate:"</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>sync. Map 为了保证并发安全有一些性能损失，因此在非并发情况下，使用 map 相比使用 sync. Map 会有更好的性能。</strong></p></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="四）零值 nil" class="heading" id="四）零值_nil"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>四）零值 nil</h3><div class="heading-children"><div><p><strong>零值是 Go 语言中变量在声明之后但是未初始化被赋予的该类型的一个默认值。</strong></p></div><div><p>在 Go 语言中，布尔类型的零值（初始值）为 false，数值类型的零值为 0，字符串类型的零值为空字符串 <code>""</code>。<br>
指针、切片、映射、通道、函数和接口的零值则是 nil 标识符。</p></div><div><p><strong>Nil 和其他语言的 null 是不同的。</strong></p></div><div><p>1、<strong>谨慎比较</strong></p></div><div><p><code>nil</code>&nbsp;只能与指针类型进行比较，而不能与其他类型的值进行直接比较（**包括 <code>nil</code> 本身）。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> sp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>  
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sp <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token comment">//true  </span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token boolean">nil</span> <span class="token operator">==</span> sp<span class="token punctuation">)</span> <span class="token comment">//true  </span>
  
<span class="token comment">//var ot int  </span>
<span class="token comment">//fmt.Println(ot == nil)  </span>
<span class="token comment">//编译时候就报错  </span>
  
<span class="token comment">//fmt.Println(nil == nil)  </span>
<span class="token comment">//运行直接报错 invalid operation: nil == nil (operator == not defined on untyped nil)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>2、<strong>不是关键字或保留字</strong></p></div><div><p>Nil 并不是 Go 语言的关键字或者保留字，也就是说我们可以定义一个名称为 nil 的变量，比如下面这样：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">//但不提倡这样做</span>
<span class="token keyword">var</span> <span class="token boolean">nil</span> <span class="token operator">=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"my god"</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>3、<strong>没有默认类型</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//error :use of untyped nil</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%T"</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>4、<strong>不同类型的 nil，指针的地址相同。</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> arr <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
    <span class="token keyword">var</span> num <span class="token operator">*</span><span class="token builtin">int</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%p"</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//0x0</span>
<span class="token comment">//0x0</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>5、<strong>nil 是 map、slice、pointer、channel、func、interface 的零值</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span>
    <span class="token keyword">var</span> ptr <span class="token operator">*</span><span class="token builtin">int</span>
    <span class="token keyword">var</span> c <span class="token keyword">chan</span> <span class="token builtin">int</span>
    <span class="token keyword">var</span> sl <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
    <span class="token keyword">var</span> f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> i <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%#v\n"</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%#v\n"</span><span class="token punctuation">,</span> ptr<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%#v\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%#v\n"</span><span class="token punctuation">,</span> sl<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%#v\n"</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%#v\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p> 6、<strong>不同类型的 nil 值占用的内存大小可能是不一样的</strong><br>
具体的大小取决于编译器和架构</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
    <span class="token string">"unsafe"</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> p <span class="token operator">*</span><span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span> p <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// 8</span>
    <span class="token keyword">var</span> s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span> s <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// 24</span>
    <span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">bool</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span> m <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// 8</span>
    <span class="token keyword">var</span> c <span class="token keyword">chan</span> <span class="token builtin">string</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span> c <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// 8</span>
    <span class="token keyword">var</span> f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span> f <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// 8</span>
    <span class="token keyword">var</span> i <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// 16</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h3 data-heading="五）New 和 make" class="heading" id="五）New_和_make"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>五）New 和 make</h3><div class="heading-children"><div><p>Make 关键字的主要作用是创建 slice、map 和 Channel 等内置的数据结构，而 new 的主要作用是为类型申请一片内存空间，并返回指向这片内存的指针。</p></div><div><ol>
<li data-line="0">Make 分配空间后，会进行初始化，new 分配的空间被清零</li>
<li data-line="1">New 分配返回的是指针，即类型 *Type。Make 返回引用，即 Type；</li>
<li data-line="2">New 可以分配任意类型的数据；</li>
</ol></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="五、面向对象" class="heading" id="五、面向对象"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>五、面向对象</h2><div class="heading-children"><div class="heading-wrapper"><h4 data-heading="1、结构体" class="heading" id="1、结构体"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1、结构体</h4><div class="heading-children"><div><blockquote>
<p>Go 语言可以通过自定义的方式形成新的类型，结构体就是这些类型中的一种复合类型，结构体是由零个或多个任意类型的值聚合成的实体，每个值都可以称为结构体的成员。</p>
</blockquote></div><div><p>结构体成员也可以称为“字段”，这些字段有以下特性：</p></div><div><ul>
<li data-line="0">字段拥有自己的类型和值；</li>
<li data-line="1">字段名必须唯一；</li>
<li data-line="2">字段的类型也可以是结构体，甚至是字段所在结构体的类型。</li>
</ul></div><div><p>使用关键字 <strong>type</strong> 可以将各种基本类型定义为自定义类型，基本类型包括整型、字符串、布尔等。结构体是一种复合的基本类型，通过 type 定义为自定义类型后，使结构体更便于使用。</p></div><div><p>结构体的定义格式如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> 类型名 <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    字段<span class="token number">1</span> 字段<span class="token number">1</span>类型
    字段<span class="token number">2</span> 字段<span class="token number">2</span>类型
    …
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><ul>
<li data-line="0">类型名：标识自定义结构体的名称，在同一个包内不能重复。</li>
<li data-line="1">struct{}：表示结构体类型，<code>type 类型名 struct{}</code> 可以理解为将 struct{} 结构体定义为类型名的类型。</li>
<li data-line="2">字段 1、字段 2……：表示结构体字段名，结构体中的字段名必须唯一。</li>
<li data-line="3">字段 1 类型、字段 2 类型……：表示结构体各个字段的类型。</li>
</ul></div><div><p>示例：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> Point <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    X <span class="token builtin">int</span>
    Y <span class="token builtin">int</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>颜色的红、绿、蓝 3 个分量可以使用 byte 类型:</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> Color <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    R<span class="token punctuation">,</span> G<span class="token punctuation">,</span> B <span class="token builtin">byte</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>结构体的定义只是一种内存布局的描述，只有当结构体实例化时，才会真正地分配内存</strong></p></div><div class="heading-wrapper"><h5 data-heading="○　实例化" class="heading" id="○　实例化"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　实例化</h5><div class="heading-children"><div><p>实例化就是根据结构体定义的格式创建一份与格式一致的内存区域，结构体实例与实例间的内存是完全独立的。</p></div><div><p><strong>基本的实例化形式:</strong></p></div><div><p>结构体本身是一种类型，可以像整型、字符串等类型一样，以 var 的方式声明结构体即可完成实例化。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">var</span> ins T
</code><button class="copy-code-button">复制</button></pre></div><div><p><code>T</code> 为结构体类型，<code>ins</code> 为结构体的实例。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> Point <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	X <span class="token builtin">int</span>
	Y <span class="token builtin">int</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//使用.来访问结构体的成员变量,结构体成员变量的赋值方法与普通变量一致。</span>
	<span class="token keyword">var</span> p Point
	p<span class="token punctuation">.</span>X <span class="token operator">=</span> <span class="token number">1</span>
	p<span class="token punctuation">.</span>Y <span class="token operator">=</span> <span class="token number">2</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v,x=%d,y=%d"</span><span class="token punctuation">,</span>p<span class="token punctuation">,</span>p<span class="token punctuation">.</span>X<span class="token punctuation">,</span>p<span class="token punctuation">.</span>Y <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> Point <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	X <span class="token builtin">int</span>
	Y <span class="token builtin">int</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">var</span> p Point
	<span class="token comment">//p.X = 1</span>
	<span class="token comment">//p.Y = 2</span>
    <span class="token comment">//如果不赋值 结构体中的变量会使用零值初始化</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v,x=%d,y=%d"</span><span class="token punctuation">,</span>p<span class="token punctuation">,</span>p<span class="token punctuation">.</span>X<span class="token punctuation">,</span>p<span class="token punctuation">.</span>Y <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> Point <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	X <span class="token builtin">int</span>
	Y <span class="token builtin">int</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//可以使用</span>
	<span class="token keyword">var</span> p <span class="token operator">=</span> Point<span class="token punctuation">{</span>
		X<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
		Y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
    <span class="token keyword">var</span> p <span class="token operator">=</span> Point<span class="token punctuation">{</span>
		<span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token number">2</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v,x=%d,y=%d"</span><span class="token punctuation">,</span>p<span class="token punctuation">,</span>p<span class="token punctuation">.</span>X<span class="token punctuation">,</span>p<span class="token punctuation">.</span>Y <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>创建指针类型的结构体：</strong></p></div><div><p>Go 语言中，还可以使用 new 关键字对类型（包括结构体、整型、浮点数、字符串等）进行实例化，结构体在实例化后会形成指针类型的结构体。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">ins <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><ul>
<li data-line="0">T 为类型，可以是结构体、整型、字符串等。</li>
<li data-line="1">Ins：T 类型被实例化后保存到 ins 变量中，ins 的类型为 *T，属于指针。</li>
</ul></div><div><p>下面的例子定义了一个玩家（Player）的结构，玩家拥有名字、生命值和魔法值：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> Player <span class="token keyword">struct</span><span class="token punctuation">{</span>
    Name <span class="token builtin">string</span>
    HealthPoint <span class="token builtin">int</span>
    MagicPoint <span class="token builtin">int</span>
<span class="token punctuation">}</span>
tank <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>Player<span class="token punctuation">)</span>
tank<span class="token punctuation">.</span>Name <span class="token operator">=</span> <span class="token string">"码神"</span>
tank<span class="token punctuation">.</span>HealthPoint <span class="token operator">=</span> <span class="token number">300</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>new 实例化的结构体实例在成员赋值上与基本实例化的写法一致。</strong></p></div><div><p><strong>取结构体的地址实例化:</strong></p></div><div><p>在 Go 语言中，对结构体进行 <code>&amp;</code> 取地址操作时，视为对该类型进行一次 new 的实例化操作，取地址格式如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">ins <span class="token operator">:=</span> <span class="token operator">&amp;</span>T<span class="token punctuation">{</span><span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>其中：</p></div><div><ul>
<li data-line="0">T 表示结构体类型。</li>
<li data-line="1">Ins 为结构体的实例，类型为 *T，是指针类型。</li>
</ul></div><div><p>示例：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> Command <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Name    <span class="token builtin">string</span>    <span class="token comment">// 指令名称</span>
	Var     <span class="token operator">*</span><span class="token builtin">int</span>      <span class="token comment">// 指令绑定的变量</span>
	Comment <span class="token builtin">string</span>    <span class="token comment">// 指令的注释</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">newCommand</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">,</span> varRef <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">,</span> comment <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">*</span>Command <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">&amp;</span>Command<span class="token punctuation">{</span>
		Name<span class="token punctuation">:</span>    name<span class="token punctuation">,</span>
		Var<span class="token punctuation">:</span>     varRef<span class="token punctuation">,</span>
		Comment<span class="token punctuation">:</span> comment<span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> version <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	cmd <span class="token operator">:=</span> <span class="token function">newCommand</span><span class="token punctuation">(</span>
		<span class="token string">"version"</span><span class="token punctuation">,</span>
		<span class="token operator">&amp;</span>version<span class="token punctuation">,</span>
		<span class="token string">"show version"</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h5 data-heading="○　匿名结构体" class="heading" id="○　匿名结构体"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　匿名结构体</h5><div class="heading-children"><div><p>匿名结构体没有类型名称，无须通过 type 关键字定义就可以直接使用。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">ins <span class="token operator">:=</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token comment">// 匿名结构体字段定义</span>
    字段<span class="token number">1</span> 字段类型<span class="token number">1</span>
    字段<span class="token number">2</span> 字段类型<span class="token number">2</span>
    …
<span class="token punctuation">}</span><span class="token punctuation">{</span>
    <span class="token comment">// 字段值初始化</span>
    初始化字段<span class="token number">1</span><span class="token punctuation">:</span> 字段<span class="token number">1</span>的值<span class="token punctuation">,</span>
    初始化字段<span class="token number">2</span><span class="token punctuation">:</span> 字段<span class="token number">2</span>的值<span class="token punctuation">,</span>
    …
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><ul>
<li data-line="0">字段 1、字段 2……：结构体定义的字段名。</li>
<li data-line="1">初始化字段 1、初始化字段 2……：结构体初始化时的字段名，可选择性地对字段初始化。</li>
<li data-line="2">字段类型 1、字段类型 2……：结构体定义字段的类型。</li>
<li data-line="3">字段 1 的值、字段 2 的值……：结构体初始化字段的初始值。</li>
</ul></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
<span class="token comment">// 打印消息类型, 传入匿名结构体</span>
<span class="token keyword">func</span> <span class="token function">printMsgType</span><span class="token punctuation">(</span>msg <span class="token operator">*</span><span class="token keyword">struct</span> <span class="token punctuation">{</span>
	id   <span class="token builtin">int</span>
	data <span class="token builtin">string</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 使用动词%T打印msg的类型</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%T\n, msg:%v"</span><span class="token punctuation">,</span> msg<span class="token punctuation">,</span>msg<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 实例化一个匿名结构体</span>
	msg <span class="token operator">:=</span> <span class="token operator">&amp;</span><span class="token keyword">struct</span> <span class="token punctuation">{</span>  <span class="token comment">// 定义部分</span>
		id   <span class="token builtin">int</span>
		data <span class="token builtin">string</span>
	<span class="token punctuation">}</span><span class="token punctuation">{</span>  <span class="token comment">// 值初始化部分</span>
		<span class="token number">1024</span><span class="token punctuation">,</span>
		<span class="token string">"hello"</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	<span class="token function">printMsgType</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="2、结构体方法" class="heading" id="2、结构体方法"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2、结构体方法</h3><div class="heading-children"><div><p>在 Go 语言中，结构体就像是类的一种 <code>简化形式</code>，那么类的方法在哪里呢？</p></div><div><p>在 Go 语言中有一个概念，它和方法有着同样的名字，并且大体上意思相同，Go 方法是作用在接收器（receiver）上的一个函数，接收器是某种类型的变量，因此方法是一种特殊类型的函数。</p></div><div><p>接收器类型可以是（几乎）任何类型，不仅仅是结构体类型，任何类型都可以有方法，甚至可以是函数类型，可以是 int、bool、string 或数组的别名类型，但是接收器不能是一个接口类型，因为接口是一个抽象定义，而方法却是具体实现，如果这样做了就会引发一个编译错误 <code>invalid receiver type…</code></p></div><div><p>接收器也不能是一个指针类型，但是它可以是任何其他允许类型的指针。</p></div><div><p><strong>一个类型加上它的方法等价于面向对象中的一个类</strong></p></div><div><p>在 Go 语言中，类型的 <code>代码</code> 和绑定在它上面的 <code>方法</code> 的代码可以 <code>不放置在一起</code>，它们可以存在不同的源文件中，唯一的要求是它们必须是 <code>同一个包的</code>。</p></div><div><blockquote>
<p>类型 T（或 T）上的所有方法的集合叫做类型 T（或 T）的方法集。</p>
</blockquote></div><div><p>在面向对象的语言中，类拥有的方法一般被理解为类可以做的事情。在 Go 语言中“方法”的概念与其他语言一致，只是 Go 语言建立的“接收器”强调方法的作用对象是接收器，也就是类实例，而函数没有作用对象。</p></div><div><p><strong>为结构体添加方法：</strong></p></div><div><blockquote>
<p>需求：将物品放入背包</p>
</blockquote></div><div><p>面向对象的写法：</p></div><div><p>​ 将背包做为一个对象，将物品放入背包的过程作为“方法”</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> Bag <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	items <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>b <span class="token operator">*</span>Bag<span class="token punctuation">)</span> <span class="token function">Insert</span><span class="token punctuation">(</span>itemid <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	b<span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>items<span class="token punctuation">,</span> itemid<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	b <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>Bag<span class="token punctuation">)</span>
	b<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>items<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><code>(b *Bag) </code> 表示接收器，即 Insert 作用的对象实例。每个方法只能有一个接收器。</p></div></div></div><div class="heading-wrapper"><h3 data-heading="3、接收器" class="heading" id="3、接收器"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3、接收器</h3><div class="heading-children"><div><p>接收器的格式如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token punctuation">(</span>接收器变量 接收器类型<span class="token punctuation">)</span> 方法名<span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span> <span class="token punctuation">(</span>返回参数<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    函数体
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><ul>
<li data-line="0">接收器变量：接收器中的参数变量名在命名时，官方建议使用接收器类型名的第一个小写字母，而不是 self、this 之类的命名。例如，Socket 类型的接收器变量应该命名为 s，Connector 类型的接收器变量应该命名为 c 等。</li>
<li data-line="1">接收器类型：接收器类型和参数类似，可以是指针类型和非指针类型。</li>
<li data-line="2">方法名、参数列表、返回参数：格式与函数定义一致。</li>
</ul></div><div><p>接收器根据接收器的类型可以分为 <code>指针接收器</code>、<code>非指针接收器</code>，两种接收器在使用时会产生不同的效果，根据效果的不同，两种接收器会被用于不同性能和功能要求的代码中。</p></div><div><p><strong>指针类型的接收器:</strong></p></div><div><p>指针类型的接收器由一个结构体的指针组成，更接近于面向对象中的 this 或者 self。</p></div><div><p>由于指针的特性，调用方法时，<code>修改接收器指针的任意成员变量，在方法结束后，修改都是有效的</code>。</p></div><div><p>示例：</p></div><div><p>使用结构体定义一个属性（Property），为属性添加 SetValue () 方法以封装设置属性的过程，通过属性的 Value () 方法可以重新获得属性的数值，使用属性时，通过 SetValue () 方法的调用，可以达成修改属性值的效果：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token comment">// 定义属性结构</span>
<span class="token keyword">type</span> Property <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    value <span class="token builtin">int</span>  <span class="token comment">// 属性值</span>
<span class="token punctuation">}</span>
<span class="token comment">// 设置属性值</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>Property<span class="token punctuation">)</span> <span class="token function">SetValue</span><span class="token punctuation">(</span>v <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 修改p的成员变量</span>
    p<span class="token punctuation">.</span>value <span class="token operator">=</span> v
<span class="token punctuation">}</span>
<span class="token comment">// 取属性值</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>Property<span class="token punctuation">)</span> <span class="token function">Value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> p<span class="token punctuation">.</span>value
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 实例化属性</span>
    p <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>Property<span class="token punctuation">)</span>
    <span class="token comment">// 设置值</span>
    p<span class="token punctuation">.</span><span class="token function">SetValue</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token comment">// 打印值</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">Value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>非指针类型的接收器:</strong></p></div><div><p>当方法作用于非指针接收器时，Go 语言会在代码运行时将接收器的值复制一份，在非指针接收器的方法中可以获取接收器的成员值，但 <code>修改后无效</code>。</p></div><div><p>点（Point）使用结构体描述时，为点添加 Add () 方法，这个方法不能修改 Point 的成员 X、Y 变量，而是在计算后返回新的 Point 对象，Point 属于小内存对象，在函数返回值的复制过程中可以极大地提高代码运行效率:</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
<span class="token comment">// 定义点结构</span>
<span class="token keyword">type</span> Point <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    X <span class="token builtin">int</span>
    Y <span class="token builtin">int</span>
<span class="token punctuation">}</span>
<span class="token comment">// 非指针接收器的加方法</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p Point<span class="token punctuation">)</span> <span class="token function">Add</span><span class="token punctuation">(</span>other Point<span class="token punctuation">)</span> Point <span class="token punctuation">{</span>
    <span class="token comment">// 成员值与参数相加后返回新的结构</span>
    <span class="token keyword">return</span> Point<span class="token punctuation">{</span>p<span class="token punctuation">.</span>X <span class="token operator">+</span> other<span class="token punctuation">.</span>X<span class="token punctuation">,</span> p<span class="token punctuation">.</span>Y <span class="token operator">+</span> other<span class="token punctuation">.</span>Y<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化点</span>
    p1 <span class="token operator">:=</span> Point<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span>
    p2 <span class="token operator">:=</span> Point<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span>
    <span class="token comment">// 与另外一个点相加</span>
    result <span class="token operator">:=</span> p1<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span>
    <span class="token comment">// 输出结果</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>在计算机中，小对象由于值复制时的速度较快，所以适合使用非指针接收器，大对象因为复制性能较低，适合使用指针接收器，在接收器和参数间传递时不进行复制，只是传递指针。</strong></p></div><div class="heading-wrapper"><h4 data-heading="○　二维矢量模拟玩家移动" class="heading" id="○　二维矢量模拟玩家移动"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　二维矢量模拟玩家移动</h4><div class="heading-children"><div><p>在游戏中，一般使用二维矢量保存玩家的位置，使用矢量运算可以计算出玩家移动的位置，本例子中，首先实现二维矢量对象，接着构造玩家对象，最后使用矢量对象和玩家对象共同模拟玩家移动的过程。</p></div><div><p><strong>实现二维矢量结构:</strong></p></div><div><p>矢量是数学中的概念，二维矢量拥有两个方向的信息，同时可以进行加、减、乘（缩放）、距离、单位化等计算，在计算机中，使用拥有 X 和 Y 两个分量的 Vec 2 结构体实现数学中二维向量的概念。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"math"</span>
<span class="token keyword">type</span> Vec2 <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    X<span class="token punctuation">,</span> Y <span class="token builtin">float32</span>
<span class="token punctuation">}</span>
<span class="token comment">// 加</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>v Vec2<span class="token punctuation">)</span> <span class="token function">Add</span><span class="token punctuation">(</span>other Vec2<span class="token punctuation">)</span> Vec2 <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Vec2<span class="token punctuation">{</span>
        v<span class="token punctuation">.</span>X <span class="token operator">+</span> other<span class="token punctuation">.</span>X<span class="token punctuation">,</span>
        v<span class="token punctuation">.</span>Y <span class="token operator">+</span> other<span class="token punctuation">.</span>Y<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 减</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>v Vec2<span class="token punctuation">)</span> <span class="token function">Sub</span><span class="token punctuation">(</span>other Vec2<span class="token punctuation">)</span> Vec2 <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Vec2<span class="token punctuation">{</span>
        v<span class="token punctuation">.</span>X <span class="token operator">-</span> other<span class="token punctuation">.</span>X<span class="token punctuation">,</span>
        v<span class="token punctuation">.</span>Y <span class="token operator">-</span> other<span class="token punctuation">.</span>Y<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 乘 缩放或者叫矢量乘法，是对矢量的每个分量乘上缩放比，Scale() 方法传入一个参数同时乘两个分量，表示这个缩放是一个等比缩放</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>v Vec2<span class="token punctuation">)</span> <span class="token function">Scale</span><span class="token punctuation">(</span>s <span class="token builtin">float32</span><span class="token punctuation">)</span> Vec2 <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Vec2<span class="token punctuation">{</span>v<span class="token punctuation">.</span>X <span class="token operator">*</span> s<span class="token punctuation">,</span> v<span class="token punctuation">.</span>Y <span class="token operator">*</span> s<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 距离 计算两个矢量的距离，math.Sqrt() 是开方函数，参数是 float64，在使用时需要转换，返回值也是 float64，需要转换回 float32</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>v Vec2<span class="token punctuation">)</span> <span class="token function">DistanceTo</span><span class="token punctuation">(</span>other Vec2<span class="token punctuation">)</span> <span class="token builtin">float32</span> <span class="token punctuation">{</span>
    dx <span class="token operator">:=</span> v<span class="token punctuation">.</span>X <span class="token operator">-</span> other<span class="token punctuation">.</span>X
    dy <span class="token operator">:=</span> v<span class="token punctuation">.</span>Y <span class="token operator">-</span> other<span class="token punctuation">.</span>Y
    <span class="token keyword">return</span> <span class="token function">float32</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span><span class="token function">float64</span><span class="token punctuation">(</span>dx<span class="token operator">*</span>dx <span class="token operator">+</span> dy<span class="token operator">*</span>dy<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 矢量单位化</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>v Vec2<span class="token punctuation">)</span> <span class="token function">Normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Vec2 <span class="token punctuation">{</span>
    mag <span class="token operator">:=</span> v<span class="token punctuation">.</span>X<span class="token operator">*</span>v<span class="token punctuation">.</span>X <span class="token operator">+</span> v<span class="token punctuation">.</span>Y<span class="token operator">*</span>v<span class="token punctuation">.</span>Y
    <span class="token keyword">if</span> mag <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        oneOverMag <span class="token operator">:=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token function">float32</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span><span class="token function">float64</span><span class="token punctuation">(</span>mag<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> Vec2<span class="token punctuation">{</span>v<span class="token punctuation">.</span>X <span class="token operator">*</span> oneOverMag<span class="token punctuation">,</span> v<span class="token punctuation">.</span>Y <span class="token operator">*</span> oneOverMag<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Vec2<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>实现玩家对象：</strong></p></div><div><p>玩家对象负责存储玩家的当前位置、目标位置和速度，使用 MoveTo () 方法为玩家设定移动的目标，使用 Update () 方法更新玩家位置，在 Update () 方法中，通过一系列的矢量计算获得玩家移动后的新位置。</p></div><div><ol>
<li data-line="0">使用矢量减法，将目标位置（targetPos）减去当前位置（currPos）即可计算出位于两个位置之间的新矢量</li>
<li data-line="1">使用 Normalize () 方法将方向矢量变为模为 1 的单位化矢量，这里需要将矢量单位化后才能进行后续计算</li>
<li data-line="2">获得方向后，将单位化方向矢量根据速度进行等比缩放，速度越快，速度数值越大，乘上方向后生成的矢量就越长（模很大）</li>
<li data-line="3">将缩放后的方向添加到当前位置后形成新的位置</li>
</ol></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">type</span> Player <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    currPos   Vec2    <span class="token comment">// 当前位置</span>
    targetPos Vec2    <span class="token comment">// 目标位置</span>
    speed     <span class="token builtin">float32</span> <span class="token comment">// 移动速度</span>
<span class="token punctuation">}</span>
<span class="token comment">// 移动到某个点就是设置目标位置</span>
<span class="token comment">//逻辑层通过这个函数告知玩家要去的目标位置，随后的移动过程由 Update() 方法负责</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>Player<span class="token punctuation">)</span> <span class="token function">MoveTo</span><span class="token punctuation">(</span>v Vec2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    p<span class="token punctuation">.</span>targetPos <span class="token operator">=</span> v
<span class="token punctuation">}</span>
<span class="token comment">// 获取当前的位置</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>Player<span class="token punctuation">)</span> <span class="token function">Pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Vec2 <span class="token punctuation">{</span>
    <span class="token keyword">return</span> p<span class="token punctuation">.</span>currPos
<span class="token punctuation">}</span>

<span class="token comment">//判断玩家是否到达目标点，玩家每次移动的半径就是速度（speed），因此，如果与目标点的距离小于速度，表示已经非常靠近目标，可以视为到达目标。</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>Player<span class="token punctuation">)</span> <span class="token function">IsArrived</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    <span class="token comment">// 通过计算当前玩家位置与目标位置的距离不超过移动的步长，判断已经到达目标点</span>
    <span class="token keyword">return</span> p<span class="token punctuation">.</span>currPos<span class="token punctuation">.</span><span class="token function">DistanceTo</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>targetPos<span class="token punctuation">)</span> <span class="token operator">&lt;</span> p<span class="token punctuation">.</span>speed
<span class="token punctuation">}</span>
<span class="token comment">// 逻辑更新</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>Player<span class="token punctuation">)</span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token operator">!</span>p<span class="token punctuation">.</span><span class="token function">IsArrived</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 计算出当前位置指向目标的朝向</span>
        <span class="token comment">//数学中，两矢量相减将获得指向被减矢量的新矢量</span>
        dir <span class="token operator">:=</span> p<span class="token punctuation">.</span>targetPos<span class="token punctuation">.</span><span class="token function">Sub</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>currPos<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// 添加速度矢量生成新的位置</span>
        newPos <span class="token operator">:=</span> p<span class="token punctuation">.</span>currPos<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>dir<span class="token punctuation">.</span><span class="token function">Scale</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>speed<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment">// 移动完成后，更新当前位置</span>
        p<span class="token punctuation">.</span>currPos <span class="token operator">=</span> newPos
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 创建新玩家</span>
<span class="token keyword">func</span> <span class="token function">NewPlayer</span><span class="token punctuation">(</span>speed <span class="token builtin">float32</span><span class="token punctuation">)</span> <span class="token operator">*</span>Player <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>Player<span class="token punctuation">{</span>
        speed<span class="token punctuation">:</span> speed<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>处理移动逻辑：</strong></p></div><div><p>将 Player 实例化后，设定玩家移动的最终目标点，之后开始进行移动的过程，这是一个不断更新位置的循环过程，每次检测玩家是否靠近目标点附近，如果还没有到达，则不断地更新位置，让玩家朝着目标点不停的修改当前位置，如下代码所示：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 实例化玩家对象，并设速度为0.5</span>
	p <span class="token operator">:=</span> <span class="token function">NewPlayer</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
	<span class="token comment">// 让玩家移动到3,1点</span>
	p<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span>Vec2<span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token comment">// 如果没有到达就一直循环</span>
	<span class="token keyword">for</span> <span class="token operator">!</span>p<span class="token punctuation">.</span><span class="token function">IsArrived</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 更新玩家位置</span>
		p<span class="token punctuation">.</span><span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token comment">// 打印每次移动后的玩家位置</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">Pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"到达了：%v"</span><span class="token punctuation">,</span>p<span class="token punctuation">.</span><span class="token function">Pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>给任意类型添加方法</p></div><div><p>Go 语言可以对任何类型添加方法，给一种类型添加方法就像给结构体添加方法一样，因为结构体也是一种类型。</p></div><div><p><strong>为基本类型添加方法：</strong></p></div><div><p>在 Go 语言中，使用 type 关键字可以定义出新的自定义类型，之后就可以为自定义类型添加各种方法了。我们习惯于使用面向过程的方式判断一个值是否为 0，例如：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">if</span>  v <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
    <span class="token comment">// v等于0</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>如果将 v 当做整型对象，那么判断 v 值就可以增加一个 IsZero () 方法，通过这个方法就可以判断 v 值是否为 0，例如：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">if</span>  v<span class="token punctuation">.</span><span class="token function">IsZero</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// v等于0</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>为基本类型添加方法的详细实现流程如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
<span class="token comment">// 将int定义为MyInt类型</span>
<span class="token keyword">type</span> MyInt <span class="token builtin">int</span>
<span class="token comment">// 为MyInt添加IsZero()方法</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>m MyInt<span class="token punctuation">)</span> <span class="token function">IsZero</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> m <span class="token operator">==</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
<span class="token comment">// 为MyInt添加Add()方法</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>m MyInt<span class="token punctuation">)</span> <span class="token function">Add</span><span class="token punctuation">(</span>other <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> other <span class="token operator">+</span> <span class="token function">int</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> b MyInt
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">IsZero</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    b <span class="token operator">=</span> <span class="token number">1</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="4、匿名字段" class="heading" id="4、匿名字段"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4、匿名字段</h3><div class="heading-children"><div><p>结构体可以包含匿名字段。匿名字段是指在结构体中声明的字段没有具体的字段名，只有字段的类型。</p></div><div><p>通过使用匿名字段，可以将其他类型的字段嵌入到结构体中，从而实现代码复用和组合的效果。这种方式有时也被称为"嵌入字段"或"嵌入结构体"。</p></div><div><p>Go 语言中的继承通常是通过内嵌或组合来实现的。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    id   <span class="token builtin">int</span>
    name <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Manager <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    User
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>self <span class="token operator">*</span>User<span class="token punctuation">)</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span> <span class="token comment">// receiver = &amp;(Manager.User)</span>
    <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"User: %p, %v"</span><span class="token punctuation">,</span> self<span class="token punctuation">,</span> self<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    m <span class="token operator">:=</span> Manager<span class="token punctuation">{</span>User<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Tom"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Manager: %p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>类似于重写的功能：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    id   <span class="token builtin">int</span>
    name <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Manager <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    User
    title <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>self <span class="token operator">*</span>User<span class="token punctuation">)</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"User: %p, %v"</span><span class="token punctuation">,</span> self<span class="token punctuation">,</span> self<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>self <span class="token operator">*</span>Manager<span class="token punctuation">)</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"Manager: %p, %v"</span><span class="token punctuation">,</span> self<span class="token punctuation">,</span> self<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    m <span class="token operator">:=</span> Manager<span class="token punctuation">{</span>User<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Tom"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"Administrator"</span><span class="token punctuation">}</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>User<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h3 data-heading="5、接口" class="heading" id="5、接口"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>5、接口</h3><div class="heading-children"><div><p>在 Go 语言中接口（interface）是一种类型，一种抽象的类型。</p></div><div><p>Interface 是一组 method 的集合，接口做的事情就像是定义一个协议（规则），只要一台机器有洗衣服和甩干的功能，我就称它为洗衣机。不关心属性（数据），只关心行为（方法）。</p></div><div><p><strong>接口（interface）是一种类型</strong></p></div><div><p>接口类型是对其它类型行为的抽象和概括；因为接口类型不会和特定的实现细节绑定在一起，通过这种抽象的方式我们可以让我们的函数更加灵活和更具有适应能力。</p></div><div><p>接口是双方约定的一种合作协议。接口实现者不需要关心接口会被怎样使用，调用者也不需要关心接口的实现细节。接口是一种类型，也是一种抽象结构，不会暴露所含数据的格式、类型及结构。</p></div><div class="heading-wrapper"><h4 data-heading="○　接口定义" class="heading" id="○　接口定义"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　接口定义</h4><div class="heading-children"><div><blockquote>
<p>Go 语言提倡面向接口编程。</p>
</blockquote></div><div><p>每个接口类型由数个方法组成。接口的形式代码如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> 接口类型名 <span class="token keyword">interface</span><span class="token punctuation">{</span>
    方法名<span class="token function">1</span><span class="token punctuation">(</span> 参数列表<span class="token number">1</span> <span class="token punctuation">)</span> 返回值列表<span class="token number">1</span>
    方法名<span class="token function">2</span><span class="token punctuation">(</span> 参数列表<span class="token number">2</span> <span class="token punctuation">)</span> 返回值列表<span class="token number">2</span>
    …
<span class="token punctuation">}</span>

<span class="token comment">//接口类型名：使用 type 将接口定义为自定义的类型名。Go 语言的接口在命名时，一般会在单词后面添加 er，如有写操作的接口叫 Writer，有字符串功能的接口叫 Stringer，有关闭功能的接口叫 Closer 等。</span>
<span class="token comment">//方法名：当方法名首字母是大写时，且这个接口类型名首字母也是大写时，这个方法可以被接口所在的包（package）之外的代码访问。</span>
<span class="token comment">//参数列表、返回值列表：参数列表和返回值列表中的参数变量名可以被忽略</span>

</code><button class="copy-code-button">复制</button></pre></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> Writer <span class="token keyword">interface</span><span class="token punctuation">{</span>
    <span class="token comment">//大写字母开头 意味着别的包 也可以访问</span>
    <span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="○　接口实现条件" class="heading" id="○　接口实现条件"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　接口实现条件</h4><div class="heading-children"><div><p>在Go语言中，要实现一个接口，需要满足以下条件：</p></div><div><ol>
<li data-line="0"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>方法集匹配：类型必须实现接口中的所有方法。
<ul>
<li data-line="1">方法集是指类型中可以被直接调用的方法集合。如果一个任意类型 T 的方法集为一个接口类型的方法集的超集，则我们说类型 T 实现了此接口类型。</li>
<li data-line="2">T 可以是一个非接口类型，也可以是一个接口类型。</li>
</ul>
</li>
<li data-line="3">隐式实现：Go 语言中没有类似于 implements 的关键字，接口的实现是隐式的，无需显式声明。只要类型的方法集匹配接口的方法集，就视为实现了该接口。</li>
</ol></div><div><p>示例：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
<span class="token comment">// 定义一个数据写入器</span>
<span class="token keyword">type</span> DataWriter <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">WriteData</span><span class="token punctuation">(</span>data <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
<span class="token punctuation">}</span>
<span class="token comment">// 定义文件结构，用于实现DataWriter</span>
<span class="token keyword">type</span> file <span class="token keyword">struct</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token comment">// 实现DataWriter接口的WriteData方法</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>d <span class="token operator">*</span>file<span class="token punctuation">)</span> <span class="token function">WriteData</span><span class="token punctuation">(</span>data <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
    <span class="token comment">// 模拟写入数据</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"WriteData:"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 实例化file</span>
    f <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
    <span class="token comment">// 声明一个DataWriter的接口</span>
    <span class="token keyword">var</span> writer DataWriter
    <span class="token comment">// 将接口赋值f，也就是*file类型</span>
    writer <span class="token operator">=</span> f
    <span class="token comment">// 使用DataWriter接口进行数据写入</span>
    writer<span class="token punctuation">.</span><span class="token function">WriteData</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>接口定义后，需要实现接口，才能正确编译通过并使用接口。</p></div><div><p>❶ 实现方法必须和接口方法格式完全一致<br>
在类型中添加与接口签名一致的方法就可以实现该方法。签名包括方法中的名称、参数列表、返回参数列表。<br>
只要实现接口类型中的方法的名称、参数列表、返回参数列表中的任意一项与接口要实现的方法不一致，那么接口的这个方法就不会被实现。</p></div><div><p>示例：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token string">"fmt"</span>  
  
<span class="token keyword">type</span> Printer <span class="token keyword">interface</span> <span class="token punctuation">{</span>  
    <span class="token function">Print</span><span class="token punctuation">(</span>message <span class="token builtin">string</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">type</span> MyPrinter <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
  
<span class="token comment">// 错误的实现方法，参数列表不匹配  </span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>mp MyPrinter<span class="token punctuation">)</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Printing..."</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> p Printer  
    p <span class="token operator">=</span> MyPrinter<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 编译错误：MyPrinter.Print method has different signature than Printer.Print  </span>
    p<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❷ 必须实现接口所有方法<br>
当一个接口中有多个方法时，只有这些方法都被实现了，接口才能被正确编译并使用。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> DataWriter <span class="token keyword">interface</span> <span class="token punctuation">{</span>  
    <span class="token function">WriteData</span><span class="token punctuation">(</span>data <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token builtin">error</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">type</span> FileWriter <span class="token keyword">struct</span> <span class="token punctuation">{</span>  
    FilePath <span class="token builtin">string</span>  
<span class="token punctuation">}</span>  

<span class="token comment">//func (f FileWriter) WriteData(data interface{}) error {  </span>
<span class="token comment">//  //TODO implement me  </span>
<span class="token comment">//  panic("implement me")  </span>
<span class="token comment">//}</span>
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> writer DataWriter  
    writer <span class="token operator">=</span> FileWriter<span class="token punctuation">{</span>FilePath<span class="token punctuation">:</span> <span class="token string">"data.txt"</span><span class="token punctuation">}</span> <span class="token comment">// 编译错误：FileWriter does not implement DataWriter (missing WriteData method)  </span>
    err <span class="token operator">:=</span> writer<span class="token punctuation">.</span><span class="token function">WriteData</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span>  
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>  
       <span class="token keyword">return</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>但是如果 main 方法根本没有使用到接口，那不会编译报错。 </p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main  
  
<span class="token keyword">import</span> <span class="token string">"fmt"</span>  

<span class="token comment">//此接口根本没有人用</span>
<span class="token keyword">type</span> DataWriter <span class="token keyword">interface</span> <span class="token punctuation">{</span>  
    <span class="token function">WriteData</span><span class="token punctuation">(</span>data <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token builtin">error</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">type</span> FileWriter <span class="token keyword">struct</span> <span class="token punctuation">{</span>  
    FilePath <span class="token builtin">string</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> writer FileWriter  
    writer <span class="token operator">=</span> FileWriter<span class="token punctuation">{</span>FilePath<span class="token punctuation">:</span> <span class="token string">"data.txt"</span><span class="token punctuation">}</span> <span class="token comment">// 编译错误：FileWriter does not implement DataWriter (missing WriteData method)  </span>
    fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>writer<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="○　类型与接口的关系" class="heading" id="○　类型与接口的关系"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　类型与接口的关系</h4><div class="heading-children"><div><blockquote>
<p>在 Go 语言中类型和接口之间有一对多和多对一的关系</p>
</blockquote></div><div><p>❶ 一个类型可以实现多个接口</p></div><div><p>一个类型可以同时实现多个接口，而接口间彼此独立，不知道对方的实现。</p></div><div><p>例如，狗可以叫，也可以动。</p></div><div><p>我们就分别定义 Sayer 接口和 Mover 接口，如下：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// Sayer 接口</span>
<span class="token keyword">type</span> Sayer <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Mover 接口</span>
<span class="token keyword">type</span> Mover <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>Dog 既可以实现 Sayer 接口，也可以实现 Mover 接口。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> dog <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    name <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// 实现Sayer接口</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>d dog<span class="token punctuation">)</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%s会叫汪汪汪\n"</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 实现Mover接口</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>d dog<span class="token punctuation">)</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%s会动\n"</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> x Sayer
    <span class="token keyword">var</span> y Mover

    <span class="token keyword">var</span> a <span class="token operator">=</span> dog<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"旺财"</span><span class="token punctuation">}</span>
    x <span class="token operator">=</span> a
    y <span class="token operator">=</span> a
    x<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    y<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❷ 多个类型实现同一接口</p></div><div><p>Go 语言中不同的类型还可以实现同一接口首先我们定义一个 Mover 接口，它要求必须有一个 move 方法。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// Mover 接口</span>
<span class="token keyword">type</span> Mover <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>例如狗可以动，汽车也可以动，可以使用如下代码实现这个关系：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> dog <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    name <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> car <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    brand <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// dog类型实现Mover接口</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>d dog<span class="token punctuation">)</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%s会跑\n"</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// car类型实现Mover接口</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c car<span class="token punctuation">)</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%s速度70迈\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>brand<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>这个时候我们在代码中就可以把狗和汽车当成一个会动的物体来处理了，不再需要关注它们具体是什么，只需要调用它们的 move 方法就可以了。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> x Mover
    <span class="token keyword">var</span> a <span class="token operator">=</span> dog<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"旺财"</span><span class="token punctuation">}</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> car<span class="token punctuation">{</span>brand<span class="token punctuation">:</span> <span class="token string">"保时捷"</span><span class="token punctuation">}</span>
    x <span class="token operator">=</span> a
    x<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    x <span class="token operator">=</span> b
    x<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>并且一个接口的方法，不一定需要由一个类型完全实现，接口的方法可以通过在类型中嵌入其他类型或者结构体来实现。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// WashingMachine 洗衣机</span>
<span class="token keyword">type</span> WashingMachine <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">wash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">dry</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 甩干器</span>
<span class="token keyword">type</span> dryer <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 实现WashingMachine接口的dry()方法</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>d dryer<span class="token punctuation">)</span> <span class="token function">dry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"甩一甩"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 海尔洗衣机</span>
<span class="token keyword">type</span> haier <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    dryer <span class="token comment">//嵌入甩干器</span>
<span class="token punctuation">}</span>

<span class="token comment">// 实现WashingMachine接口的wash()方法</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>h haier<span class="token punctuation">)</span> <span class="token function">wash</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"洗刷刷"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>❸ 接口嵌套</p></div><div><p>接口与接口间可以通过嵌套创造出新的接口</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// Sayer 接口</span>
<span class="token keyword">type</span> Sayer <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Mover 接口</span>
<span class="token keyword">type</span> Mover <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 接口嵌套</span>
<span class="token keyword">type</span> animal <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    Sayer
    Mover
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>嵌套得到的接口的使用与普通接口一样，这里我们让 cat 实现 animal 接口：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> cat <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    name <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c cat<span class="token punctuation">)</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"喵喵喵"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c cat<span class="token punctuation">)</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"猫会动"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> x animal
    x <span class="token operator">=</span> cat<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"花花"</span><span class="token punctuation">}</span>
    x<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    x<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="6、空接口" class="heading" id="6、空接口"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>6、空接口</h3><div class="heading-children"><div><p>空接口是指没有定义任何方法的接口，因此任何类型都实现了空接口。</p></div><div><blockquote>
<p>可以接收任意类型的值作为参数，可以存储任意类型的变量。<br>
类似于其他编程语言中的泛型概念。</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 定义一个空接口x</span>
    <span class="token keyword">var</span> x <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    s <span class="token operator">:=</span> <span class="token string">"码神之路"</span>
    x <span class="token operator">=</span> s
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type:%T value:%v\n"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> x<span class="token punctuation">)</span>
    i <span class="token operator">:=</span> <span class="token number">100</span>
    x <span class="token operator">=</span> i
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type:%T value:%v\n"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> x<span class="token punctuation">)</span>
    b <span class="token operator">:=</span> <span class="token boolean">true</span>
    x <span class="token operator">=</span> b
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type:%T value:%v\n"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div class="heading-wrapper"><h4 data-heading="○　空接口的应用" class="heading" id="○　空接口的应用"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　空接口的应用</h4><div class="heading-children"><div><p><strong>空接口作为函数的参数</strong></p></div><div><p>使用空接口实现可以接收任意类型的函数参数。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// 空接口作为函数参数</span>
<span class="token keyword">func</span> <span class="token function">show</span><span class="token punctuation">(</span>a <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type:%T value:%v\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>空接口作为 map 的值</strong></p></div><div><p>使用空接口实现可以保存任意值的字典。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token comment">// 空接口作为map值</span>
    <span class="token keyword">var</span> studentInfo <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    studentInfo<span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"李白"</span>
    studentInfo<span class="token punctuation">[</span><span class="token string">"age"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">18</span>
    studentInfo<span class="token punctuation">[</span><span class="token string">"married"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>studentInfo<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="○　类型断言" class="heading" id="○　类型断言"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>○　类型断言</h4><div class="heading-children"><div><p>空接口可以存储任意类型的值，那我们如何获取其存储的具体数据呢？</p></div><div><p><strong>接口值</strong></p></div><div><p>一个接口的值（简称接口值）是由一个具体类型和具体类型的值两部分组成的。</p></div><div><p>这两部分分别称为 <code>接口的动态类型</code> 和 <code>动态值</code>。</p></div><div><p>想要判断空接口中的值这个时候就可以使用类型断言，其语法格式：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded">x<span class="token punctuation">.</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>其中：</p></div><div><ol>
<li data-line="0">X：表示类型为 interface{}的变量</li>
<li data-line="2">T：表示断言 x 可能是的类型。</li>
</ol></div><div><p><strong>该语法返回两个参数，第一个参数是 x 转化为 T 类型后的变量，第二个值是一个布尔值，若为 true 则表示断言成功，为 false 则表示断言失败。</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">var</span> x <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
 x <span class="token operator">=</span> <span class="token string">"码神之路"</span>
 v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>
 <span class="token keyword">if</span> ok <span class="token punctuation">{</span>
     fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
     fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"类型断言失败"</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>上面的示例中如果要断言多次就需要写多个 if 判断，这个时候我们可以使用 switch 语句来实现：</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">justifyType</span><span class="token punctuation">(</span>x <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> v <span class="token operator">:=</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token builtin">string</span><span class="token punctuation">:</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x is a string，value is %v\n"</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x is a int is %v\n"</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x is a bool is %v\n"</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"unsupport type！"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>因为空接口可以存储任意类型值的特点，所以空接口在 Go 语言中的使用十分广泛。</p></div><div><blockquote>
<p>关于接口需要注意的是，只有当有两个或两个以上的具体类型必须以相同的方式进行处理时才需要定义接口。不要为了接口而写接口，那样只会增加不必要的抽象，导致不必要的运行时损耗。</p>
</blockquote></div></div></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="六、异常处理" class="heading" id="六、异常处理"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>六、异常处理</h2><div class="heading-children"><div><blockquote>
<p>Go 语言中使用 panic 抛出错误，recover 捕获错误。</p>
</blockquote></div><div><p>异常的使用场景简单描述：Go 中可以抛出一个 panic 的异常，然后在 defer 中通过 recover 捕获这个异常，然后正常处理。</p></div><div><p><strong>panic：</strong></p></div><div><ol>
<li data-line="0">内置函数</li>
<li data-line="1">假如函数 F 中书写了 panic 语句，会终止其后要执行的代码，在 panic 所在函数 F 内如果存在要执行的 defer 函数列表，按照 defer 的逆序执行</li>
<li data-line="2">返回函数 F 的调用者 G，在 G 中，调用函数 F 语句之后的代码不会执行，假如函数 G 中存在要执行的 defer 函数列表，按照 defer 的逆序执行</li>
<li data-line="3">直到 goroutine 整个退出，并报告错误</li>
</ol></div><div><p><strong>recover：</strong></p></div><div><ol>
<li data-line="0">内置函数</li>
<li data-line="1">用来捕获 panic，从而影响应用的行为</li>
</ol></div><div><blockquote>
<p>Golang 的错误处理流程：当一个函数在执行过程中出现了异常或遇到 panic ()，正常语句就会立即终止，然后执行 defer 语句，再报告异常信息，最后退出 goroutine。如果在 defer 中使用了 recover () 函数, 则会捕获错误信息，使该错误信息终止报告。</p>
</blockquote></div><div><p><strong>注意:</strong></p></div><div><ol>
<li data-line="0">利用 recover 处理 panic 指令，defer 必须放在 panic 之前定义，另外 recover 只有在 defer 调用的函数中才有效。否则当 panic 时，recover 无法捕获到 panic，无法防止 panic 扩散。</li>
<li data-line="1">Recover 处理异常后，逻辑并不会恢复到 panic 那个点去，函数跑到 defer 之后的那个点。</li>
<li data-line="2">多个 defer 会形成 defer 栈，后定义的 defer 语句会被最先调用。</li>
</ol></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            <span class="token function">println</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 将 interface{} 转型为具体类型。</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"panic error!"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>由于 panic、recover 参数类型为 interface{}，因此可抛出任何类型对象。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"> <span class="token keyword">func</span> <span class="token function">panic</span><span class="token punctuation">(</span>v <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token keyword">func</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>延迟调用中引发的错误，可被后续延迟调用捕获，但仅最后一个错误可被捕获:</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// defer panic 会打印</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"defer panic"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"test panic"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>如果需要保护代码段，可将代码块重构成匿名函数，如此可确保后续代码被执 ：</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> z <span class="token builtin">int</span>

    <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                z <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"test panic"</span><span class="token punctuation">)</span>
        z <span class="token operator">=</span> x <span class="token operator">/</span> y
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x / y = %d\n"</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>除用 panic 引发中断性错误外，还可返回 error 类型错误对象来表示函数调用状态:</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> <span class="token builtin">error</span> <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p>标准库 <code>errors.New</code> 和 <code>fmt.Errorf</code> 函数用于创建实现 error 接口的错误对象。通过判断错误对象实例来确定具体错误类型。</p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"errors"</span>
    <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> ErrDivByZero <span class="token operator">=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"division by zero"</span><span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">div</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> y <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">,</span> ErrDivByZero
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> x <span class="token operator">/</span> y<span class="token punctuation">,</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">switch</span> z<span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">div</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token boolean">nil</span><span class="token punctuation">:</span>
        <span class="token function">println</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span>
    <span class="token keyword">case</span> ErrDivByZero<span class="token punctuation">:</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>Go 实现类似 try catch 的异常处理:</strong></p></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">Try</span><span class="token punctuation">(</span>fun <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> handler <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            <span class="token function">handler</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Try</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"test panic"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>err <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p><strong>如何区别使用 panic 和 error 两种方式?</strong></p></div><div><p>惯例是: 导致关键流程出现不可修复性错误的使用 panic，其他使用 error。</p></div></div></div><div class="heading-wrapper"><h2 data-heading="七、文件操作" class="heading" id="七、文件操作"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>七、文件操作</h2><div class="heading-children"></div></div><div class="heading-wrapper"><h2 data-heading="八、网络编程" class="heading" id="八、网络编程"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>八、网络编程</h2><div class="heading-children"></div></div><div class="heading-wrapper"><h2 data-heading="九、包管理" class="heading" id="九、包管理"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>九、包管理</h2><div class="heading-children"></div></div><div class="heading-wrapper"><h2 data-heading="十、对接其他组件" class="heading" id="十、对接其他组件"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>十、对接其他组件</h2><div class="heading-children"><div class="heading-wrapper"><h3 data-heading="▶　mysql" class="heading" id="▶　mysql"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>▶　mysql</h3><div class="heading-children"><div><blockquote>
<p>首先，需要引入 mysql 驱动</p>
</blockquote></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token boolean">_</span> <span class="token string">"github. Com/go-sql-driver/mysql"</span>
<span class="token operator">&gt;</span> <span class="token string">``</span><span class="token string">`

表准备

`</span><span class="token string">``</span>sql
CREATE TABLE <span class="token string">`user`</span> <span class="token punctuation">(</span>
    <span class="token string">`user_id`</span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> NOT NULL AUTO_INCREMENT<span class="token punctuation">,</span>
    <span class="token string">`username`</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> DEFAULT NULL<span class="token punctuation">,</span>
    <span class="token string">`sex`</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> DEFAULT NULL<span class="token punctuation">,</span>
    <span class="token string">`email`</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> DEFAULT NULL<span class="token punctuation">,</span>
    PRIMARY KEY <span class="token punctuation">(</span><span class="token string">`user_id`</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span> ENGINE<span class="token operator">=</span>InnoDB AUTO_INCREMENT<span class="token operator">=</span><span class="token number">2</span> DEFAULT CHARSET<span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code><button class="copy-code-button">复制</button></pre></div><div class="heading-wrapper"><h4 data-heading="Insert 操作](<#### 68.2 insert操作" class="heading" id="Insert_操作](<####_68.2_insert操作"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Insert 操作](&lt;#### 68.2 insert操作</h4><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"database/sql"</span>
	<span class="token string">"fmt"</span>
	<span class="token boolean">_</span> <span class="token string">"github.com/go-sql-driver/mysql"</span>
	<span class="token string">"log"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>
<span class="token keyword">var</span> DB <span class="token operator">*</span>sql<span class="token punctuation">.</span>DB
<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
	db<span class="token punctuation">,</span>err <span class="token operator">:=</span> sql<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">"mysql"</span><span class="token punctuation">,</span><span class="token string">"root:root@tcp(localhost:3306)/go_learn"</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//最大空闲连接数，默认不配置，是2个最大空闲连接</span>
	db<span class="token punctuation">.</span><span class="token function">SetMaxIdleConns</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
	<span class="token comment">//最大连接数，默认不配置，是不限制最大连接数</span>
	db<span class="token punctuation">.</span><span class="token function">SetMaxOpenConns</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
	<span class="token comment">// 连接最大存活时间</span>
	db<span class="token punctuation">.</span><span class="token function">SetConnMaxLifetime</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Minute <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span>
	<span class="token comment">//空闲连接最大存活时间</span>
	db<span class="token punctuation">.</span><span class="token function">SetConnMaxIdleTime</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Minute <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span>
	err <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">Ping</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"数据库连接失败"</span><span class="token punctuation">)</span>
		db<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	DB <span class="token operator">=</span> db

<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
	r<span class="token punctuation">,</span>err <span class="token operator">:=</span> DB<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token string">"insert into user (username,sex,email) values(?,?,?)"</span><span class="token punctuation">,</span><span class="token string">"mszlu001"</span><span class="token punctuation">,</span><span class="token string">"man"</span><span class="token punctuation">,</span><span class="token string">"001@mszlu.com"</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"执行sql语句出错"</span><span class="token punctuation">)</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	id<span class="token punctuation">,</span> err <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">LastInsertId</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"插入成功:"</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
	<span class="token keyword">defer</span> DB<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="68.3 Select操作" class="heading" id="68.3_Select操作"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>68.3 Select操作</h4><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	UserId   <span class="token builtin">int</span>    <span class="token string">`db:"user_id"`</span>
	Username <span class="token builtin">string</span> <span class="token string">`db:"username"`</span>
	Sex      <span class="token builtin">string</span> <span class="token string">`db:"sex"`</span>
	Email    <span class="token builtin">string</span> <span class="token string">`db:"email"`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">query</span><span class="token punctuation">(</span>id <span class="token builtin">int</span><span class="token punctuation">)</span>  <span class="token punctuation">(</span><span class="token operator">*</span>User<span class="token punctuation">,</span><span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	rows<span class="token punctuation">,</span> err <span class="token operator">:=</span> DB<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">"select * from user where user_id=? limit 1"</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span><span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"查询出现错误:"</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	user <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>User<span class="token punctuation">)</span>
	<span class="token keyword">for</span> rows<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> err <span class="token operator">:=</span> rows<span class="token punctuation">.</span><span class="token function">Scan</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>user<span class="token punctuation">.</span>UserId<span class="token punctuation">,</span><span class="token operator">&amp;</span>user<span class="token punctuation">.</span>Username<span class="token punctuation">,</span><span class="token operator">&amp;</span>user<span class="token punctuation">.</span>Sex<span class="token punctuation">,</span><span class="token operator">&amp;</span>user<span class="token punctuation">.</span>Email<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span><span class="token punctuation">{</span>
			log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"scan error:"</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span>
			<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span>errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> user<span class="token punctuation">,</span><span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="68.4 Update" class="heading" id="68.4_Update"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>68.4 Update</h4><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">update</span><span class="token punctuation">(</span>username <span class="token builtin">string</span><span class="token punctuation">,</span> id <span class="token builtin">int</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
	ret<span class="token punctuation">,</span> err <span class="token operator">:=</span> DB<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token string">"update user set username=? where user_id=?"</span><span class="token punctuation">,</span> username<span class="token punctuation">,</span> id<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"更新出现问题:"</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	affected<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> ret<span class="token punctuation">.</span><span class="token function">RowsAffected</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"更新成功的行数:"</span><span class="token punctuation">,</span>affected<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="68.5 Delete" class="heading" id="68.5_Delete"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>68.5 Delete</h4><div class="heading-children"><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">delete</span><span class="token punctuation">(</span>id <span class="token builtin">int</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
	ret<span class="token punctuation">,</span> err <span class="token operator">:=</span> DB<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token string">"delete from user where user_id=?"</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"删除出现问题:"</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	affected<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> ret<span class="token punctuation">.</span><span class="token function">RowsAffected</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"删除成功的行数:"</span><span class="token punctuation">,</span>affected<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="68.6 事务" class="heading" id="68.6_事务"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>68.6 事务</h4><div class="heading-children"><div><p>mysql事务特性：</p></div><div><ol>
<li data-line="0">原子性</li>
<li data-line="1">一致性</li>
<li data-line="2">隔离性</li>
<li data-line="3">持久性</li>
</ol></div><div><pre class="language-go" tabindex="0"><code class="language-go is-loaded"><span class="token keyword">func</span> <span class="token function">insertTx</span><span class="token punctuation">(</span>username <span class="token builtin">string</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
	tx<span class="token punctuation">,</span> err <span class="token operator">:=</span> DB<span class="token punctuation">.</span><span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"开启事务错误:"</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	ret<span class="token punctuation">,</span> err <span class="token operator">:=</span> tx<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token string">"insert into user (username,sex,email) values (?,?,?)"</span><span class="token punctuation">,</span> username<span class="token punctuation">,</span> <span class="token string">"man"</span><span class="token punctuation">,</span> <span class="token string">"test@mszlu.com"</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"事务sql执行出错:"</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	id<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> ret<span class="token punctuation">.</span><span class="token function">LastInsertId</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"插入成功:"</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span>
	<span class="token keyword">if</span> username <span class="token operator">==</span> <span class="token string">"lisi"</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"回滚..."</span><span class="token punctuation">)</span>
		<span class="token boolean">_</span> <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">Rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token boolean">_</span> <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">Commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token string">``</span><span class="token string">`&gt;)


### ▶　Redis

安装：go get github. Com/go-redis/redis/v 8

`</span><span class="token string">``</span><span class="token keyword">go</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"context"</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"github.com/go-redis/redis/v8"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
	ctx <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	rdb <span class="token operator">:=</span> redis<span class="token punctuation">.</span><span class="token function">NewClient</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>redis<span class="token punctuation">.</span>Options<span class="token punctuation">{</span>
		Addr<span class="token punctuation">:</span>	  <span class="token string">"localhost:6379"</span><span class="token punctuation">,</span>
		Password<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token comment">// no password set</span>
		DB<span class="token punctuation">:</span>		  <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token comment">// use default DB</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

	err <span class="token operator">:=</span> rdb<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token string">"key"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	val<span class="token punctuation">,</span> err <span class="token operator">:=</span> rdb<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Result</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span>

	val2<span class="token punctuation">,</span> err <span class="token operator">:=</span> rdb<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token string">"key2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Result</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">==</span> redis<span class="token punctuation">.</span>Nil <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"key2 does not exist"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"key2"</span><span class="token punctuation">,</span> val2<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button">复制</button></pre></div></div></div></div></div><div class="heading-wrapper"><h3 data-heading="▶　redis" class="heading" id="▶　redis"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>▶　redis</h3><div class="heading-children"></div></div></div></div><div class="heading-wrapper"><h2 data-heading="十一、其他特殊用法" class="heading" id="十一、其他特殊用法"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>十一、其他特殊用法</h2><div class="heading-children"><div class="heading-wrapper"><h3 data-heading="一）设置环境执行" class="heading" id="一）设置环境执行"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>一）设置环境执行</h3><div class="heading-children"><div><p>同一个文件中定义了两个同名的函数分别在不同操作系统下实现，Go语言会根据当前编译的操作系统自动选择相应的函数实现，不需要开发者手动指定。</p></div><div><p>此外，还可以使用<code>// +build</code>标记来指定不同平台编译的文件，这种方式更加灵活，但需要手动编写标记，具体可查看Go语言官方文档的相关说明。</p></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="附录" class="heading" id="附录"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>附录</h2><div class="heading-children"><div><p><a data-tooltip-position="top" aria-label="https://www.baidu.com/link?url=Wb3BbPlZndKfQHAPSOSdebvled1c5jjF1wdwB9EbRw-hq1gk--Qz0L7GlBXh3W9WI3BJjLCzouluCGGLK-P74_&amp;wd=&amp;eqid=c155631e000330a20000000665aba15d" rel="noopener" class="external-link" href="https://www.baidu.com/link?url=Wb3BbPlZndKfQHAPSOSdebvled1c5jjF1wdwB9EbRw-hq1gk--Qz0L7GlBXh3W9WI3BJjLCzouluCGGLK-P74_&amp;wd=&amp;eqid=c155631e000330a20000000665aba15d" target="_blank">笔记来源</a></p></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#101、Go语言基础2"><div class="tree-item-contents heading-link" heading-name="101、Go语言基础2"><span class="tree-item-title">101、Go语言基础2</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#二、Go_基础语法"><div class="tree-item-contents heading-link" heading-name="二、Go 基础语法"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">二、Go 基础语法</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#零）基本规范"><div class="tree-item-contents heading-link" heading-name="零）基本规范"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">零）基本规范</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#1、注释"><div class="tree-item-contents heading-link" heading-name="1、注释"><span class="tree-item-title">1、注释</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#2、关键字_&amp;_标志符"><div class="tree-item-contents heading-link" heading-name="2、关键字 &amp; 标志符"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">2、关键字 &amp; 标志符</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　关键字"><div class="tree-item-contents heading-link" heading-name="○　关键字"><span class="tree-item-title">○　关键字</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　预定义标识符"><div class="tree-item-contents heading-link" heading-name="○　预定义标识符"><span class="tree-item-title">○　预定义标识符</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#一）变量常量"><div class="tree-item-contents heading-link" heading-name="一）变量常量"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">一）变量常量</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#1、变量声明"><div class="tree-item-contents heading-link" heading-name="1、变量声明"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1、变量声明</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　标准格式"><div class="tree-item-contents heading-link" heading-name="○　标准格式"><span class="tree-item-title">○　标准格式</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　批量声明"><div class="tree-item-contents heading-link" heading-name="○　批量声明"><span class="tree-item-title">○　批量声明</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#2、初始化变量"><div class="tree-item-contents heading-link" heading-name="2、初始化变量"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">2、初始化变量</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　不指明变量类型（需赋值）"><div class="tree-item-contents heading-link" heading-name="○　不指明变量类型（需赋值）"><span class="tree-item-title">○　不指明变量类型（需赋值）</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　简短格式（需赋值_+_局部）"><div class="tree-item-contents heading-link" heading-name="○　简短格式（需赋值 + 局部）"><span class="tree-item-title">○　简短格式（需赋值 + 局部）</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　短格式变量重复赋值"><div class="tree-item-contents heading-link" heading-name="○　短格式变量重复赋值"><span class="tree-item-title">○　短格式变量重复赋值</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　快捷变量交换"><div class="tree-item-contents heading-link" heading-name="○　快捷变量交换"><span class="tree-item-title">○　快捷变量交换</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#3、匿名变量"><div class="tree-item-contents heading-link" heading-name="3、匿名变量"><span class="tree-item-title">3、匿名变量</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#4、变量作用域"><div class="tree-item-contents heading-link" heading-name="4、变量作用域"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">4、变量作用域</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　全局变量"><div class="tree-item-contents heading-link" heading-name="○　全局变量"><span class="tree-item-title">○　全局变量</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　局部变量"><div class="tree-item-contents heading-link" heading-name="○　局部变量"><span class="tree-item-title">○　局部变量</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　形式参数"><div class="tree-item-contents heading-link" heading-name="○　形式参数"><span class="tree-item-title">○　形式参数</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#5、变量的生命周期"><div class="tree-item-contents heading-link" heading-name="5、变量的生命周期"><span class="tree-item-title">5、变量的生命周期</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#6、常量"><div class="tree-item-contents heading-link" heading-name="6、常量"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">6、常量</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　iota_常量生成器"><div class="tree-item-contents heading-link" heading-name="○　iota 常量生成器"><span class="tree-item-title">○　iota 常量生成器</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#二）数据类型"><div class="tree-item-contents heading-link" heading-name="二）数据类型"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">二）数据类型</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#1、基本类型"><div class="tree-item-contents heading-link" heading-name="1、基本类型"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1、基本类型</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　整型"><div class="tree-item-contents heading-link" heading-name="○　整型"><span class="tree-item-title">○　整型</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　浮点型"><div class="tree-item-contents heading-link" heading-name="○　浮点型"><span class="tree-item-title">○　浮点型</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　布尔型"><div class="tree-item-contents heading-link" heading-name="○　布尔型"><span class="tree-item-title">○　布尔型</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　字符"><div class="tree-item-contents heading-link" heading-name="○　字符"><span class="tree-item-title">○　字符</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　字符串"><div class="tree-item-contents heading-link" heading-name="○　字符串"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">○　字符串</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　字符串不可变"><div class="tree-item-contents heading-link" heading-name="●　字符串不可变"><span class="tree-item-title">●　字符串不可变</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　字符串获取和比较"><div class="tree-item-contents heading-link" heading-name="●　字符串获取和比较"><span class="tree-item-title">●　字符串获取和比较</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　字符串拼接“+”"><div class="tree-item-contents heading-link" heading-name="●　字符串拼接“+”"><span class="tree-item-title">●　字符串拼接“+”</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　字符串输出"><div class="tree-item-contents heading-link" heading-name="●　字符串输出"><span class="tree-item-title">●　字符串输出</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#2、复杂类型"><div class="tree-item-contents heading-link" heading-name="2、复杂类型"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">2、复杂类型</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　指针"><div class="tree-item-contents heading-link" heading-name="○　指针"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">○　指针</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　如何理解指针"><div class="tree-item-contents heading-link" heading-name="●　如何理解指针"><span class="tree-item-title">●　如何理解指针</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　定义取值"><div class="tree-item-contents heading-link" heading-name="●　定义取值"><span class="tree-item-title">●　定义取值</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　使用指针修改值"><div class="tree-item-contents heading-link" heading-name="●　使用指针修改值"><span class="tree-item-title">●　使用指针修改值</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　创建指针的另一种方法"><div class="tree-item-contents heading-link" heading-name="●　创建指针的另一种方法"><span class="tree-item-title">●　创建指针的另一种方法</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　命令行参数取值"><div class="tree-item-contents heading-link" heading-name="●　命令行参数取值"><span class="tree-item-title">●　命令行参数取值</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　注意事项"><div class="tree-item-contents heading-link" heading-name="●　注意事项"><span class="tree-item-title">●　注意事项</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#3、类型转化"><div class="tree-item-contents heading-link" heading-name="3、类型转化"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">3、类型转化</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　注意事项"><div class="tree-item-contents heading-link" heading-name="○　注意事项"><span class="tree-item-title">○　注意事项</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　字符串与其他数据类型的转换"><div class="tree-item-contents heading-link" heading-name="○　字符串与其他数据类型的转换"><span class="tree-item-title">○　字符串与其他数据类型的转换</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#三）运算符"><div class="tree-item-contents heading-link" heading-name="三）运算符"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">三）运算符</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　算术运算符"><div class="tree-item-contents heading-link" heading-name="○　算术运算符"><span class="tree-item-title">○　算术运算符</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　赋值运算符"><div class="tree-item-contents heading-link" heading-name="○　赋值运算符"><span class="tree-item-title">○　赋值运算符</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　关系运算符"><div class="tree-item-contents heading-link" heading-name="○　关系运算符"><span class="tree-item-title">○　关系运算符</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　逻辑运算符"><div class="tree-item-contents heading-link" heading-name="○　逻辑运算符"><span class="tree-item-title">○　逻辑运算符</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　位运算符"><div class="tree-item-contents heading-link" heading-name="○　位运算符"><span class="tree-item-title">○　位运算符</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　其它运算符"><div class="tree-item-contents heading-link" heading-name="○　其它运算符"><span class="tree-item-title">○　其它运算符</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#四）流程控制"><div class="tree-item-contents heading-link" heading-name="四）流程控制"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">四）流程控制</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#1、分支结构"><div class="tree-item-contents heading-link" heading-name="1、分支结构"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1、分支结构</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　if"><div class="tree-item-contents heading-link" heading-name="○　if"><span class="tree-item-title">○　if</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　swich"><div class="tree-item-contents heading-link" heading-name="○　swich"><span class="tree-item-title">○　swich</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#2、循环结构"><div class="tree-item-contents heading-link" heading-name="2、循环结构"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">2、循环结构</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　for"><div class="tree-item-contents heading-link" heading-name="○　for"><span class="tree-item-title">○　for</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　结束循环的方式"><div class="tree-item-contents heading-link" heading-name="○　结束循环的方式"><span class="tree-item-title">○　结束循环的方式</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　循环优化"><div class="tree-item-contents heading-link" heading-name="○　循环优化"><span class="tree-item-title">○　循环优化</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#三、函数与过程"><div class="tree-item-contents heading-link" heading-name="三、函数与过程"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">三、函数与过程</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#1、函数定义"><div class="tree-item-contents heading-link" heading-name="1、函数定义"><span class="tree-item-title">1、函数定义</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#2、函数使用事项"><div class="tree-item-contents heading-link" heading-name="2、函数使用事项"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">2、函数使用事项</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　函数位置和顺序"><div class="tree-item-contents heading-link" heading-name="○　函数位置和顺序"><span class="tree-item-title">○　函数位置和顺序</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　函数不支持重载"><div class="tree-item-contents heading-link" heading-name="○　函数不支持重载"><span class="tree-item-title">○　函数不支持重载</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　函数也是一种数据类型"><div class="tree-item-contents heading-link" heading-name="○　函数也是一种数据类型"><span class="tree-item-title">○　函数也是一种数据类型</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#3、参数"><div class="tree-item-contents heading-link" heading-name="3、参数"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">3、参数</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　参数传递"><div class="tree-item-contents heading-link" heading-name="○　参数传递"><span class="tree-item-title">○　参数传递</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　值传递"><div class="tree-item-contents heading-link" heading-name="●　值传递"><span class="tree-item-title">●　值传递</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　引用传递"><div class="tree-item-contents heading-link" heading-name="●　引用传递"><span class="tree-item-title">●　引用传递</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　不定参数（可变参数）"><div class="tree-item-contents heading-link" heading-name="○　不定参数（可变参数）"><span class="tree-item-title">○　不定参数（可变参数）</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　函数做为参数"><div class="tree-item-contents heading-link" heading-name="○　函数做为参数"><span class="tree-item-title">○　函数做为参数</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#4、返回值"><div class="tree-item-contents heading-link" heading-name="4、返回值"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">4、返回值</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　无返回值"><div class="tree-item-contents heading-link" heading-name="○　无返回值"><span class="tree-item-title">○　无返回值</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　多返回值"><div class="tree-item-contents heading-link" heading-name="○　多返回值"><span class="tree-item-title">○　多返回值</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　隐式返回"><div class="tree-item-contents heading-link" heading-name="○　隐式返回"><span class="tree-item-title">○　隐式返回</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　接收返回"><div class="tree-item-contents heading-link" heading-name="○　接收返回"><span class="tree-item-title">○　接收返回</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#5、Init_函数"><div class="tree-item-contents heading-link" heading-name="5、Init 函数"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">5、Init 函数</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　执行顺序"><div class="tree-item-contents heading-link" heading-name="○　执行顺序"><span class="tree-item-title">○　执行顺序</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#5、匿名函数"><div class="tree-item-contents heading-link" heading-name="5、匿名函数"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">5、匿名函数</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　函数变量"><div class="tree-item-contents heading-link" heading-name="○　函数变量"><span class="tree-item-title">○　函数变量</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　定义时调用"><div class="tree-item-contents heading-link" heading-name="○　定义时调用"><span class="tree-item-title">○　定义时调用</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　当做形参"><div class="tree-item-contents heading-link" heading-name="○　当做形参"><span class="tree-item-title">○　当做形参</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　当做返回"><div class="tree-item-contents heading-link" heading-name="○　当做返回"><span class="tree-item-title">○　当做返回</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#6、闭包"><div class="tree-item-contents heading-link" heading-name="6、闭包"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">6、闭包</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　使用注意"><div class="tree-item-contents heading-link" heading-name="○　使用注意"><span class="tree-item-title">○　使用注意</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#7、延迟调用"><div class="tree-item-contents heading-link" heading-name="7、延迟调用"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">7、延迟调用</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　使用注意"><div class="tree-item-contents heading-link" heading-name="○　使用注意"><span class="tree-item-title">○　使用注意</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　内存泄漏"><div class="tree-item-contents heading-link" heading-name="●　内存泄漏"><span class="tree-item-title">●　内存泄漏</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　拷贝入栈"><div class="tree-item-contents heading-link" heading-name="●　拷贝入栈"><span class="tree-item-title">●　拷贝入栈</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　闭包值不会变"><div class="tree-item-contents heading-link" heading-name="●　闭包值不会变"><span class="tree-item-title">●　闭包值不会变</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　和_Java_的_finally_对比"><div class="tree-item-contents heading-link" heading-name="○　和 Java 的 finally 对比"><span class="tree-item-title">○　和 Java 的 finally 对比</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#8、常见函数"><div class="tree-item-contents heading-link" heading-name="8、常见函数"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">8、常见函数</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　内置函数"><div class="tree-item-contents heading-link" heading-name="○　内置函数"><span class="tree-item-title">○　内置函数</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　字符串相关"><div class="tree-item-contents heading-link" heading-name="○　字符串相关"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">○　字符串相关</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　string_一些常用"><div class="tree-item-contents heading-link" heading-name="●　string 一些常用"><span class="tree-item-title">●　string 一些常用</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　字符串长度"><div class="tree-item-contents heading-link" heading-name="●　字符串长度"><span class="tree-item-title">●　字符串长度</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　遍历"><div class="tree-item-contents heading-link" heading-name="●　遍历"><span class="tree-item-title">●　遍历</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　字符串查找"><div class="tree-item-contents heading-link" heading-name="●　字符串查找"><span class="tree-item-title">●　字符串查找</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#●　修改字符串"><div class="tree-item-contents heading-link" heading-name="●　修改字符串"><span class="tree-item-title">●　修改字符串</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　日期相关"><div class="tree-item-contents heading-link" heading-name="○　日期相关"><span class="tree-item-title">○　日期相关</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#四、数据结构和处理"><div class="tree-item-contents heading-link" heading-name="四、数据结构和处理"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">四、数据结构和处理</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#一）数组"><div class="tree-item-contents heading-link" heading-name="一）数组"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">一）数组</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#1、定义声明"><div class="tree-item-contents heading-link" heading-name="1、定义声明"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1、定义声明</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　声明"><div class="tree-item-contents heading-link" heading-name="○　声明"><span class="tree-item-title">○　声明</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　赋值"><div class="tree-item-contents heading-link" heading-name="○　赋值"><span class="tree-item-title">○　赋值</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　取值"><div class="tree-item-contents heading-link" heading-name="○　取值"><span class="tree-item-title">○　取值</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　定义新类型"><div class="tree-item-contents heading-link" heading-name="○　定义新类型"><span class="tree-item-title">○　定义新类型</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#2、数组比较"><div class="tree-item-contents heading-link" heading-name="2、数组比较"><span class="tree-item-title">2、数组比较</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#3、多维数组"><div class="tree-item-contents heading-link" heading-name="3、多维数组"><span class="tree-item-title">3、多维数组</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#二）切片"><div class="tree-item-contents heading-link" heading-name="二）切片"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">二）切片</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#1、数组转切片"><div class="tree-item-contents heading-link" heading-name="1、数组转切片"><span class="tree-item-title">1、数组转切片</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#2、声明切片"><div class="tree-item-contents heading-link" heading-name="2、声明切片"><span class="tree-item-title">2、声明切片</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#3、使用_make_()_函数构造切片"><div class="tree-item-contents heading-link" heading-name="3、使用 make () 函数构造切片"><span class="tree-item-title">3、使用 make () 函数构造切片</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#4、切片特性"><div class="tree-item-contents heading-link" heading-name="4、切片特性"><span class="tree-item-title">4、切片特性</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#5、切片复制"><div class="tree-item-contents heading-link" heading-name="5、切片复制"><span class="tree-item-title">5、切片复制</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#三）Map"><div class="tree-item-contents heading-link" heading-name="三）Map"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">三）Map</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#1、声明"><div class="tree-item-contents heading-link" heading-name="1、声明"><span class="tree-item-title">1、声明</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#2、make_创建"><div class="tree-item-contents heading-link" heading-name="2、make 创建"><span class="tree-item-title">2、make 创建</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#3、使用_Map"><div class="tree-item-contents heading-link" heading-name="3、使用 Map"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">3、使用 Map</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　遍历"><div class="tree-item-contents heading-link" heading-name="○　遍历"><span class="tree-item-title">○　遍历</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　删除"><div class="tree-item-contents heading-link" heading-name="○　删除"><span class="tree-item-title">○　删除</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#4、线程安全的_map"><div class="tree-item-contents heading-link" heading-name="4、线程安全的 map"><span class="tree-item-title">4、线程安全的 map</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#四）零值_nil"><div class="tree-item-contents heading-link" heading-name="四）零值 nil"><span class="tree-item-title">四）零值 nil</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#五）New_和_make"><div class="tree-item-contents heading-link" heading-name="五）New 和 make"><span class="tree-item-title">五）New 和 make</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#五、面向对象"><div class="tree-item-contents heading-link" heading-name="五、面向对象"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">五、面向对象</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#1、结构体"><div class="tree-item-contents heading-link" heading-name="1、结构体"><span class="tree-item-title">1、结构体</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　实例化"><div class="tree-item-contents heading-link" heading-name="○　实例化"><span class="tree-item-title">○　实例化</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　匿名结构体"><div class="tree-item-contents heading-link" heading-name="○　匿名结构体"><span class="tree-item-title">○　匿名结构体</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#2、结构体方法"><div class="tree-item-contents heading-link" heading-name="2、结构体方法"><span class="tree-item-title">2、结构体方法</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#3、接收器"><div class="tree-item-contents heading-link" heading-name="3、接收器"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">3、接收器</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　二维矢量模拟玩家移动"><div class="tree-item-contents heading-link" heading-name="○　二维矢量模拟玩家移动"><span class="tree-item-title">○　二维矢量模拟玩家移动</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#4、匿名字段"><div class="tree-item-contents heading-link" heading-name="4、匿名字段"><span class="tree-item-title">4、匿名字段</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#5、接口"><div class="tree-item-contents heading-link" heading-name="5、接口"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">5、接口</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　接口定义"><div class="tree-item-contents heading-link" heading-name="○　接口定义"><span class="tree-item-title">○　接口定义</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　接口实现条件"><div class="tree-item-contents heading-link" heading-name="○　接口实现条件"><span class="tree-item-title">○　接口实现条件</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　类型与接口的关系"><div class="tree-item-contents heading-link" heading-name="○　类型与接口的关系"><span class="tree-item-title">○　类型与接口的关系</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#6、空接口"><div class="tree-item-contents heading-link" heading-name="6、空接口"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">6、空接口</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　空接口的应用"><div class="tree-item-contents heading-link" heading-name="○　空接口的应用"><span class="tree-item-title">○　空接口的应用</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#○　类型断言"><div class="tree-item-contents heading-link" heading-name="○　类型断言"><span class="tree-item-title">○　类型断言</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#六、异常处理"><div class="tree-item-contents heading-link" heading-name="六、异常处理"><span class="tree-item-title">六、异常处理</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#七、文件操作"><div class="tree-item-contents heading-link" heading-name="七、文件操作"><span class="tree-item-title">七、文件操作</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#八、网络编程"><div class="tree-item-contents heading-link" heading-name="八、网络编程"><span class="tree-item-title">八、网络编程</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#九、包管理"><div class="tree-item-contents heading-link" heading-name="九、包管理"><span class="tree-item-title">九、包管理</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#十、对接其他组件"><div class="tree-item-contents heading-link" heading-name="十、对接其他组件"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">十、对接其他组件</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#▶　mysql"><div class="tree-item-contents heading-link" heading-name="▶　mysql"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">▶　mysql</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#Insert_操作](<####_68.2_insert操作"><div class="tree-item-contents heading-link" heading-name="Insert 操作](<#### 68.2 insert操作"><span class="tree-item-title">Insert 操作](&lt;#### 68.2 insert操作</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#68.3_Select操作"><div class="tree-item-contents heading-link" heading-name="68.3 Select操作"><span class="tree-item-title">68.3 Select操作</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#68.4_Update"><div class="tree-item-contents heading-link" heading-name="68.4 Update"><span class="tree-item-title">68.4 Update</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#68.5_Delete"><div class="tree-item-contents heading-link" heading-name="68.5 Delete"><span class="tree-item-title">68.5 Delete</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#68.6_事务"><div class="tree-item-contents heading-link" heading-name="68.6 事务"><span class="tree-item-title">68.6 事务</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#▶　redis"><div class="tree-item-contents heading-link" heading-name="▶　redis"><span class="tree-item-title">▶　redis</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#十一、其他特殊用法"><div class="tree-item-contents heading-link" heading-name="十一、其他特殊用法"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">十一、其他特殊用法</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#一）设置环境执行"><div class="tree-item-contents heading-link" heading-name="一）设置环境执行"><span class="tree-item-title">一）设置环境执行</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="02、多编程语言\03、go语言\01、go语言基础\101、go语言基础2.html#附录"><div class="tree-item-contents heading-link" heading-name="附录"><span class="tree-item-title">附录</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>